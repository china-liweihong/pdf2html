function InfoBubble(t){this.extend(InfoBubble,google.maps.OverlayView),this.tabs_=[],this.activeTab_=null,this.baseZIndex_=100,this.isOpen_=!1;var e=t||{};void 0==e.backgroundColor&&(e.backgroundColor=this.BACKGROUND_COLOR_),void 0==e.borderColor&&(e.borderColor=this.BORDER_COLOR_),void 0==e.borderRadius&&(e.borderRadius=this.BORDER_RADIUS_),void 0==e.borderWidth&&(e.borderWidth=this.BORDER_WIDTH_),void 0==e.padding&&(e.padding=this.PADDING_),void 0==e.arrowPosition&&(e.arrowPosition=this.ARROW_POSITION_),void 0==e.disableAutoPan&&(e.disableAutoPan=!1),void 0==e.disableAnimation&&(e.disableAnimation=!1),void 0==e.minWidth&&(e.minWidth=this.MIN_WIDTH_),void 0==e.shadowStyle&&(e.shadowStyle=this.SHADOW_STYLE_),void 0==e.arrowSize&&(e.arrowSize=this.ARROW_SIZE_),void 0==e.arrowStyle&&(e.arrowStyle=this.ARROW_STYLE_),this.buildDom_(),this.setValues(e)}window.Modernizr=function(t,e,n){function i(t){f.cssText=t}function o(t,e){return typeof t===e}function r(){u.input=function(n){for(var i=0,o=n.length;o>i;i++)b[n[i]]=n[i]in g;return b.list&&(b.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),u.inputtypes=function(t){for(var i,o,r,a=0,s=t.length;s>a;a++)g.setAttribute("type",o=t[a]),i="text"!==g.type,i&&(g.value=m,g.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&g.style.WebkitAppearance!==n?(c.appendChild(g),r=e.defaultView,i=r.getComputedStyle&&"textfield"!==r.getComputedStyle(g,null).WebkitAppearance&&0!==g.offsetHeight,c.removeChild(g)):/^(search|tel)$/.test(o)||(i=/^(url|email)$/.test(o)?g.checkValidity&&g.checkValidity()===!1:g.value!=m)),v[t[a]]=!!i;return v}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var a,s,l="2.6.2",u={},h=!0,c=e.documentElement,p="modernizr",d=e.createElement(p),f=d.style,g=e.createElement("input"),m=":)",y=({}.toString,{}),v={},b={},w=[],_=w.slice,x={}.hasOwnProperty;s=o(x,"undefined")||o(x.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return x.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=_.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,a=e.apply(r,n.concat(_.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(_.call(arguments)))};return i});for(var S in y)s(y,S)&&(a=S.toLowerCase(),u[a]=y[S](),w.push((u[a]?"":"no-")+a));return u.input||r(),u.addTest=function(t,e){if("object"==typeof t)for(var i in t)s(t,i)&&u.addTest(i,t[i]);else{if(t=t.toLowerCase(),u[t]!==n)return u;e="function"==typeof e?e():e,"undefined"!=typeof h&&h&&(c.className+=" "+(e?"":"no-")+t),u[t]=e}return u},i(""),d=g=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=m[t[f]];return e||(e={},g++,t[f]=g,m[g]=e),e}function r(t,n,i){if(n||(n=e),h)return n.createElement(t);i||(i=o(n));var r;return r=i.cache[t]?i.cache[t].cloneNode():d.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),r.canHaveChildren&&!p.test(t)?i.frag.appendChild(r):r}function a(t,n){if(t||(t=e),h)return t.createDocumentFragment();n=n||o(t);for(var r=n.frag.cloneNode(),a=0,s=i(),l=s.length;l>a;a++)r.createElement(s[a]);return r}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?r(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var i=o(t);return y.shivCSS&&!u&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),h||s(t,i),t}var u,h,c=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,h=!0}}();var y={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:h,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:a};t.html5=y,l(e)}(this,e),u._version=l,c.className=c.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+w.join(" "):""),u}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==m.call(t)}function o(t){return"string"==typeof t}function r(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=y.shift();v=1,t?t.t?f(function(){("c"==t.t?p.injectCss:p.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):v=0}function l(t,n,i,o,r,l,u){function h(e){if(!d&&a(c.readyState)&&(b.r=d=1,!v&&s(),c.onload=c.onreadystatechange=null,e)){"img"!=t&&f(function(){_.removeChild(c)},50);for(var i in T[n])T[n].hasOwnProperty(i)&&T[n][i].onload()}}var u=u||p.errorTimeout,c=e.createElement(t),d=0,m=0,b={t:i,s:n,e:r,a:l,x:u};1===T[n]&&(m=1,T[n]=[]),"object"==t?c.data=n:(c.src=n,c.type=t),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){h.call(this,m)},y.splice(o,0,b),"img"!=t&&(m||2===T[n]?(_.insertBefore(c,w?null:g),f(h,u)):T[n].push(c))}function u(t,e,n,i,r){return v=0,e=e||"j",o(t)?l("c"==e?S:x,t,e,this.i++,n,i,r):(y.splice(this.i++,0,t),1==y.length&&s()),this}function h(){var t=p;return t.loader={load:u,i:0},t}var c,p,d=e.documentElement,f=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,y=[],v=0,b="MozAppearance"in d.style,w=b&&!!e.createRange().compareNode,_=w?d:g.parentNode,d=t.opera&&"[object Opera]"==m.call(t.opera),d=!!e.attachEvent&&!d,x=b?"object":d?"script":"img",S=d?"script":x,k=Array.isArray||function(t){return"[object Array]"==m.call(t)},C=[],T={},$={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};p=function(t){function e(t){var e,n,i,t=t.split("!"),o=C.length,r=t.pop(),a=t.length,r={url:r,origUrl:r,prefixes:t};for(n=0;a>n;n++)i=t[n].split("="),(e=$[i.shift()])&&(r=e(r,i));for(n=0;o>n;n++)r=C[n](r);return r}function a(t,o,r,a,s){var l=e(t),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=i(o)?o:o[t]||o[a]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,r,a,s):(T[l.url]?l.noexec=!0:T[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(o)||i(u))&&r.load(function(){h(),o&&o(l.origUrl,s,a),u&&u(l.origUrl,s,a),T[l.url]=2})))}function s(t,e){function n(t,n){if(t){if(o(t))n||(c=function(){var t=[].slice.call(arguments);p.apply(this,t),d()}),a(t,c,e,0,u);else if(Object(t)===t)for(l in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--s&&(i(c)?c=function(){var t=[].slice.call(arguments);p.apply(this,t),d()}:c[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(p[l])),a(t[l],c,e,l,u))}else!n&&d()}var s,l,u=!!t.test,h=t.load||t.both,c=t.callback||r,p=c,d=t.complete||r;n(u?t.yep:t.nope,!!h),h&&n(h)}var l,u,c=this.yepnope.loader;if(o(t))a(t,0,c,0);else if(k(t))for(l=0;l<t.length;l++)u=t[l],o(u)?a(u,0,c,0):k(u)?p(u):Object(u)===u&&s(u,c);else Object(t)===t&&s(t,c)},p.addPrefix=function(t,e){$[t]=e},p.addFilter=function(t){C.push(t)},p.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",c=function(){e.removeEventListener("DOMContentLoaded",c,0),e.readyState="complete"},0)),t.yepnope=h(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,i,o,l,u){var h,c,d=e.createElement("script"),o=o||p.errorTimeout;d.src=t;for(c in i)d.setAttribute(c,i[c]);n=u?s:n||r,d.onreadystatechange=d.onload=function(){!h&&a(d.readyState)&&(h=1,n(),d.onload=d.onreadystatechange=null)},f(function(){h||(h=1,n(1))},o),l?d.onload():g.parentNode.insertBefore(d,g)},t.yepnope.injectCss=function(t,n,i,o,a,l){var u,o=e.createElement("link"),n=l?s:n||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(u in i)o.setAttribute(u,i[u]);a||(g.parentNode.insertBefore(o,g),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function(t,e){function n(t){var e=t.length,n=he.type(t);return he.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=Ce[t]={};return he.each(t.match(pe)||[],function(t,n){e[n]=!0}),e}function o(t,n,i,o){if(he.acceptData(t)){var r,a,s=he.expando,l=t.nodeType,u=l?he.cache:t,h=l?t[s]:t[s]&&s;if(h&&u[h]&&(o||u[h].data)||i!==e||"string"!=typeof n)return h||(h=l?t[s]=ee.pop()||he.guid++:s),u[h]||(u[h]=l?{}:{toJSON:he.noop}),("object"==typeof n||"function"==typeof n)&&(o?u[h]=he.extend(u[h],n):u[h].data=he.extend(u[h].data,n)),a=u[h],o||(a.data||(a.data={}),a=a.data),i!==e&&(a[he.camelCase(n)]=i),"string"==typeof n?(r=a[n],null==r&&(r=a[he.camelCase(n)])):r=a,r}}function r(t,e,n){if(he.acceptData(t)){var i,o,r=t.nodeType,a=r?he.cache:t,l=r?t[he.expando]:he.expando;if(a[l]){if(e&&(i=n?a[l]:a[l].data)){he.isArray(e)?e=e.concat(he.map(e,he.camelCase)):e in i?e=[e]:(e=he.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!s(i):!he.isEmptyObject(i))return}(n||(delete a[l].data,s(a[l])))&&(r?he.cleanData([t],!0):he.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,n,i){if(i===e&&1===t.nodeType){var o="data-"+n.replace($e,"-$1").toLowerCase();if(i=t.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Te.test(i)?he.parseJSON(i):i}catch(r){}he.data(t,n,i)}else i=e}return i}function s(t){var e;for(e in t)if(("data"!==e||!he.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function u(){return!1}function h(){try{return J.activeElement}catch(t){}}function c(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function p(t,e,n){if(he.isFunction(e))return he.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return he.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(je.test(e))return he.filter(e,t,n);e=he.filter(e,t)}return he.grep(t,function(t){return he.inArray(t,e)>=0!==n})}function d(t){var e=Ve.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){return he.nodeName(t,"table")&&he.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==he.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=rn.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)he._data(n,"globalEval",!e||he._data(e[i],"globalEval"))}function v(t,e){if(1===e.nodeType&&he.hasData(t)){var n,i,o,r=he._data(t),a=he._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)he.event.add(e,n,s[n][i])}a.data&&(a.data=he.extend({},a.data))}}function b(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!he.support.noCloneEvent&&e[he.expando]){o=he._data(e);for(i in o.events)he.removeEvent(e,i,o.handle);e.removeAttribute(he.expando)}"script"===n&&e.text!==t.text?(g(e).text=t.text,m(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),he.support.html5Clone&&t.innerHTML&&!he.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function w(t,n){var i,o,r=0,a=typeof t.getElementsByTagName!==Q?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==Q?t.querySelectorAll(n||"*"):e;if(!a)for(a=[],i=t.childNodes||t;null!=(o=i[r]);r++)!n||he.nodeName(o,n)?a.push(o):he.merge(a,w(o,n));return n===e||n&&he.nodeName(t,n)?he.merge([t],a):a}function _(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function x(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=Cn.length;o--;)if(e=Cn[o]+n,e in t)return e;return i}function S(t,e){return t=e||t,"none"===he.css(t,"display")||!he.contains(t.ownerDocument,t)}function k(t,e){for(var n,i,o,r=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(r[a]=he._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&S(i)&&(r[a]=he._data(i,"olddisplay",E(i.nodeName)))):r[a]||(o=S(i),(n&&"none"!==n||!o)&&he._data(i,"olddisplay",o?n:he.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function C(t,e,n){var i=vn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function T(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=he.css(t,n+kn[r],!0,o)),i?("content"===n&&(a-=he.css(t,"padding"+kn[r],!0,o)),"margin"!==n&&(a-=he.css(t,"border"+kn[r]+"Width",!0,o))):(a+=he.css(t,"padding"+kn[r],!0,o),"padding"!==n&&(a+=he.css(t,"border"+kn[r]+"Width",!0,o)));return a}function $(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=cn(t),a=he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=pn(t,e,r),(0>o||null==o)&&(o=t.style[e]),bn.test(o))return o;i=a&&(he.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+T(t,e,n||(a?"border":"content"),i,r)+"px"}function E(t){var e=J,n=_n[t];return n||(n=I(t,e),"none"!==n&&n||(hn=(hn||he("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(hn[0].contentWindow||hn[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=I(t,e),hn.detach()),_n[t]=n),n}function I(t,e){var n=he(e.createElement(t)).appendTo(e.body),i=he.css(n[0],"display");return n.remove(),i}function A(t,e,n,i){var o;if(he.isArray(e))he.each(e,function(e,o){n||$n.test(t)?i(t,o):A(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==he.type(e))i(t,e);else for(o in e)A(t+"["+o+"]",e[o],n,i)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(pe)||[];if(he.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function L(t,e,n,i){function o(s){var l;return r[s]=!0,he.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var r={},a=t===qn;return o(e.dataTypes[0])||!r["*"]&&o("*")}function M(t,n){var i,o,r=he.ajaxSettings.flatOptions||{};for(o in n)n[o]!==e&&((r[o]?t:i||(i={}))[o]=n[o]);return i&&he.extend(!0,t,i),t}function H(t,n,i){for(var o,r,a,s,l=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),r===e&&(r=t.mimeType||n.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){u.unshift(s);break}if(u[0]in i)a=u[0];else{for(s in i){if(!u[0]||t.converters[s+" "+u[0]]){a=s;break}o||(o=s)}a=a||o}return a?(a!==u[0]&&u.unshift(a),i[a]):void 0}function R(t,e,n,i){var o,r,a,s,l,u={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(r=h.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=u[l+" "+r]||u["* "+r],!a)for(o in u)if(s=o.split(" "),s[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(r=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function N(){try{return new t.XMLHttpRequest}catch(e){}}function W(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function B(){return setTimeout(function(){Kn=e}),Kn=he.now()}function D(t,e,n){for(var i,o=(ri[e]||[]).concat(ri["*"]),r=0,a=o.length;a>r;r++)if(i=o[r].call(n,e,t))return i}function O(t,e,n){var i,o,r=0,a=oi.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Kn||B(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,r=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(r);return s.notifyWith(t,[u,r,n]),1>r&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kn||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=he.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),h=u.props;for(F(h,u.opts.specialEasing);a>r;r++)if(i=oi[r].call(u,t,h,u.opts))return i;return he.map(h,D,u),he.isFunction(u.opts.start)&&u.opts.start.call(t,u),he.fx.timer(he.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(t,e){var n,i,o,r,a;for(n in t)if(i=he.camelCase(n),o=e[i],r=t[n],he.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),a=he.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function j(t,e,n){var i,o,r,a,s,l,u=this,h={},c=t.style,p=t.nodeType&&S(t),d=he._data(t,"fxshow");n.queue||(s=he._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],"inline"===he.css(t,"display")&&"none"===he.css(t,"float")&&(he.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?c.zoom=1:c.display="inline-block")),n.overflow&&(c.overflow="hidden",he.support.shrinkWrapBlocks||u.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],ei.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show"))continue;h[i]=d&&d[i]||he.style(t,i)}if(!he.isEmptyObject(h)){d?"hidden"in d&&(p=d.hidden):d=he._data(t,"fxshow",{}),r&&(d.hidden=!p),p?he(t).show():u.done(function(){he(t).hide()}),u.done(function(){var e;he._removeData(t,"fxshow");for(e in h)he.style(t,e,h[e])});for(i in h)a=D(p?d[i]:0,i,u),i in d||(d[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function z(t,e,n,i,o){return new z.prototype.init(t,e,n,i,o)}function q(t,e){var n,i={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)n=kn[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function G(t){return he.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V,U,Q=typeof e,Z=t.location,J=t.document,X=J.documentElement,Y=t.jQuery,K=t.$,te={},ee=[],ne="1.10.2",ie=ee.concat,oe=ee.push,re=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ue=ne.trim,he=function(t,e){return new he.fn.init(t,e,U)},ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=/\S+/g,de=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ye=/(?:^|:|,)(?:\s*\[)+/g,ve=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,we=/^-ms-/,_e=/-([\da-z])/gi,xe=function(t,e){return e.toUpperCase()},Se=function(t){(J.addEventListener||"load"===t.type||"complete"===J.readyState)&&(ke(),he.ready())},ke=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Se,!1),t.removeEventListener("load",Se,!1)):(J.detachEvent("onreadystatechange",Se),t.detachEvent("onload",Se))};he.fn=he.prototype={jquery:ne,constructor:he,init:function(t,n,i){var o,r;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(o[1]){if(n=n instanceof he?n[0]:n,he.merge(this,he.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),ge.test(o[1])&&he.isPlainObject(n))for(o in n)he.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(r=J.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(t);this.length=1,this[0]=r}return this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):he.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),he.makeArray(t,this))},selector:"",length:0,toArray:function(){return re.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=he.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return he.each(this,t,e)},ready:function(t){return he.ready.promise().done(t),this},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(he.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},he.fn.init.prototype=he.fn,he.extend=he.fn.extend=function(){var t,n,i,o,r,a,s=arguments[0]||{},l=1,u=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[1]||{},l=2),"object"==typeof s||he.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(r=arguments[l]))for(o in r)t=s[o],i=r[o],s!==i&&(h&&i&&(he.isPlainObject(i)||(n=he.isArray(i)))?(n?(n=!1,a=t&&he.isArray(t)?t:[]):a=t&&he.isPlainObject(t)?t:{},s[o]=he.extend(h,a,i)):i!==e&&(s[o]=i));return s},he.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===he&&(t.$=K),e&&t.jQuery===he&&(t.jQuery=Y),he},isReady:!1,readyWait:1,holdReady:function(t){t?he.readyWait++:he.ready(!0)},ready:function(t){if(t===!0?!--he.readyWait:!he.isReady){if(!J.body)return setTimeout(he.ready);he.isReady=!0,t!==!0&&--he.readyWait>0||(V.resolveWith(J,[he]),he.fn.trigger&&he(J).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===he.type(t)},isArray:Array.isArray||function(t){return"array"===he.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==he.type(t)||t.nodeType||he.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(he.support.ownLast)for(n in t)return le.call(t,n);for(n in t);return n===e||le.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=ge.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=he.buildFragment([t],e,o),o&&he(o).remove(),he.merge([],i.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=he.trim(e),e&&me.test(e.replace(ve,"@").replace(be,"]").replace(ye,"")))?new Function("return "+e)():void he.error("Invalid JSON: "+e)},parseXML:function(n){var i,o;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&he.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(we,"ms-").replace(_e,xe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,r=0,a=t.length,s=n(t);if(i){if(s)for(;a>r&&(o=e.apply(t[r],i),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],i),o===!1)break}else if(s)for(;a>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:ue&&!ue.call("\ufeff\xa0")?function(t){return null==t?"":ue.call(t)}:function(t){return null==t?"":(t+"").replace(de,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?he.merge(i,"string"==typeof t?[t]:t):oe.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(ae)return ae.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,o=t.length,r=0;if("number"==typeof i)for(;i>r;r++)t[o++]=n[r];else for(;n[r]!==e;)t[o++]=n[r++];return t.length=o,t},grep:function(t,e,n){var i,o=[],r=0,a=t.length;for(n=!!n;a>r;r++)i=!!e(t[r],r),n!==i&&o.push(t[r]);return o},map:function(t,e,i){var o,r=0,a=t.length,s=n(t),l=[];if(s)for(;a>r;r++)o=e(t[r],r,i),null!=o&&(l[l.length]=o);else for(r in t)o=e(t[r],r,i),null!=o&&(l[l.length]=o);return ie.apply([],l)},guid:1,proxy:function(t,n){var i,o,r;return"string"==typeof n&&(r=t[n],n=t,t=r),he.isFunction(t)?(i=re.call(arguments,2),o=function(){return t.apply(n||this,i.concat(re.call(arguments)))},o.guid=t.guid=t.guid||he.guid++,o):e},access:function(t,n,i,o,r,a,s){var l=0,u=t.length,h=null==i;if("object"===he.type(i)){r=!0;for(l in i)he.access(t,n,l,i[l],!0,a,s)}else if(o!==e&&(r=!0,he.isFunction(o)||(s=!0),h&&(s?(n.call(t,o),n=null):(h=n,n=function(t,e,n){return h.call(he(t),n)})),n))for(;u>l;l++)n(t[l],i,s?o:o.call(t[l],l,n(t[l],i)));return r?t:h?n.call(t):u?n(t[0],i):a},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=a[r];return o}}),he.ready.promise=function(e){if(!V)if(V=he.Deferred(),"complete"===J.readyState)setTimeout(he.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Se,!1),t.addEventListener("load",Se,!1);else{J.attachEvent("onreadystatechange",Se),t.attachEvent("onload",Se);var n=!1;try{n=null==t.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!he.isReady){try{n.doScroll("left")}catch(t){return setTimeout(o,50)}ke(),he.ready()}}()}return V.promise(e)},he.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),U=he(J),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(t,e){function n(t,e,n,i){var o,r,a,s,l,u,h,c,f,g;if((e?e.ownerDocument||e:O)!==L&&P(e),e=e||L,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(H&&!i){if(o=be.exec(t))if(a=o[1]){if(9===s){if(r=e.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&B(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return te.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&S.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(a)),n}if(S.qsa&&(!R||!R.test(t))){if(c=h=D,f=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=p(t),(h=e.getAttribute("id"))?c=h.replace(xe,"\\$&"):e.setAttribute("id",c),c="[id='"+c+"'] ",l=u.length;l--;)u[l]=c+d(u[l]);f=de.test(t)&&e.parentNode||e,g=u.join(",")}if(g)try{return te.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return _(t.replace(ue,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>C.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function o(t){return t[D]=!0,t}function r(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function h(t){return o(function(e){return e=+e,o(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function c(){}function p(t,e){var i,o,r,a,s,l,u,h=q[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],u=C.preFilter;s;){(!i||(o=ce.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=pe.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ue," ")}),s=s.slice(i.length));for(a in C.filter)!(o=ye[a].exec(s))||u[a]&&!(o=u[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return e?s.length:s?n.error(t):q(t,l).slice(0)}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=j++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,u,h=F+" "+r;if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(u=e[D]||(e[D]={}),(l=u[i])&&l[0]===h){if((s=l[1])===!0||s===k)return s===!0}else if(l=u[i]=[h],l[1]=t(e,n,a)||k,l[1]===!0)return!0}}function g(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(r=t[s])&&(!n||n(r,i,o))&&(a.push(r),u&&e.push(s));return a}function y(t,e,n,i,r,a){return i&&!i[D]&&(i=y(i)),r&&!r[D]&&(r=y(r,a)),o(function(o,a,s,l){var u,h,c,p=[],d=[],f=a.length,g=o||w(e||"*",s.nodeType?[s]:s,[]),y=!t||!o&&e?g:m(g,p,t,s,l),v=n?r||(o?t:f||i)?[]:a:y;if(n&&n(y,v,s,l),i)for(u=m(v,d),i(u,[],s,l),h=u.length;h--;)(c=u[h])&&(v[d[h]]=!(y[d[h]]=c));if(o){if(r||t){if(r){for(u=[],h=v.length;h--;)(c=v[h])&&u.push(y[h]=c);r(null,v=[],u,l)}for(h=v.length;h--;)(c=v[h])&&(u=r?ne.call(o,c):p[h])>-1&&(o[u]=!(a[u]=c))}}else v=m(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):te.apply(a,v)})}function v(t){for(var e,n,i,o=t.length,r=C.relative[t[0].type],a=r||C.relative[" "],s=r?1:0,l=f(function(t){return t===e},a,!0),u=f(function(t){return ne.call(e,t)>-1},a,!0),h=[function(t,n,i){return!r&&(i||n!==I)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];o>s;s++)if(n=C.relative[t[s].type])h=[f(g(h),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[D]){for(i=++s;o>i&&!C.relative[t[i].type];i++);return y(s>1&&g(h),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,i>s&&v(t.slice(s,i)),o>i&&v(t=t.slice(i)),o>i&&d(t))}h.push(n)}return g(h)}function b(t,e){var i=0,r=e.length>0,a=t.length>0,s=function(o,s,l,u,h){var c,p,d,f=[],g=0,y="0",v=o&&[],b=null!=h,w=I,_=o||a&&C.find.TAG("*",h&&s.parentNode||s),x=F+=null==w?1:Math.random()||.1;for(b&&(I=s!==L&&s,k=i);null!=(c=_[y]);y++){if(a&&c){for(p=0;d=t[p++];)if(d(c,s,l)){u.push(c);break}b&&(F=x,k=++i)}r&&((c=!d&&c)&&g--,o&&v.push(c))}if(g+=y,r&&y!==g){for(p=0;d=e[p++];)d(v,f,s,l);if(o){if(g>0)for(;y--;)v[y]||f[y]||(f[y]=Y.call(u));f=m(f)}te.apply(u,f),b&&!o&&f.length>0&&g+e.length>1&&n.uniqueSort(u)}return b&&(F=x,I=w),v};return r?o(s):s}function w(t,e,i){for(var o=0,r=e.length;r>o;o++)n(t,e[o],i);return i}function _(t,e,n,i){var o,r,a,s,l,u=p(t);if(!i&&1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&S.getById&&9===e.nodeType&&H&&C.relative[r[1].type]){if(e=(C.find.ID(a.matches[0].replace(Se,ke),e)||[])[0],!e)return n;t=t.slice(r.shift().value.length)}for(o=ye.needsContext.test(t)?0:r.length;o--&&(a=r[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(Se,ke),de.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),t=i.length&&d(r),!t)return te.apply(n,i),n;break}}return E(t,u)(i,e,!H,n,de.test(t)),n}var x,S,k,C,T,$,E,I,A,P,L,M,H,R,N,W,B,D="sizzle"+-new Date,O=t.document,F=0,j=0,z=i(),q=i(),G=i(),V=!1,U=function(t,e){return t===e?(V=!0,0):0},Q=typeof e,Z=1<<31,J={}.hasOwnProperty,X=[],Y=X.pop,K=X.push,te=X.push,ee=X.slice,ne=X.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=re.replace("w","w#"),se="\\["+oe+"*("+re+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+oe+"*\\]",le=":("+re+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ue=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ce=new RegExp("^"+oe+"*,"+oe+"*"),pe=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),de=new RegExp(oe+"*[+~]"),fe=new RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),ge=new RegExp(le),me=new RegExp("^"+ae+"$"),ye={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,xe=/'|\\/g,Se=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),ke=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{te.apply(X=ee.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(Ce){te={apply:X.length?function(t,e){K.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}$=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},S=n.support={},P=n.setDocument=function(t){var e=t?t.ownerDocument||t:O,n=e.defaultView;return e!==L&&9===e.nodeType&&e.documentElement?(L=e,M=e.documentElement,H=!$(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){P()}),S.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=r(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),S.getById=r(function(t){return M.appendChild(t).id=D,!e.getElementsByName||!e.getElementsByName(D).length}),S.getById?(C.find.ID=function(t,e){if(typeof e.getElementById!==Q&&H){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(Se,ke);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(Se,ke);return function(t){var n=typeof t.getAttributeNode!==Q&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=S.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Q?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=S.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Q&&H?e.getElementsByClassName(t):void 0},N=[],R=[],(S.qsa=ve.test(e.querySelectorAll))&&(r(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||R.push("\\["+oe+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||R.push(":checked")}),r(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&R.push("[*^$]="+oe+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(S.matchesSelector=ve.test(W=M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){S.disconnectedMatch=W.call(t,"div"),W.call(t,"[s!='']:x"),N.push("!=",le)}),R=R.length&&new RegExp(R.join("|")),N=N.length&&new RegExp(N.join("|")),B=ve.test(M.contains)||M.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=M.compareDocumentPosition?function(t,n){if(t===n)return V=!0,0;var i=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return i?1&i||!S.sortDetached&&n.compareDocumentPosition(t)===i?t===e||B(O,t)?-1:n===e||B(O,n)?1:A?ne.call(A,t)-ne.call(A,n):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var i,o=0,r=t.parentNode,a=n.parentNode,l=[t],u=[n];if(t===n)return V=!0,0;if(!r||!a)return t===e?-1:n===e?1:r?-1:a?1:A?ne.call(A,t)-ne.call(A,n):0;if(r===a)return s(t,n);for(i=t;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)u.unshift(i);for(;l[o]===u[o];)o++;return o?s(l[o],u[o]):l[o]===O?-1:u[o]===O?1:0},e):L},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==L&&P(t),e=e.replace(fe,"='$1']"),!(!S.matchesSelector||!H||N&&N.test(e)||R&&R.test(e)))try{var i=W.call(t,e);if(i||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return n(e,L,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==L&&P(t),B(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==L&&P(t);var i=C.attrHandle[n.toLowerCase()],o=i&&J.call(C.attrHandle,n.toLowerCase())?i(t,n,!H):e;return o===e?S.attributes||!H?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,o=0;if(V=!S.detectDuplicates,A=!S.sortStable&&t.slice(0),t.sort(U),V){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return t},T=n.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i];i++)n+=T(e);return n},C=n.selectors={cacheLength:50,createPseudo:o,match:ye,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Se,ke),t[3]=(t[4]||t[5]||"").replace(Se,ke),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ye.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&ge.test(i)&&(n=p(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Se,ke).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+oe+")"+t+"("+oe+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Q&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(o){var r=n.attr(o,t);return null==r?"!="===e:e?(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r+" ").indexOf(i)>-1:"|="===e?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,h,c,p,d,f,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!l&&!s;if(m){if(r){for(;g;){for(c=e;c=c[g];)if(s?c.nodeName.toLowerCase()===y:1===c.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&v){for(h=m[D]||(m[D]={}),u=h[t]||[],d=u[0]===F&&u[1],p=u[0]===F&&u[2],c=d&&m.childNodes[d];c=++d&&c&&c[g]||(p=d=0)||f.pop();)if(1===c.nodeType&&++p&&c===e){h[t]=[F,d,p];break}}else if(v&&(u=(e[D]||(e[D]={}))[t])&&u[0]===F)p=u[1];else for(;(c=++d&&c&&c[g]||(p=d=0)||f.pop())&&((s?c.nodeName.toLowerCase()!==y:1!==c.nodeType)||!++p||(v&&((c[D]||(c[D]={}))[t]=[F,p]),c!==e)););return p-=o,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(t,e){var i,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[D]?r(e):r.length>1?(i=[t,t,"",e],C.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)i=ne.call(t,o[a]),t[i]=!(n[i]=o[a])}):function(t){return r(t,0,i)}):r}},pseudos:{not:o(function(t){var e=[],n=[],i=E(t.replace(ue,"$1"));return i[D]?o(function(t,e,n,o){for(var r,a=i(t,null,o,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,o,r){return e[0]=t,i(e,null,r,n),!n.pop()}}),has:o(function(t){return function(e){return n(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:o(function(t){return me.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(Se,ke).toLowerCase(),function(e){var n;do if(n=H?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return we.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[0>n?n+e:n]}),even:h(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:h(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=u(x);c.prototype=C.filters=C.pseudos,C.setFilters=new c,E=n.compile=function(t,e){var n,i=[],o=[],r=G[t+" "];if(!r){for(e||(e=p(t)),n=e.length;n--;)r=v(e[n]),r[D]?i.push(r):o.push(r);r=G(t,b(o,i))}return r},S.sortStable=D.split("").sort(U).join("")===D,S.detectDuplicates=V,P(),S.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||a(ie,function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}),he.find=n,he.expr=n.selectors,he.expr[":"]=he.expr.pseudos,he.unique=n.uniqueSort,he.text=n.getText,he.isXMLDoc=n.isXML,he.contains=n.contains}(t);var Ce={};he.Callbacks=function(t){t="string"==typeof t?Ce[t]||i(t):he.extend({},t);var n,o,r,a,s,l,u=[],h=!t.once&&[],c=function(e){for(o=t.memory&&e,r=!0,s=l||0,l=0,a=u.length,n=!0;u&&a>s;s++)if(u[s].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}n=!1,u&&(h?h.length&&c(h.shift()):o?u=[]:p.disable())},p={add:function(){if(u){var e=u.length;!function i(e){he.each(e,function(e,n){var o=he.type(n);"function"===o?t.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),n?a=u.length:o&&(l=e,c(o))}return this},remove:function(){return u&&he.each(arguments,function(t,e){for(var i;(i=he.inArray(e,u,i))>-1;)u.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(t){return t?he.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=h=o=e,this},disabled:function(){return!u},lock:function(){return h=e,o||p.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!u||r&&!h||(e=e||[],e=[t,e.slice?e.slice():e],n?h.push(e):c(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},he.extend({Deferred:function(t){var e=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return he.Deferred(function(n){he.each(e,function(e,r){var a=r[0],s=he.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&he.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?he.extend(t,i):i}},o={};return i.pipe=i.then,he.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=re.call(arguments),a=r.length,s=1!==a||t&&he.isFunction(t.promise)?a:0,l=1===s?t:he.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?re.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)r[o]&&he.isFunction(r[o].promise)?r[o].promise().done(u(o,i,r)).fail(l.reject).progress(u(o,n,e)):--s;return s||l.resolveWith(i,r),l.promise()}}),he.support=function(e){var n,i,o,r,a,s,l,u,h,c=J.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=c.getElementsByTagName("*")||[],i=c.getElementsByTagName("a")[0],!i||!i.style||!n.length)return e;r=J.createElement("select"),s=r.appendChild(J.createElement("option")),o=c.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==c.className,e.leadingWhitespace=3===c.firstChild.nodeType,e.tbody=!c.getElementsByTagName("tbody").length,e.htmlSerialize=!!c.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!o.value,e.optSelected=s.selected,e.enctype=!!J.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled;try{delete c.test}catch(p){e.deleteExpando=!1}o=J.createElement("input"),o.setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=J.createDocumentFragment(),a.appendChild(o),e.appendChecked=o.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent&&(c.attachEvent("onclick",function(){e.noCloneEvent=!1}),c.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})c.setAttribute(l="on"+h,"t"),e[h+"Bubbles"]=l in t||c.attributes[l].expando===!1;c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===c.style.backgroundClip;for(h in he(e))break;return e.ownLast="0"!==h,he(function(){var n,i,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=J.getElementsByTagName("body")[0];a&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=c.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=u&&0===o[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",he.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===c.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(c,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(c,null)||{width:"4px"}).width,i=c.appendChild(J.createElement("div")),i.style.cssText=c.style.cssText=r,i.style.marginRight=i.style.width="0",c.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof c.style.zoom!==Q&&(c.innerHTML="",c.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==c.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=c=o=i=null)}),n=r=a=s=i=o=null,e}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,$e=/([A-Z])/g;he.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?he.cache[t[he.expando]]:t[he.expando],!!t&&!s(t)},data:function(t,e,n){return o(t,e,n)},removeData:function(t,e){return r(t,e)},_data:function(t,e,n){return o(t,e,n,!0)},_removeData:function(t,e){return r(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&he.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),he.fn.extend({data:function(t,n){var i,o,r=null,s=0,l=this[0];if(t===e){if(this.length&&(r=he.data(l),1===l.nodeType&&!he._data(l,"parsedAttrs"))){for(i=l.attributes;s<i.length;s++)o=i[s].name,0===o.indexOf("data-")&&(o=he.camelCase(o.slice(5)),a(l,o,r[o]));he._data(l,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){he.data(this,t)}):arguments.length>1?this.each(function(){he.data(this,t,n)}):l?a(l,t,he.data(l,t)):null},removeData:function(t){return this.each(function(){he.removeData(this,t)})}}),he.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=he._data(t,e),n&&(!i||he.isArray(n)?i=he._data(t,e,he.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=he.queue(t,e),i=n.length,o=n.shift(),r=he._queueHooks(t,e),a=function(){he.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return he._data(t,n)||he._data(t,n,{empty:he.Callbacks("once memory").add(function(){he._removeData(t,e+"queue"),he._removeData(t,n)})})}}),he.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?he.queue(this[0],t):n===e?this:this.each(function(){var e=he.queue(this,t,n);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(t){return this.each(function(){he.dequeue(this,t)})},delay:function(t,e){return t=he.fx?he.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,o=1,r=he.Deferred(),a=this,s=this.length,l=function(){--o||r.resolveWith(a,[a])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)i=he._data(a[s],t+"queueHooks"),i&&i.empty&&(o++,i.empty.add(l));return l(),r.promise(n)}});var Ee,Ie,Ae=/[\t\r\n\f]/g,Pe=/\r/g,Le=/^(?:input|select|textarea|button|object)$/i,Me=/^(?:a|area)$/i,He=/^(?:checked|selected)$/i,Re=he.support.getSetAttribute,Ne=he.support.input;he.fn.extend({attr:function(t,e){return he.access(this,he.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){he.removeAttr(this,t)})},prop:function(t,e){return he.access(this,he.prop,t,e,arguments.length>1)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,o,r,a=0,s=this.length,l="string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(pe)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=he.trim(i)}return this},removeClass:function(t){var e,n,i,o,r,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(pe)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=t?he.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(he.isFunction(t)?function(n){he(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,o=he(this),r=t.match(pe)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===Q||"boolean"===n)&&(this.className&&he._data(this,"__className__",this.className),this.className=this.className||t===!1?"":he._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ae," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,o,r=this[0];{if(arguments.length)return o=he.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=o?t.call(this,n,he(this).val()):t,null==r?r="":"number"==typeof r?r+="":he.isArray(r)&&(r=he.map(r,function(t){return null==t?"":t+""})),i=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==e||(this.value=r))});if(r)return i=he.valHooks[r.type]||he.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==e?n:(n=r.value,"string"==typeof n?n.replace(Pe,""):null==n?"":n)}}}),he.extend({valHooks:{option:{get:function(t){var e=he.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==o||(he.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&he.nodeName(n.parentNode,"optgroup"))){if(e=he(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=he.makeArray(e),a=o.length;a--;)i=o[a],(i.selected=he.inArray(he(i).val(),r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}},attr:function(t,n,i){var o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===Q?he.prop(t,n,i):(1===a&&he.isXMLDoc(t)||(n=n.toLowerCase(),o=he.attrHooks[n]||(he.expr.match.bool.test(n)?Ie:Ee)),i===e?o&&"get"in o&&null!==(r=o.get(t,n))?r:(r=he.find.attr(t,n),null==r?e:r):null!==i?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:(t.setAttribute(n,i+""),i):void he.removeAttr(t,n))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(pe);if(r&&1===t.nodeType)for(;n=r[o++];)i=he.propFix[n]||n,he.expr.match.bool.test(n)?Ne&&Re||!He.test(n)?t[i]=!1:t[he.camelCase("default-"+n)]=t[i]=!1:he.attr(t,n,""),t.removeAttribute(Re?n:i)},attrHooks:{type:{set:function(t,e){if(!he.support.radioValue&&"radio"===e&&he.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var o,r,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!he.isXMLDoc(t),a&&(n=he.propFix[n]||n,r=he.propHooks[n]),i!==e?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:t[n]=i:r&&"get"in r&&null!==(o=r.get(t,n))?o:t[n]},propHooks:{tabIndex:{get:function(t){var e=he.find.attr(t,"tabindex");return e?parseInt(e,10):Le.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}}}),Ie={set:function(t,e,n){return e===!1?he.removeAttr(t,n):Ne&&Re||!He.test(n)?t.setAttribute(!Re&&he.propFix[n]||n,n):t[he.camelCase("default-"+n)]=t[n]=!0,n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(t,n){var i=he.expr.attrHandle[n]||he.find.attr;he.expr.attrHandle[n]=Ne&&Re||!He.test(n)?function(t,n,o){var r=he.expr.attrHandle[n],a=o?e:(he.expr.attrHandle[n]=e)!=i(t,n,o)?n.toLowerCase():null;return he.expr.attrHandle[n]=r,a}:function(t,n,i){return i?e:t[he.camelCase("default-"+n)]?n.toLowerCase():null}}),Ne&&Re||(he.attrHooks.value={set:function(t,e,n){return he.nodeName(t,"input")?void(t.defaultValue=e):Ee&&Ee.set(t,e,n)}}),Re||(Ee={set:function(t,n,i){var o=t.getAttributeNode(i);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(i)),o.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},he.expr.attrHandle.id=he.expr.attrHandle.name=he.expr.attrHandle.coords=function(t,n,i){var o;return i?e:(o=t.getAttributeNode(n))&&""!==o.value?o.value:null},he.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&i.specified?i.value:e},set:Ee.set},he.attrHooks.contenteditable={set:function(t,e,n){Ee.set(t,""===e?!1:e,n)}},he.each(["width","height"],function(t,e){he.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),he.support.hrefNormalized||he.each(["href","src"],function(t,e){he.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),he.support.style||(he.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""
}}),he.support.optSelected||(he.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.support.enctype||(he.propFix.enctype="encoding"),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(t,e){return he.isArray(e)?t.checked=he.inArray(he(t).val(),e)>=0:void 0}},he.support.checkOn||(he.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var We=/^(?:input|select|textarea)$/i,Be=/^key/,De=/^(?:mouse|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;he.event={global:{},add:function(t,n,i,o,r){var a,s,l,u,h,c,p,d,f,g,m,y=he._data(t);if(y){for(i.handler&&(u=i,i=u.handler,r=u.selector),i.guid||(i.guid=he.guid++),(s=y.events)||(s=y.events={}),(c=y.handle)||(c=y.handle=function(t){return typeof he===Q||t&&he.event.triggered===t.type?e:he.event.dispatch.apply(c.elem,arguments)},c.elem=t),n=(n||"").match(pe)||[""],l=n.length;l--;)a=Fe.exec(n[l])||[],f=m=a[1],g=(a[2]||"").split(".").sort(),f&&(h=he.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=he.event.special[f]||{},p=he.extend({type:f,origType:m,data:o,handler:i,guid:i.guid,selector:r,needsContext:r&&he.expr.match.needsContext.test(r),namespace:g.join(".")},u),(d=s[f])||(d=s[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,o,g,c)!==!1||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),h.add&&(h.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,p):d.push(p),he.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,u,h,c,p,d,f,g,m=he.hasData(t)&&he._data(t);if(m&&(h=m.events)){for(e=(e||"").match(pe)||[""],u=e.length;u--;)if(s=Fe.exec(e[u])||[],d=g=s[1],f=(s[2]||"").split(".").sort(),d){for(c=he.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,p=h[d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,c.remove&&c.remove.call(t,a));l&&!p.length&&(c.teardown&&c.teardown.call(t,f,m.handle)!==!1||he.removeEvent(t,d,m.handle),delete h[d])}else for(d in h)he.event.remove(t,d+e[u],n,i,!0);he.isEmptyObject(h)&&(delete m.handle,he._removeData(t,"events"))}},trigger:function(n,i,o,r){var a,s,l,u,h,c,p,d=[o||J],f=le.call(n,"type")?n.type:n,g=le.call(n,"namespace")?n.namespace.split("."):[];if(l=c=o=o||J,3!==o.nodeType&&8!==o.nodeType&&!Oe.test(f+he.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,n=n[he.expando]?n:new he.Event(f,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=o),i=null==i?[n]:he.makeArray(i,[n]),h=he.event.special[f]||{},r||!h.trigger||h.trigger.apply(o,i)!==!1)){if(!r&&!h.noBubble&&!he.isWindow(o)){for(u=h.delegateType||f,Oe.test(u+f)||(l=l.parentNode);l;l=l.parentNode)d.push(l),c=l;c===(o.ownerDocument||J)&&d.push(c.defaultView||c.parentWindow||t)}for(p=0;(l=d[p++])&&!n.isPropagationStopped();)n.type=p>1?u:h.bindType||f,a=(he._data(l,"events")||{})[n.type]&&he._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&he.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!r&&!n.isDefaultPrevented()&&(!h._default||h._default.apply(d.pop(),i)===!1)&&he.acceptData(o)&&s&&o[f]&&!he.isWindow(o)){c=o[s],c&&(o[s]=null),he.event.triggered=f;try{o[f]()}catch(m){}he.event.triggered=e,c&&(o[s]=c)}return n.result}},dispatch:function(t){t=he.event.fix(t);var n,i,o,r,a,s=[],l=re.call(arguments),u=(he._data(this,"events")||{})[t.type]||[],h=he.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(s=he.event.handlers.call(this,t,u),n=0;(r=s[n++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,a=0;(o=r.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((he.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,o,r,a,s=[],l=n.delegateCount,u=t.target;if(l&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],a=0;l>a;a++)o=n[a],i=o.selector+" ",r[i]===e&&(r[i]=o.needsContext?he(i,this).index(u)>=0:he.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(t){if(t[he.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=De.test(o)?this.mouseHooks:Be.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new he.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=r.srcElement||J),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,o,r,a=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(o=t.target.ownerDocument||J,r=o.documentElement,i=o.body,t.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return he.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return he.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=he.extend(new he.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?he.event.trigger(o,null,e):he.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},he.removeEvent=J.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Q&&(t[i]=null),t.detachEvent(i,n))},he.Event=function(t,e){return this instanceof he.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:u):this.type=t,e&&he.extend(this,e),this.timeStamp=t&&t.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(t,e)},he.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){he.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==i&&!he.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),he.support.submitBubbles||(he.event.special.submit={setup:function(){return he.nodeName(this,"form")?!1:void he.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=he.nodeName(n,"input")||he.nodeName(n,"button")?n.form:e;i&&!he._data(i,"submitBubbles")&&(he.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),he._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&he.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return he.nodeName(this,"form")?!1:void he.event.remove(this,"._submit")}}),he.support.changeBubbles||(he.event.special.change={setup:function(){return We.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(he.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),he.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),he.event.simulate("change",this,t,!0)})),!1):void he.event.add(this,"beforeactivate._change",function(t){var e=t.target;We.test(e.nodeName)&&!he._data(e,"changeBubbles")&&(he.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||he.event.simulate("change",this.parentNode,t,!0)}),he._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return he.event.remove(this,"._change"),!We.test(this.nodeName)}}),he.support.focusinBubbles||he.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){he.event.simulate(e,t.target,he.event.fix(t),!0)};he.event.special[e]={setup:function(){0===n++&&J.addEventListener(t,i,!0)},teardown:function(){0===--n&&J.removeEventListener(t,i,!0)}}}),he.fn.extend({on:function(t,n,i,o,r){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(a in t)this.on(a,n,i,t[a],r);return this}if(null==i&&null==o?(o=n,i=n=e):null==o&&("string"==typeof n?(o=i,i=e):(o=i,i=n,n=e)),o===!1)o=u;else if(!o)return this;return 1===r&&(s=o,o=function(t){return he().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=he.guid++)),this.each(function(){he.event.add(this,t,o,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,he(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,n,t[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=u),this.each(function(){he.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){he.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?he.event.trigger(t,e,n,!0):void 0}});var je=/^.[^:#\[\.,]*$/,ze=/^(?:parents|prev(?:Until|All))/,qe=he.expr.match.needsContext,Ge={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(he(t).filter(function(){for(e=0;o>e;e++)if(he.contains(i[e],this))return!0}));for(e=0;o>e;e++)he.find(t,i[e],n);return n=this.pushStack(o>1?he.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=he(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(he.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(p(this,t||[],!0))},filter:function(t){return this.pushStack(p(this,t||[],!1))},is:function(t){return!!p(this,"string"==typeof t&&qe.test(t)?he(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=qe.test(t)||"string"!=typeof t?he(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,t))){n=r.push(n);break}return this.pushStack(r.length>1?he.unique(r):r)},index:function(t){return t?"string"==typeof t?he.inArray(this[0],he(t)):he.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?he(t,e):he.makeArray(t&&t.nodeType?[t]:t),i=he.merge(this.get(),n);return this.pushStack(he.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),he.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he.dir(t,"parentNode")},parentsUntil:function(t,e,n){return he.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return he.dir(t,"nextSibling")},prevAll:function(t){return he.dir(t,"previousSibling")},nextUntil:function(t,e,n){return he.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return he.dir(t,"previousSibling",n)},siblings:function(t){return he.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return he.sibling(t.firstChild)},contents:function(t){return he.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:he.merge([],t.childNodes)}},function(t,e){he.fn[t]=function(n,i){var o=he.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=he.filter(i,o)),this.length>1&&(Ge[t]||(o=he.unique(o)),ze.test(t)&&(o=o.reverse())),this.pushStack(o)}}),he.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?he.find.matchesSelector(i,t)?[i]:[]:he.find.matches(t,he.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var o=[],r=t[n];r&&9!==r.nodeType&&(i===e||1!==r.nodeType||!he(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ue=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+Ve+")[\\s/>]","i"),Ze=/^\s+/,Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xe=/<([\w:]+)/,Ye=/<tbody/i,Ke=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=d(J),un=ln.appendChild(J.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,he.fn.extend({text:function(t){return he.access(this,function(t){return t===e?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?he.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||he.cleanData(w(n)),n.parentNode&&(e&&he.contains(n.ownerDocument,n)&&y(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&he.cleanData(w(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&he.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return he.clone(this,t,e)})},html:function(t){return he.access(this,function(t){var n=this[0]||{},i=0,o=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(Ue,""):e;if(!("string"!=typeof t||tn.test(t)||!he.support.htmlSerialize&&Qe.test(t)||!he.support.leadingWhitespace&&Ze.test(t)||sn[(Xe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Je,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(he.cleanData(w(n,!1)),n.innerHTML=t);n=0}catch(r){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=he.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],o=t[e++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),he(this).remove(),o.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ie.apply([],t);var i,o,r,a,s,l,u=0,h=this.length,c=this,p=h-1,d=t[0],f=he.isFunction(d);if(f||!(1>=h||"string"!=typeof d||he.support.checkClone)&&nn.test(d))return this.each(function(i){var o=c.eq(i);f&&(t[0]=d.call(this,i,o.html())),o.domManip(t,e,n)});if(h&&(l=he.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=he.map(w(l,"script"),g),r=a.length;h>u;u++)o=l,u!==p&&(o=he.clone(o,!0,!0),r&&he.merge(a,w(o,"script"))),e.call(this[u],o,u);if(r)for(s=a[a.length-1].ownerDocument,he.map(a,m),u=0;r>u;u++)o=a[u],on.test(o.type||"")&&!he._data(o,"globalEval")&&he.contains(s,o)&&(o.src?he._evalUrl(o.src):he.globalEval((o.text||o.textContent||o.innerHTML||"").replace(an,"")));l=i=null}return this}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){he.fn[t]=function(t){for(var n,i=0,o=[],r=he(t),a=r.length-1;a>=i;i++)n=i===a?this:this.clone(!0),he(r[i])[e](n),oe.apply(o,n.get());return this.pushStack(o)}}),he.extend({clone:function(t,e,n){var i,o,r,a,s,l=he.contains(t.ownerDocument,t);if(he.support.html5Clone||he.isXMLDoc(t)||!Qe.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(un.innerHTML=t.outerHTML,un.removeChild(r=un.firstChild)),!(he.support.noCloneEvent&&he.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(i=w(r),s=w(t),a=0;null!=(o=s[a]);++a)i[a]&&b(o,i[a]);if(e)if(n)for(s=s||w(t),i=i||w(r),a=0;null!=(o=s[a]);a++)v(o,i[a]);else v(t,r);return i=w(r,"script"),i.length>0&&y(i,!l&&w(t,"script")),i=s=o=null,r},buildFragment:function(t,e,n,i){for(var o,r,a,s,l,u,h,c=t.length,p=d(e),f=[],g=0;c>g;g++)if(r=t[g],r||0===r)if("object"===he.type(r))he.merge(f,r.nodeType?[r]:r);else if(Ke.test(r)){for(s=s||p.appendChild(e.createElement("div")),l=(Xe.exec(r)||["",""])[1].toLowerCase(),h=sn[l]||sn._default,s.innerHTML=h[1]+r.replace(Je,"<$1></$2>")+h[2],o=h[0];o--;)s=s.lastChild;if(!he.support.leadingWhitespace&&Ze.test(r)&&f.push(e.createTextNode(Ze.exec(r)[0])),!he.support.tbody)for(r="table"!==l||Ye.test(r)?"<table>"!==h[1]||Ye.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)he.nodeName(u=r.childNodes[o],"tbody")&&!u.childNodes.length&&r.removeChild(u);for(he.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(e.createTextNode(r));for(s&&p.removeChild(s),he.support.appendChecked||he.grep(w(f,"input"),_),g=0;r=f[g++];)if((!i||-1===he.inArray(r,i))&&(a=he.contains(r.ownerDocument,r),s=w(p.appendChild(r),"script"),a&&y(s),n))for(o=0;r=s[o++];)on.test(r.type||"")&&n.push(r);return s=null,p},cleanData:function(t,e){for(var n,i,o,r,a=0,s=he.expando,l=he.cache,u=he.support.deleteExpando,h=he.event.special;null!=(n=t[a]);a++)if((e||he.acceptData(n))&&(o=n[s],r=o&&l[o])){if(r.events)for(i in r.events)h[i]?he.event.remove(n,i):he.removeEvent(n,i,r.handle);l[o]&&(delete l[o],u?delete n[s]:typeof n.removeAttribute!==Q?n.removeAttribute(s):n[s]=null,ee.push(o))}},_evalUrl:function(t){return he.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(he.isFunction(t)?function(e){he(this).wrapInner(t.call(this,e))}:function(){var e=he(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=he.isFunction(t);return this.each(function(n){he(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}});var hn,cn,pn,dn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=new RegExp("^("+ce+")(.*)$","i"),bn=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+ce+")","i"),_n={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},Sn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"];he.fn.extend({css:function(t,n){return he.access(this,function(t,n,i){var o,r,a={},s=0;if(he.isArray(n)){for(r=cn(t),o=n.length;o>s;s++)a[n[s]]=he.css(t,n[s],!1,r);return a}return i!==e?he.style(t,n,i):he.css(t,n)},t,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){S(this)?he(this).show():he(this).hide()})}}),he.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=pn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,s,l=he.camelCase(n),u=t.style;if(n=he.cssProps[l]||(he.cssProps[l]=x(u,l)),s=he.cssHooks[n]||he.cssHooks[l],i===e)return s&&"get"in s&&(r=s.get(t,!1,o))!==e?r:u[n];if(a=typeof i,"string"===a&&(r=wn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(he.css(t,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||he.cssNumber[l]||(i+="px"),he.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(i=s.set(t,i,o))===e)))try{u[n]=i}catch(h){}}},css:function(t,n,i,o){var r,a,s,l=he.camelCase(n);return n=he.cssProps[l]||(he.cssProps[l]=x(t.style,l)),s=he.cssHooks[n]||he.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,i)),a===e&&(a=pn(t,n,o)),"normal"===a&&n in Sn&&(a=Sn[n]),""===i||i?(r=parseFloat(a),i===!0||he.isNumeric(r)?r||0:a):a}}),t.getComputedStyle?(cn=function(e){return t.getComputedStyle(e,null)},pn=function(t,n,i){var o,r,a,s=i||cn(t),l=s?s.getPropertyValue(n)||s[n]:e,u=t.style;return s&&(""!==l||he.contains(t.ownerDocument,t)||(l=he.style(t,n)),bn.test(l)&&yn.test(n)&&(o=u.width,r=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=o,u.minWidth=r,u.maxWidth=a)),l}):J.documentElement.currentStyle&&(cn=function(t){return t.currentStyle},pn=function(t,n,i){var o,r,a,s=i||cn(t),l=s?s[n]:e,u=t.style;return null==l&&u&&u[n]&&(l=u[n]),bn.test(l)&&!gn.test(n)&&(o=u.left,r=t.runtimeStyle,a=r&&r.left,a&&(r.left=t.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=o,a&&(r.left=a)),""===l?"auto":l}),he.each(["height","width"],function(t,e){he.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&mn.test(he.css(t,"display"))?he.swap(t,xn,function(){return $(t,e,i)}):$(t,e,i):void 0},set:function(t,n,i){var o=i&&cn(t);return C(t,n,i?T(t,e,i,he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,o),o):0)}}}),he.support.opacity||(he.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=he.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===he.trim(r.replace(dn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=dn.test(r)?r.replace(dn,o):r+" "+o)}}),he(function(){he.support.reliableMarginRight||(he.cssHooks.marginRight={get:function(t,e){return e?he.swap(t,{display:"inline-block"},pn,[t,"marginRight"]):void 0}}),!he.support.pixelPosition&&he.fn.position&&he.each(["top","left"],function(t,e){he.cssHooks[e]={get:function(t,n){return n?(n=pn(t,e),bn.test(n)?he(t).position()[e]+"px":n):void 0}}})}),he.expr&&he.expr.filters&&(he.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!he.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||he.css(t,"display"))},he.expr.filters.visible=function(t){return!he.expr.filters.hidden(t)}),he.each({margin:"",padding:"",border:"Width"},function(t,e){he.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+kn[i]+e]=r[i]||r[i-2]||r[0];return o}},yn.test(t)||(he.cssHooks[t+e].set=C)});var Tn=/%20/g,$n=/\[\]$/,En=/\r?\n/g,In=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=he.prop(this,"elements");return t?he.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!he(this).is(":disabled")&&An.test(this.nodeName)&&!In.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),he.param=function(t,n){var i,o=[],r=function(t,e){e=he.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(t)||t.jquery&&!he.isPlainObject(t))he.each(t,function(){r(this.name,this.value)});else for(i in t)A(i,t[i],n,r);return o.join("&").replace(Tn,"+")},he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){he.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),he.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Pn,Ln,Mn=he.now(),Hn=/\?/,Rn=/#.*$/,Nn=/([?&])_=[^&]*/,Wn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Dn=/^(?:GET|HEAD)$/,On=/^\/\//,Fn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,jn=he.fn.load,zn={},qn={},Gn="*/".concat("*");try{Ln=Z.href}catch(Vn){Ln=J.createElement("a"),Ln.href="",Ln=Ln.href}Pn=Fn.exec(Ln.toLowerCase())||[],he.fn.load=function(t,n,i){if("string"!=typeof t&&jn)return jn.apply(this,arguments);var o,r,a,s=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),he.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(a="POST"),s.length>0&&he.ajax({url:t,type:a,dataType:"html",data:n}).done(function(t){r=arguments,s.html(o?he("<div>").append(he.parseHTML(t)).find(o):t)}).complete(i&&function(t,e){s.each(i,r||[t.responseText,e,t])}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){he.fn[e]=function(t){return this.on(e,t)}}),he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:Bn.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?M(M(t,he.ajaxSettings),e):M(he.ajaxSettings,t)},ajaxPrefilter:P(zn),ajaxTransport:P(qn),ajax:function(t,n){function i(t,n,i,o){var r,c,v,b,_,S=n;2!==w&&(w=2,l&&clearTimeout(l),h=e,s=o||"",x.readyState=t>0?4:0,r=t>=200&&300>t||304===t,i&&(b=H(p,x,i)),b=R(p,b,x,r),r?(p.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(he.lastModified[a]=_),_=x.getResponseHeader("etag"),_&&(he.etag[a]=_)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=b.state,c=b.data,v=b.error,r=!v)):(v=S,(t||!S)&&(S="error",0>t&&(t=0))),x.status=t,x.statusText=(n||S)+"",r?g.resolveWith(d,[c,S,x]):g.rejectWith(d,[x,S,v]),x.statusCode(y),y=e,u&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,p,r?c:v]),m.fireWith(d,[x,S]),u&&(f.trigger("ajaxComplete",[x,p]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var o,r,a,s,l,u,h,c,p=he.ajaxSetup({},n),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?he(d):he.event,g=he.Deferred(),m=he.Callbacks("once memory"),y=p.statusCode||{},v={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!c)for(c={};e=Wn.exec(s);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)y[e]=[y[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return h&&h.abort(e),i(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,p.url=((t||p.url||Ln)+"").replace(Rn,"").replace(On,Pn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=he.trim(p.dataType||"*").toLowerCase().match(pe)||[""],null==p.crossDomain&&(o=Fn.exec(p.url.toLowerCase()),p.crossDomain=!(!o||o[1]===Pn[1]&&o[2]===Pn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=he.param(p.data,p.traditional)),L(zn,p,n,x),2===w)return x;u=p.global,u&&0===he.active++&&he.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Dn.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(Hn.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Nn.test(a)?a.replace(Nn,"$1_="+Mn++):a+(Hn.test(a)?"&":"?")+"_="+Mn++)),p.ifModified&&(he.lastModified[a]&&x.setRequestHeader("If-Modified-Since",he.lastModified[a]),he.etag[a]&&x.setRequestHeader("If-None-Match",he.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Gn+"; q=0.01":""):p.accepts["*"]);for(r in p.headers)x.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(p.beforeSend.call(d,x,p)===!1||2===w))return x.abort();_="abort";for(r in{success:1,error:1,complete:1})x[r](p[r]);if(h=L(qn,p,n,x)){x.readyState=1,u&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,h.send(v,i)}catch(S){if(!(2>w))throw S;i(-1,S)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return he.get(t,e,n,"json")},getScript:function(t,n){return he.get(t,e,n,"script")}}),he.each(["get","post"],function(t,n){he[n]=function(t,i,o,r){return he.isFunction(i)&&(r=r||o,o=i,i=e),he.ajax({url:t,type:n,dataType:r,data:i,success:o})}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return he.globalEval(t),t}}}),he.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)
}),he.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=J.head||he("head")[0]||J.documentElement;return{send:function(e,o){n=J.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var Un=[],Qn=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Un.pop()||he.expando+"_"+Mn++;return this[t]=!0,t}}),he.ajaxPrefilter("json jsonp",function(n,i,o){var r,a,s,l=n.jsonp!==!1&&(Qn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=he.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Qn,"$1"+r):n.jsonp!==!1&&(n.url+=(Hn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return s||he.error(r+" was not called"),s[0]},n.dataTypes[0]="json",a=t[r],t[r]=function(){s=arguments},o.always(function(){t[r]=a,n[r]&&(n.jsonpCallback=i.jsonpCallback,Un.push(r)),s&&he.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Zn,Jn,Xn=0,Yn=t.ActiveXObject&&function(){var t;for(t in Zn)Zn[t](e,!0)};he.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&N()||W()}:N,Jn=he.ajaxSettings.xhr(),he.support.cors=!!Jn&&"withCredentials"in Jn,Jn=he.support.ajax=!!Jn,Jn&&he.ajaxTransport(function(n){if(!n.crossDomain||he.support.cors){var i;return{send:function(o,r){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(s in o)l.setRequestHeader(s,o[s])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(t,o){var s,u,h,c;try{if(i&&(o||4===l.readyState))if(i=e,a&&(l.onreadystatechange=he.noop,Yn&&delete Zn[a]),o)4!==l.readyState&&l.abort();else{c={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(c.text=l.responseText);try{h=l.statusText}catch(p){h=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(d){o||r(-1,d)}c&&r(s,h,c,u)},n.async?4===l.readyState?setTimeout(i):(a=++Xn,Yn&&(Zn||(Zn={},he(t).unload(Yn)),Zn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Kn,ti,ei=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),ii=/queueHooks$/,oi=[j],ri={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=ni.exec(e),r=o&&o[3]||(he.cssNumber[t]?"":"px"),a=(he.cssNumber[t]||"px"!==r&&+i)&&ni.exec(he.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do s=s||".5",a/=s,he.style(n.elem,t,a+r);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};he.Animation=he.extend(O,{tweener:function(t,e){he.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],ri[n]=ri[n]||[],ri[n].unshift(e)},prefilter:function(t,e){e?oi.unshift(t):oi.push(t)}}),he.Tween=z,z.prototype={constructor:z,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(he.cssNumber[n]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,n=z.propHooks[this.prop];return this.pos=e=this.options.duration?he.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=he.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){he.fx.step[t.prop]?he.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[he.cssProps[t.prop]]||he.cssHooks[t.prop])?he.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},he.each(["toggle","show","hide"],function(t,e){var n=he.fn[e];he.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(q(e,!0),t,i,o)}}),he.fn.extend({fadeTo:function(t,e,n,i){return this.filter(S).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=he.isEmptyObject(t),r=he.speed(e,n,i),a=function(){var e=O(this,he.extend({},t),r);(o||he._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,n,i){var o=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",r=he.timers,a=he._data(this);if(n)a[n]&&a[n].stop&&o(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&o(a[n]);for(n=r.length;n--;)r[n].elem!==this||null!=t&&r[n].queue!==t||(r[n].anim.stop(i),e=!1,r.splice(n,1));(e||!i)&&he.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=he._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=he.timers,a=i?i.length:0;for(n.finish=!0,he.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),he.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){he.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),he.speed=function(t,e,n){var i=t&&"object"==typeof t?he.extend({},t):{complete:n||!n&&e||he.isFunction(t)&&t,duration:t,easing:n&&e||e&&!he.isFunction(e)&&e};return i.duration=he.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in he.fx.speeds?he.fx.speeds[i.duration]:he.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){he.isFunction(i.old)&&i.old.call(this),i.queue&&he.dequeue(this,i.queue)},i},he.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},he.timers=[],he.fx=z.prototype.init,he.fx.tick=function(){var t,n=he.timers,i=0;for(Kn=he.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||he.fx.stop(),Kn=e},he.fx.timer=function(t){t()&&he.timers.push(t)&&he.fx.start()},he.fx.interval=13,he.fx.start=function(){ti||(ti=setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){clearInterval(ti),ti=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fx.step={},he.expr&&he.expr.filters&&(he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length}),he.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){he.offset.setOffset(this,t,e)});var n,i,o={top:0,left:0},r=this[0],a=r&&r.ownerDocument;if(a)return n=a.documentElement,he.contains(n,r)?(typeof r.getBoundingClientRect!==Q&&(o=r.getBoundingClientRect()),i=G(a),{top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},he.offset={setOffset:function(t,e,n){var i=he.css(t,"position");"static"===i&&(t.style.position="relative");var o,r,a=he(t),s=a.offset(),l=he.css(t,"top"),u=he.css(t,"left"),h=("absolute"===i||"fixed"===i)&&he.inArray("auto",[l,u])>-1,c={},p={};h?(p=a.position(),o=p.top,r=p.left):(o=parseFloat(l)||0,r=parseFloat(u)||0),he.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(c.top=e.top-s.top+o),null!=e.left&&(c.left=e.left-s.left+r),"using"in e?e.using.call(t,c):a.css(c)}},he.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===he.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),he.nodeName(t[0],"html")||(n=t.offset()),n.top+=he.css(t[0],"borderTopWidth",!0),n.left+=he.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-he.css(i,"marginTop",!0),left:e.left-n.left-he.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||X;t&&!he.nodeName(t,"html")&&"static"===he.css(t,"position");)t=t.offsetParent;return t||X})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);he.fn[t]=function(o){return he.access(this,function(t,o,r){var a=G(t);return r===e?a?n in a?a[n]:a.document.documentElement[o]:t[o]:void(a?a.scrollTo(i?he(a).scrollLeft():r,i?r:he(a).scrollTop()):t[o]=r)},t,o,arguments.length,null)}}),he.each({Height:"height",Width:"width"},function(t,n){he.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,o){he.fn[o]=function(o,r){var a=arguments.length&&(i||"boolean"!=typeof o),s=i||(o===!0||r===!0?"margin":"border");return he.access(this,function(n,i,o){var r;return he.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+t],r["scroll"+t],n.body["offset"+t],r["offset"+t],r["client"+t])):o===e?he.css(n,i,s):he.style(n,i,o,s)},n,a?o:e,a,null)}})}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=he:(t.jQuery=t.$=he,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var o,r,a,s,l,u,h,c;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===e?null:s,u=i.data("with-credentials")||null,h=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),r=i.attr("action"),a=i.serializeArray();var p=i.data("ujs:submit-button");p&&(a.push(p),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),a=i.data("params")||null);c={type:o||"GET",data:a,dataType:h,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[t,o])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},u&&(c.xhrFields={withCredentials:u}),r&&(c.url=r);var d=n.ajax(c);return i.trigger("ajax:send",d),d}return!1},handleMethod:function(i){var o=n.href(i),r=i.data("method"),a=i.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+o+'"></form>'),h='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&s!==e&&(h+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(h).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),o=!1;return i?(n.fire(t,"confirm")&&(o=n.confirm(i),e=n.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,n,i){var o,r,a=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!r==!i){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;a=a.add(o)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var o=t(this),r=o.data("method"),a=o.data("params");if(!n.allowAction(o))return n.stopEverything(i);if(o.is(n.linkDisableSelector)&&n.disableElement(o),o.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||r&&"GET"!==r||a))return!0;var s=n.handleRemote(o);return s===!1?n.enableElement(o):s.error(function(){n.enableElement(o)}),!1}return o.data("method")?(n.handleMethod(o),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o=t(this),r=o.data("remote")!==e,a=n.blankInputs(o,n.requiredInputSelector),s=n.nonBlankInputs(o,n.fileInputSelector);if(!n.allowAction(o))return n.stopEverything(i);if(a&&o.attr("novalidate")==e&&n.fire(o,"ajax:aborted:required",[a]))return n.stopEverything(i);if(r){if(s){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(t,e){function n(e,n){var o,r,a,s=e.nodeName.toLowerCase();return"area"===s?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(a=t("img[usemap=#"+r+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,o,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function o(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?s["inner"+i].call(this):this.each(function(){t(this).css(a,o(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(a,o(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n){var i,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<o.length;i++)t.options[o[i][0]]&&o[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return e[i]>0?!0:(e[i]=1,o=e[i]>0,e[i]=0,o)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(t,e){var n=0,i=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(r){}o(e)},t.widget=function(e,n,i){var o,r,a,s,l={},u=e.split(".")[0];e=e.split(".")[1],o=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},r=t[u][e],a=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()):void(l[e]=i)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix:e},l,{constructor:a,namespace:u,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(n){for(var o,r,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(o in a[s])r=a[s][o],a[s].hasOwnProperty(o)&&r!==e&&(n[o]=t.isPlainObject(r)?t.isPlainObject(n[o])?t.widget.extend({},n[o],r):t.widget.extend({},r):r);return n},t.widget.bridge=function(n,o){var r=o.prototype.widgetFullName||n;t.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),u=this;return a=!s&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,this.each(s?function(){var i,o=t.data(this,r);return o?t.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,l),i!==o&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}:function(){var e=t.data(this,r);e?e.option(a||{})._init():t.data(this,r,new o(a,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var o,r,a,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},o=n.split("."),n=o.shift(),o.length){for(r=s[n]=t.widget.extend({},this.options[n]),a=0;a<o.length-1;a++)r[o[a]]=r[o[a]]||{},r=r[o[a]];if(n=o.pop(),i===e)return r[n]===e?null:r[n];r[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,h=l[2];h?o.delegate(h,u,s):n.bind(u,s)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?o===!0||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}})}(jQuery),/*!
 * jQuery UI Position 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(t,e){function n(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function i(e,n){return parseInt(t.css(e,n),10)||0}function o(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,a=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,d=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(r!==e)return r;var n,i,o=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=o.children()[0];return t("body").append(o),n=a.offsetWidth,o.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=o[0].clientWidth),o.remove(),r=n-i},getScrollInfo:function(e){var n=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,r="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var r,d,g,m,y,v,b=t(e.of),w=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(w),x=(e.collision||"flip").split(" "),S={};return v=o(b),b[0].preventDefault&&(e.at="left top"),d=v.width,g=v.height,m=v.offset,y=t.extend({},m),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=c.exec(i[0]),n=c.exec(i[1]),S[this]=[t?t[0]:0,n?n[0]:0],e[this]=[p.exec(i[0])[0],p.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?y.left+=d:"center"===e.at[0]&&(y.left+=d/2),"bottom"===e.at[1]?y.top+=g:"center"===e.at[1]&&(y.top+=g/2),r=n(S.at,d,g),y.left+=r[0],y.top+=r[1],this.each(function(){var o,u,h=t(this),c=h.outerWidth(),p=h.outerHeight(),f=i(this,"marginLeft"),v=i(this,"marginTop"),k=c+f+i(this,"marginRight")+_.width,C=p+v+i(this,"marginBottom")+_.height,T=t.extend({},y),$=n(S.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?T.left-=c:"center"===e.my[0]&&(T.left-=c/2),"bottom"===e.my[1]?T.top-=p:"center"===e.my[1]&&(T.top-=p/2),T.left+=$[0],T.top+=$[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),o={marginLeft:f,marginTop:v},t.each(["left","top"],function(n,i){t.ui.position[x[n]]&&t.ui.position[x[n]][i](T,{targetWidth:d,targetHeight:g,elemWidth:c,elemHeight:p,collisionPosition:o,collisionWidth:k,collisionHeight:C,offset:[r[0]+$[0],r[1]+$[1]],my:e.my,at:e.at,within:w,elem:h})}),e.using&&(u=function(t){var n=m.left-T.left,i=n+d-c,o=m.top-T.top,r=o+g-p,l={target:{element:b,left:m.left,top:m.top,width:d,height:g},element:{element:h,left:T.left,top:T.top,width:c,height:p},horizontal:0>i?"left":n>0?"right":"center",vertical:0>r?"top":o>0?"bottom":"middle"};c>d&&s(n+i)<d&&(l.horizontal="center"),p>g&&s(o+r)<g&&(l.vertical="middle"),l.important=a(s(n),s(i))>a(s(o),s(r))?"horizontal":"vertical",e.using.call(this,t,l)}),h.offset(t.extend(T,{using:u}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,u=s+e.collisionWidth-r-o;e.collisionWidth>r?l>0&&0>=u?(n=t.left+l+e.collisionWidth-r-o,t.left+=l-n):t.left=u>0&&0>=l?o:l>u?o+r-e.collisionWidth:o:l>0?t.left+=l:u>0?t.left-=u:t.left=a(t.left-s,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,u=s+e.collisionHeight-r-o;e.collisionHeight>r?l>0&&0>=u?(n=t.top+l+e.collisionHeight-r-o,t.top+=l-n):t.top=u>0&&0>=l?o:l>u?o+r-e.collisionHeight:o:l>0?t.top+=l:u>0?t.top-=u:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=t.left-e.collisionPosition.marginLeft,h=u-l,c=u+e.collisionWidth-a-l,p="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(n=t.left+p+d+f+e.collisionWidth-a-r,(0>n||n<s(h))&&(t.left+=p+d+f)):c>0&&(i=t.left-e.collisionPosition.marginLeft+p+d+f-l,(i>0||s(i)<c)&&(t.left+=p+d+f))},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=t.top-e.collisionPosition.marginTop,h=u-l,c=u+e.collisionHeight-a-l,p="top"===e.my[1],d=p?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>h?(i=t.top+d+f+g+e.collisionHeight-a-r,t.top+d+f+g>h&&(0>i||i<s(h))&&(t.top+=d+f+g)):c>0&&(n=t.top-e.collisionPosition.marginTop+d+f+g-l,t.top+d+f+g>c&&(n>0||s(n)<c)&&(t.top+=d+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,o,r,a=document.getElementsByTagName("body")[0],s=document.createElement("div");e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)e.style[r]=i[r];e.appendChild(s),n=a||document.documentElement,n.insertBefore(e,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",o=t(s).offset().left,t.support.offsetFractions=o>10&&11>o,e.innerHTML="",n.removeChild(e)}()}(jQuery),/*!
 * jQuery UI Menu 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var n=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),n.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,o,r,a,s,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,o=this.previousFilter||"",r=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),r===o?a=!0:r=o+r,s=new RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())}),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),s=new RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())})),i.length?(this.focus(e,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev("a"),o=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(o),e.attr("aria-labelledby",i.attr("id"))}),e=i.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o,r,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.height(),0>o?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-o<0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+o>0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}})}(jQuery),/*!
 * jQuery UI Autocomplete 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,n,i,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,a="input"===o;this.isMultiLine=r?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[r||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:i})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,n=++e;return function(i){n===e&&t.__response(i),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<a>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Slider 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(n=i.values&&i.values.length||1,o.length>n&&(o.slice(n).remove(),o=o.slice(0,n)),e=o.length;n>e;e++)a.push(r);this.handles=o.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,o,r,a,s,l,u,h=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-h.values(e));(o>n||o===n&&(e===h._lastChangedValue||h.values(e)===c.min))&&(o=n,r=t(this),a=e)}),s=this._start(e,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,r.addClass("ui-state-active").focus(),l=r.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-r.width()/2,top:e.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),r=this._valueMin()+i*o,this._trimAlignValue(r)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,o,r;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&n>i||1===e&&i>n)&&(n=i),n!==this.values(e)&&(o=this.values(),o[e]=n,r=this._trigger("slide",t,{handle:this.handles[e],value:n,values:o}),i=this.values(e?0:1),r!==!1&&this.values(e,n,!0))):n!==this.value()&&(r=this._trigger("slide",t,{handle:this.handles[e],value:n}),r!==!1&&this.value(n))},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,o=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,n){var i,o=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;o>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,o,r,a=this.options.range,s=this.options,l=this,u=this._animateOff?!1:s.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](h,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),o=this._valueMin(),r=this._valueMax(),n=r!==o?(i-o)/(r-o)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](h,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(n){var i,o,r,a,s=t(n.target).data("ui-slider-handle-index");switch(n.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(n.target).addClass("ui-state-active"),i=this._start(n,s),i===!1))return}switch(a=this.options.step,o=r=this.options.values&&this.options.values.length?this.values(s):this.value(),n.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(o===this._valueMax())return;r=this._trimAlignValue(o+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(o===this._valueMin())return;r=this._trimAlignValue(o-a)}this._slide(n,s,r)},click:function(t){t.preventDefault()},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){t.fn.railsAutocomplete=function(){var e=function(){this.railsAutoCompleter||(this.railsAutoCompleter=new t.railsAutocomplete(this))};return void 0!==t.fn.on?t(document).on("focus",this.selector,e):this.live("focus",e)},t.railsAutocomplete=function(t){_e=t,this.init(_e)},t.railsAutocomplete.fn=t.railsAutocomplete.prototype={railsAutocomplete:"0.0.1"},t.railsAutocomplete.fn.extend=t.railsAutocomplete.extend=t.extend,t.railsAutocomplete.fn.extend({init:function(e){function n(t){return t.split(e.delimiter)}function i(t){return n(t).pop().replace(/^\s+/,"")}e.delimiter=t(e).attr("data-delimiter")||null,e.min_length=t(e).attr("min-length")||2,e.append_to=t(e).attr("data-append-to")||null,t(e).autocomplete({appendTo:e.append_to,source:function(n,o){params={term:i(n.term)},t(e).attr("data-autocomplete-fields")&&t.each(t.parseJSON(t(e).attr("data-autocomplete-fields")),function(e,n){params[e]=t(n).val()}),t.getJSON(t(e).attr("data-autocomplete"),params,function(){0==arguments[0].length&&(arguments[0]=[],arguments[0][0]={id:"",label:"no existing match"}),t(arguments[0]).each(function(n,i){var o={};o[i.id]=i,t(e).data(o)}),o.apply(null,arguments)})},change:function(e,n){if(t(this).is("[data-id-element]")&&""!=t(t(this).attr("data-id-element")).val()&&(t(t(this).attr("data-id-element")).val(n.item?n.item.id:""),t(this).attr("data-update-elements"))){var i=t.parseJSON(t(this).attr("data-update-elements")),o=n.item?t(this).data(n.item.id.toString()):{};if(i&&""==t(i.id).val())return;for(var r in i)element=t(i[r]),element.is(":checkbox")?null!=o[r]&&element.prop("checked",o[r]):element.val(n.item?o[r]:"")}},search:function(){var t=i(this.value);return t.length<e.min_length?!1:void 0},focus:function(){return!1},select:function(i,o){var r=n(this.value);if(r.pop(),r.push(o.item.value),null!=e.delimiter)r.push(""),this.value=r.join(e.delimiter);else if(this.value=r.join(""),t(this).attr("data-id-element")&&t(t(this).attr("data-id-element")).val(o.item.id),t(this).attr("data-update-elements")){var a=t(this).data(o.item.id.toString()),s=t.parseJSON(t(this).attr("data-update-elements"));for(var l in s)element=t(s[l]),element.is(":checkbox")?null!=a[l]&&element.prop("checked",a[l]):element.val(a[l])}var u=this.value;return t(this).bind("keyup.clearId",function(){t.trim(t(this).val())!=t.trim(u)&&(t(t(this).attr("data-id-element")).val(""),t(this).unbind("keyup.clearId"))}),t(e).trigger("railsAutocomplete.select",o),!1}})}}),t(document).ready(function(){t("input[data-autocomplete]").railsAutocomplete()})}(jQuery);/*!

 handlebars v1.3.0

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return s[t]||"&amp;"}function n(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function i(t){return t instanceof a?t.toString():t||0===t?(t=""+t,u.test(t)?t.replace(l,e):t):""}function o(t){return t||0===t?p(t)&&0===t.length?!0:!1:!0}var r={},a=t,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,u=/[&<>"'`]/;r.extend=n;var h=Object.prototype.toString;r.toString=h;var c=function(t){return"function"==typeof t};c(/x/)&&(c=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var c;r.isFunction=c;var p=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===h.call(t):!1};return r.isArray=p,r.escapeExpression=i,r.isEmpty=o,r}(t),n=function(){"use strict";function t(t,e){var i;e&&e.firstLine&&(i=e.firstLine,t+=" - "+i+":"+e.firstColumn);for(var o=Error.prototype.constructor.call(this,t),r=0;r<n.length;r++)this[n[r]]=o[n[r]];i&&(this.lineNumber=i,this.column=e.firstColumn)}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new s("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},o=n.fn;return p(e)&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?i(this):c(e)?e.length>0?t.helpers.each(e,n):i(this):o(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,o=e.inverse,r=0,a="";if(p(t)&&(t=t.call(this)),e.data&&(n=m(e.data)),t&&"object"==typeof t)if(c(t))for(var s=t.length;s>r;r++)n&&(n.index=r,n.first=0===r,n.last=r===t.length-1),a+=i(t[r],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l,n.index=r,n.first=0===r),a+=i(t[l],{data:n}),r++);return 0===r&&(a=o(this)),a}),t.registerHelper("if",function(t,e){return p(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||a.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return p(t)&&(t=t.call(this)),a.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function o(t,e){g.log(t,e)}var r={},a=t,s=e,l="1.3.0";r.VERSION=l;var u=4;r.COMPILER_REVISION=u;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=h;var c=a.isArray,p=a.isFunction,d=a.toString,f="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:g,log:o,registerHelper:function(t,e,n){if(d.call(t)===f){if(n||e)throw new s("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){d.call(t)===f?a.extend(this.partials,t):this.partials[t]=e}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(g.level<=t){var n=g.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};r.logger=g,r.log=o;var m=function(t){var e={};return a.extend(e,t),e};return r.createFrame=m,r}(e,n),o=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=p;if(e!==n){if(n>e){var i=d[n],o=d[e];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function o(t,e){if(!e)throw new c("No environment passed to template");var n=function(t,n,i,o,r,a){var s=e.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(e.compile){var l={helpers:o,partials:r,data:a};return r[n]=e.compile(t,{data:void 0!==a},e),r[n](i,l)}throw new c("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:h.escapeExpression,invokePartial:n,programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=a(t,e,n):i||(i=this.programs[t]=a(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},h.extend(n,e),h.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(n,o){o=o||{};var r,a,s=o.partial?o:e;o.partial||(r=o.helpers,a=o.partials);var l=t.call(i,s,n,r,a,o.data);return o.partial||e.VM.checkRevision(i.compilerInfo),l}}function r(t,e,n){var i=Array.prototype.slice.call(arguments,3),o=function(t,o){return o=o||{},e.apply(this,[t,o.data||n].concat(i))};return o.program=t,o.depth=i.length,o}function a(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}function s(t,e,n,i,o,r){var a={partial:!0,helpers:i,partials:o,data:r};if(void 0===t)throw new c("The partial "+e+" could not be found");return t instanceof Function?t(n,a):void 0}function l(){return""}var u={},h=t,c=e,p=n.COMPILER_REVISION,d=n.REVISION_CHANGES;return u.checkRevision=i,u.template=o,u.programWithDepth=r,u.program=a,u.invokePartial=s,u.noop=l,u}(e,n,i),r=function(t,e,n,i,o){"use strict";var r,a=t,s=e,l=n,u=i,h=o,c=function(){var t=new a.HandlebarsEnvironment;return u.extend(t,a),t.SafeString=s,t.Exception=l,t.Utils=u,t.VM=h,t.template=function(e){return h.template(e,t)},t},p=c();return p.create=c,r=p}(i,t,n,e,o),a=function(t){"use strict";function e(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var n,i=t,o={ProgramNode:function(t,n,i,r){var a,s;3===arguments.length?(r=i,i=null):2===arguments.length&&(r=n,n=null),e.call(this,r),this.type="program",this.statements=t,this.strip={},i?(s=i[0],s?(a={first_line:s.firstLine,last_line:s.lastLine,last_column:s.lastColumn,first_column:s.firstColumn},this.inverse=new o.ProgramNode(i,n,a)):this.inverse=new o.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(t,n,i,r,a){if(e.call(this,a),this.type="mustache",this.strip=r,null!=i&&i.charAt){var s=i.charAt(3)||i.charAt(2);this.escaped="{"!==s&&"&"!==s}else this.escaped=!!i;this.sexpr=t instanceof o.SexprNode?t:new o.SexprNode(t,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,n,i){e.call(this,i),this.type="sexpr",this.hash=n;var o=this.id=t[0],r=this.params=t.slice(1),a=this.eligibleHelper=o.isSimple;this.isHelper=a&&(r.length||n)},PartialNode:function(t,n,i,o){e.call(this,o),this.type="partial",this.partialName=t,this.context=n,this.strip=i},BlockNode:function(t,n,o,r,a){if(e.call(this,a),t.sexpr.id.original!==r.path.original)throw new i(t.sexpr.id.original+" doesn't match "+r.path.original,this);this.type="block",this.mustache=t,this.program=n,this.inverse=o,this.strip={left:t.strip.left,right:r.strip.right},(n||o).strip.left=t.strip.right,(o||n).strip.right=r.strip.left,o&&!n&&(this.isInverse=!0)},ContentNode:function(t,n){e.call(this,n),this.type="content",this.string=t},HashNode:function(t,n){e.call(this,n),this.type="hash",this.pairs=t},IdNode:function(t,n){e.call(this,n),this.type="ID";for(var o="",r=[],a=0,s=0,l=t.length;l>s;s++){var u=t[s].part;if(o+=(t[s].separator||"")+u,".."===u||"."===u||"this"===u){if(r.length>0)throw new i("Invalid path: "+o,this);".."===u?a++:this.isScoped=!0}else r.push(u)}this.original=o,this.parts=r,this.string=r.join("."),this.depth=a,this.isSimple=1===t.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},PartialNameNode:function(t,n){e.call(this,n),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,n){e.call(this,n),this.type="DATA",this.id=t},StringNode:function(t,n){e.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,n){e.call(this,n),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,n){e.call(this,n),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,n){e.call(this,n),this.type="comment",this.comment=t}};return n=o}(n),s=function(){"use strict";var t,e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(e,n,i,o,r,a){var s=a.length-1;switch(r){case 1:return new o.ProgramNode(a[s-1],this._$);case 2:return new o.ProgramNode([],this._$);case 3:this.$=new o.ProgramNode([],a[s-1],a[s],this._$);break;case 4:this.$=new o.ProgramNode(a[s-2],a[s-1],a[s],this._$);break;case 5:this.$=new o.ProgramNode(a[s-1],a[s],[],this._$);break;case 6:this.$=new o.ProgramNode(a[s],this._$);break;case 7:this.$=new o.ProgramNode([],this._$);break;case 8:this.$=new o.ProgramNode([],this._$);break;case 9:this.$=[a[s]];break;case 10:a[s-1].push(a[s]),this.$=a[s-1];break;case 11:this.$=new o.BlockNode(a[s-2],a[s-1].inverse,a[s-1],a[s],this._$);break;case 12:this.$=new o.BlockNode(a[s-2],a[s-1],a[s-1].inverse,a[s],this._$);break;case 13:this.$=a[s];break;case 14:this.$=a[s];break;case 15:this.$=new o.ContentNode(a[s],this._$);break;case 16:this.$=new o.CommentNode(a[s],this._$);break;case 17:this.$=new o.MustacheNode(a[s-1],null,a[s-2],t(a[s-2],a[s]),this._$);break;case 18:this.$=new o.MustacheNode(a[s-1],null,a[s-2],t(a[s-2],a[s]),this._$);break;case 19:this.$={path:a[s-1],strip:t(a[s-2],a[s])};break;case 20:this.$=new o.MustacheNode(a[s-1],null,a[s-2],t(a[s-2],a[s]),this._$);break;case 21:this.$=new o.MustacheNode(a[s-1],null,a[s-2],t(a[s-2],a[s]),this._$);break;case 22:this.$=new o.PartialNode(a[s-2],a[s-1],t(a[s-3],a[s]),this._$);break;case 23:this.$=t(a[s-1],a[s]);break;case 24:this.$=new o.SexprNode([a[s-2]].concat(a[s-1]),a[s],this._$);break;case 25:this.$=new o.SexprNode([a[s]],null,this._$);break;case 26:this.$=a[s];break;case 27:this.$=new o.StringNode(a[s],this._$);break;case 28:this.$=new o.IntegerNode(a[s],this._$);break;case 29:this.$=new o.BooleanNode(a[s],this._$);break;case 30:this.$=a[s];break;case 31:a[s-1].isHelper=!0,this.$=a[s-1];break;case 32:this.$=new o.HashNode(a[s],this._$);break;case 33:this.$=[a[s-2],a[s]];break;case 34:this.$=new o.PartialNameNode(a[s],this._$);break;case 35:this.$=new o.PartialNameNode(new o.StringNode(a[s],this._$),this._$);break;case 36:this.$=new o.PartialNameNode(new o.IntegerNode(a[s],this._$));break;case 37:this.$=new o.DataNode(a[s],this._$);break;case 38:this.$=new o.IdNode(a[s],this._$);break;case 39:a[s-2].push({part:a[s],separator:a[s-1]}),this.$=a[s-2];break;case 40:this.$=[{part:a[s]}];break;case 43:this.$=[];break;case 44:a[s-1].push(a[s]);break;case 47:this.$=[a[s]];break;case 48:a[s-1].push(a[s])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,i=[0],o=[null],r=[],a=this.table,s="",l=0,u=0,h=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;r.push(c);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,g,m,y,v,b,w,_,x={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===d||"undefined"==typeof d)&&(d=e()),m=a[g]&&a[g][d]),"undefined"==typeof m||!m.length||!m[0]){var S="";if(!h){_=[];for(v in a[g])this.terminals_[v]&&v>2&&_.push("'"+this.terminals_[v]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:c,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+d);switch(m[0]){case 1:i.push(d),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(m[1]),d=null,f?(d=f,f=null):(u=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,c=this.lexer.yylloc,h>0&&h--);break;case 2:if(b=this.productions_[m[1]][1],x.$=o[o.length-b],x._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(x._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),y=this.performAction.call(x,s,u,l,this.yy,m[1],o,r),"undefined"!=typeof y)return y;b&&(i=i.slice(0,-1*b*2),o=o.slice(0,-1*b),r=r.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),o.push(x.$),r.push(x._$),w=a[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,o;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;a<r.length&&(n=this._input.match(this.rules[r[a]]),!n||e&&!(n[0].length>e[0].length)||(e=n,i=a,this.options.flex));a++);return e?(o=e[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function o(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return o(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return o(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return e.yytext=o(1,2).replace(/\\"/g,'"'),32;case 24:return e.yytext=o(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return e.yytext=o(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return n.lexer=i,e.prototype=n,n.Parser=e,new e}();return t=e}(),l=function(t,e){"use strict";function n(t){return t.constructor===r.ProgramNode?t:(o.yy=r,o.parse(t))}var i={},o=t,r=e;return i.parser=o,i.parse=n,i}(s,a),u=function(t){"use strict";function e(){}function n(t,e,n){if(null==t||"string"!=typeof t&&t.constructor!==n.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var i=n.parse(t),o=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(o,e)}function i(t,e,n){function i(){var i=n.parse(t),o=(new n.Compiler).compile(i,e),r=(new n.JavaScriptCompiler).compile(o,e,void 0,!0);return n.template(r)}if(null==t||"string"!=typeof t&&t.constructor!==n.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var o;return function(t,e){return o||(o=i()),o.call(this,t,e)}}var o={},r=t;return o.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var t,e,n,i=this.opcodes,o=[],r=0,a=i.length;a>r;r++)if(t=i[r],"DECLARE"===t.opcode)o.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var s=0;s<t.args.length;s++)n=t.args[s],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),e.push(n);o.push(t.opcode+" "+e.join(" "))}return o.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;e>n;n++){var i=this.opcodes[n],o=t.opcodes[n];if(i.opcode!==o.opcode||i.args.length!==o.args.length)return!1;for(var r=0;r<i.args.length;r++)if(i.args[r]!==o.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(n=0;e>n;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(t)},accept:function(t){var e,n=t.strip||{};return n.left&&this.opcode("strip"),e=this[t.type](t),n.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,n=0,i=e.length;i>n;n++)this.accept(e[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,n=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var o=0,r=n.depths.list.length;r>o;o++)e=n.depths.list[o],2>e||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,n=t.program,i=t.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var o=e.sexpr,r=this.classifySexpr(o);"helper"===r?this.helperSexpr(o,n,i):"simple"===r?(this.simpleSexpr(o),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(o,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,n,i=t.pairs;this.opcode("pushHash");for(var o=0,r=i.length;r>o;o++)e=i[o],n=e[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(t,e,n){var i=t.id,o=i.parts[0],r=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",o,r)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),o=t.id.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+o,t);this.opcode("invokeHelper",i.length,o,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var n=1,i=t.parts.length;i>n;n++)this.opcode("lookup",t.parts[n])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new r("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,n=0,i=e.length;i>n;n++)this.opcode("lookup",e[n])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,n=t.eligibleHelper,i=this.options;if(n&&!e){var o=t.id.parts[0];i.knownHelpers[o]?e=!0:i.knownHelpersOnly&&(n=!1)}return e?"helper":n?"ambiguous":"simple"},pushParams:function(t){for(var e,n=t.length;n--;)e=t[n],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,n){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}},o.precompile=n,o.compile=i,o}(n),h=function(t,e){"use strict";function n(t){this.value=t}function i(){}var o,r=t.COMPILER_REVISION,a=t.REVISION_CHANGES,s=t.log,l=e;i.prototype={nameLookup:function(t,e){var n,o;return 0===t.indexOf("depth")&&(n=!0),o=/^[0-9]+$/.test(e)?t+"["+e+"]":i.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",n?"("+t+" && "+o+")":o},compilerInfo:function(){var t=r,e=a[t];return"this.compilerInfo = ["+t+",'"+e+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,n,i){this.environment=t,this.options=e||{},s("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var o,r=t.opcodes;this.i=0;for(var a=r.length;this.i<a;this.i++)o=r[this.i],"DECLARE"===o.opcode?this[o.name]=o.value:this[o.opcode].apply(this,o.args),o.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,n="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(n+=" data = data || {};"),t.push(n)}t.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t
},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],o=0,r=this.environment.depths.list.length;r>o;o++)i.push("depth"+this.environment.depths.list[o]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),t)return i.push(a),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+a+"}";return s("debug",l+"\n\n"),l},mergeSource:function(){for(var t,e="",n=0,i=this.source.length;i>n;n++){var o=this.source[n];o.appendToBuffer?t=t?t+"\n    + "+o.content:o.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=o+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(t,e,!0),o=this.nameLookup("depth"+this.lastContext,e,"context"),r="helper = "+i.name+" || "+o;i.paramsInit&&(r+=","+i.paramsInit),this.push("("+r+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),o=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+r+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+o+"; "+r+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),e=this.popStack());var o=this.hash;e&&o.contexts.push("'"+t+"': "+e),n&&o.types.push("'"+t+"': "+n),o.values.push("'"+t+"': ("+i+")")},compiler:i,compileChildren:function(t,e){for(var n,i,o=t.children,r=0,a=o.length;a>r;r++){n=o[r],i=new this.compiler;var s=this.matchExistingProgram(n);null==s?(this.context.programs.push(""),s=this.context.programs.length,n.index=s,n.name="program"+s,this.context.programs[s]=i.compile(n,e,this.context),this.context.environments[s]=n):(n.index=s,n.name="program"+s)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;n>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,n=this.environment.children[t],i=n.depths.list,o=[n.index,n.name,"data"],r=0,a=i.length;a>r;r++)e=i[r],o.push(1===e?"depth0":"depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+o.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i,o,r="",a=this.isInline();if(a){var s=this.popStack(!0);if(s instanceof n)e=s.value,o=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();r="("+this.push(l)+" = "+s+"),",e=this.topStack()}}else e=this.topStack();var u=t.call(this,e);return a?(o||this.popStack(),i&&this.stackSlot--,this.push("("+r+u+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+r+u+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var o=t[e];o instanceof n?this.compileStack.push(o):this.pushStack(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,i=e[e.length-1];return!t&&i instanceof n?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,n){var i=[],o=this.setupParams(t,i,n),r=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:o,name:r,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupOptions:function(t,e){var n,i,o,r=[],a=[],s=[];r.push("hash:"+this.popStack()),this.options.stringParams&&(r.push("hashTypes:"+this.popStack()),r.push("hashContexts:"+this.popStack())),i=this.popStack(),o=this.popStack(),(o||i)&&(o||(this.context.aliases.self="this",o="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),r.push("inverse:"+i),r.push("fn:"+o));for(var l=0;t>l;l++)n=this.popStack(),e.push(n),this.options.stringParams&&(s.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+a.join(",")+"]"),r.push("types:["+s.join(",")+"]")),this.options.data&&r.push("data:data"),r},setupParams:function(t,e,n){var i="{"+this.setupOptions(t,e).join(",")+"}";return n?(this.useRegister("options"),e.push("options"),"options="+i):(e.push(i),"")}};for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),h=i.RESERVED_WORDS={},c=0,p=u.length;p>c;c++)h[u[c]]=!0;return i.isValidJavaScriptVariableName=function(t){return!i.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)?!0:!1},o=i}(i,n),c=function(t,e,n,i,o){"use strict";var r,a=t,s=e,l=n.parser,u=n.parse,h=i.Compiler,c=i.compile,p=i.precompile,d=o,f=a.create,g=function(){var t=f();return t.compile=function(e,n){return c(e,n,t)},t.precompile=function(e,n){return p(e,n,t)},t.AST=s,t.Compiler=h,t.JavaScriptCompiler=d,t.Parser=l,t.parse=u,t};return a=g(),a.create=g,r=a}(r,a,l,u,h);return c}();/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2010, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
!function(t){t.fn.bxSlider=function(e){function n(e,n,i,o){var r=[],a=i,s=!1;for("backward"==o&&(e=t.makeArray(e),e.reverse());a>0;)t.each(e,function(e){return a>0?void(s?(r.push(t(this).clone()),a--):e==n&&(s=!0,r.push(t(this).clone()),a--)):!1});return r}function i(){var t=$.outerHeight()*e.displaySlideQty;return t}function o(){var t=$.outerWidth()*e.displaySlideQty;return t}function r(e,n){if("left"==n)var i=t(".pager",T).eq(e).position().left;else if("top"==n)var i=t(".pager",T).eq(e).position().top;return i}function a(){!e.infiniteLoop&&e.hideControlOnEnd&&(j==J?t(".bx-prev",T).hide():t(".bx-prev",T).show(),j==X?t(".bx-next",T).hide():t(".bx-next",T).show())}function s(n,i,o,r){H=t('<a href="" class="bx-start"></a>'),N="text"==n?i:'<img src="'+i+'" />',W="text"==o?r:'<img src="'+r+'" />',e.autoControlsSelector?t(e.autoControlsSelector).append(H):(T.append('<div class="bx-auto"></div>'),t(".bx-auto",T).html(H)),H.click(function(){return e.ticker?t(this).hasClass("stop")?x.stopTicker():t(this).hasClass("start")&&x.startTicker():t(this).hasClass("stop")?x.stopShow(!0):t(this).hasClass("start")&&x.startShow(!0),!1})}function l(){var n=t("img",C.eq(j)).attr("title");""!=n?e.captionsSelector?t(e.captionsSelector).html(n):t(".bx-captions",T).html(n):e.captionsSelector?t(e.captionsSelector).html("\xa0"):t(".bx-captions",T).html("\xa0")}function u(n){var i=C.length;e.moveSlideQty>1&&(i=C.length%e.moveSlideQty!=0?Math.ceil(C.length/e.moveSlideQty):C.length/e.moveSlideQty);var o="";if(e.buildPager)for(var r=0;i>r;r++)o+=e.buildPager(r,C.eq(r*e.moveSlideQty));else if("full"==n)for(var r=1;i>=r;r++)o+='<a href="" class="pager-link pager-'+r+'">'+r+"</a>";else"short"==n&&(o='<span class="bx-pager-current">'+(e.startingSlide+1)+"</span> "+e.pagerShortSeparator+' <span class="bx-pager-total">'+C.length+"</span>");if(e.pagerSelector)t(e.pagerSelector).append(o),L=t(e.pagerSelector);else{var a=t('<div class="bx-pager"></div>');a.append(o),"top"==e.pagerLocation?T.prepend(a):"bottom"==e.pagerLocation&&T.append(a),L=t(".bx-pager",T)}L.children().click(function(){if("full"==e.pagerType){var t=L.children().index(this);e.moveSlideQty>1&&(t*=e.moveSlideQty),x.goToSlide(t)}return!1})}function h(n,i,o,r){var a=t('<a href="" class="bx-next"></a>'),s=t('<a href="" class="bx-prev"></a>');a.html("text"==n?i:'<img src="'+i+'" />'),s.html("text"==o?r:'<img src="'+r+'" />'),e.prevSelector?t(e.prevSelector).append(s):T.append(s),e.nextSelector?t(e.nextSelector).append(a):T.append(a),a.click(function(){return x.goToNextSlide(),!1}),s.click(function(){return x.goToPreviousSlide(),!1})}function c(n){"full"==e.pagerType&&e.pager?(t("a",L).removeClass(e.pagerActiveClass),t("a",L).eq(n).addClass(e.pagerActiveClass)):"short"==e.pagerType&&e.pager&&t(".bx-pager-current",L).html(j+1)}function p(){C.not(":eq("+j+")").fadeTo(e.speed,0).css("zIndex",98),C.eq(j).css("zIndex",99).fadeTo(e.speed,1,function(){Z=!1,jQuery.browser.msie&&C.eq(j).get(0).style.removeAttribute("filter"),e.onAfterSlide(j,C.length,C.eq(j))})}function d(){S.hover(function(){B&&x.stopTicker(!1)},function(){B&&x.startTicker(!1)})}function f(){T.find(".bx-window").hover(function(){B&&x.stopShow(!1)},function(){B&&x.startShow(!1)})}function g(){""!=e.startImage?(startContent=e.startImage,startType="image"):(startContent=e.startText,startType="text"),""!=e.stopImage?(stopContent=e.stopImage,stopType="image"):(stopContent=e.stopText,stopType="text"),s(startType,startContent,stopType,stopContent)}function m(t,n,i){"horizontal"==e.mode?"next"==e.tickerDirection?S.animate({left:"-="+n+"px"},i,"linear",function(){S.css("left",t),m(t,G,e.tickerSpeed)}):"prev"==e.tickerDirection&&S.animate({left:"+="+n+"px"},i,"linear",function(){S.css("left",t),m(t,G,e.tickerSpeed)}):"vertical"==e.mode&&("next"==e.tickerDirection?S.animate({top:"-="+n+"px"},i,"linear",function(){S.css("top",t),m(t,V,e.tickerSpeed)}):"prev"==e.tickerDirection&&S.animate({top:"+="+n+"px"},i,"linear",function(){S.css("top",t),m(t,V,e.tickerSpeed)}))}function y(){e.auto?e.infiniteLoop?"next"==e.autoDirection?M=setInterval(function(){x.goToNextSlide(!1)},e.pause):"prev"==e.autoDirection&&(M=setInterval(function(){x.goToPreviousSlide(!1)},e.pause)):"next"==e.autoDirection?M=setInterval(function(){j+=e.moveSlideQty,j>X&&(j%=C.length),x.goToSlide(j,!1)},e.pause):"prev"==e.autoDirection&&(M=setInterval(function(){j-=e.moveSlideQty,0>j&&(negativeOffset=j%C.length,j=0==negativeOffset?0:C.length+negativeOffset),x.goToSlide(j,!1)},e.pause)):e.ticker&&(e.tickerSpeed*=10,t(".pager",T).each(function(){G+=t(this).width(),V+=t(this).height()}),"prev"==e.tickerDirection&&"horizontal"==e.mode?S.css("left","-"+(G+z)+"px"):"prev"==e.tickerDirection&&"vertical"==e.mode&&S.css("top","-"+(V+q)+"px"),"horizontal"==e.mode?(U=parseInt(S.css("left")),m(U,G,e.tickerSpeed)):"vertical"==e.mode&&(Q=parseInt(S.css("top")),m(Q,V,e.tickerSpeed)),e.tickerHover&&d())}function v(){""!=e.nextImage?(nextContent=e.nextImage,nextType="image"):(nextContent=e.nextText,nextType="text"),""!=e.prevImage?(prevContent=e.prevImage,prevType="image"):(prevContent=e.prevText,prevType="text"),h(nextType,nextContent,prevType,prevContent)}function b(){if("horizontal"==e.mode||"vertical"==e.mode){var i=n(C,0,e.moveSlideQty,"backward");t.each(i,function(){S.prepend(t(this))});var o=C.length+e.moveSlideQty-1,r=C.length-e.displaySlideQty,a=o-r,s=n(C,0,a,"forward");e.infiniteLoop&&t.each(s,function(){S.append(t(this))})}}function w(){b(e.startingSlide),"horizontal"==e.mode?(S.wrap('<div class="'+e.wrapperClass+'" style="width:'+A+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+A+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+z+"px"}),S.children().css({width:E,"float":"left",listStyle:"none"}),T=S.parent().parent(),C.addClass("pager")):"vertical"==e.mode?(S.wrap('<div class="'+e.wrapperClass+'" style="width:'+O+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+O+"px; height:"+P+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+q+"px"}),S.children().css({listStyle:"none",height:F}),T=S.parent().parent(),C.addClass("pager")):"fade"==e.mode&&(S.wrap('<div class="'+e.wrapperClass+'" style="width:'+O+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+F+"px; width:"+O+'px; position:relative; overflow:hidden;"></div>'),S.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98}),T=S.parent().parent(),C.not(":eq("+j+")").fadeTo(0,0),C.eq(j).css("zIndex",99)),e.captions&&null==e.captionsSelector&&T.append('<div class="bx-captions"></div>')}var _={mode:"horizontal",infiniteLoop:!0,hideControlOnEnd:!1,controls:!0,speed:500,easing:"swing",pager:!1,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:!1,captionsSelector:null,auto:!1,autoDirection:"next",autoControls:!1,autoControlsSelector:null,autoStart:!0,autoHover:!1,autoDelay:0,pause:3e3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:!1,tickerSpeed:5e3,tickerDirection:"next",tickerHover:!1,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:!1,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null},e=t.extend(_,e),x=this,S="",k="",C="",T="",$="",E="",I="",A="",P="",L="",M="",H="",R="",N="",W="",B=!0,D=!1,O=0,F=0,j=0,z=0,q=0,G=0,V=0,U=0,Q=0,Z=!1,J=0,X=C.length-1;return this.goToSlide=function(t,n){if(!Z){if(Z=!0,j=t,e.onBeforeSlide(j,C.length,C.eq(j)),"undefined"==typeof n)var n=!0;n&&e.auto&&x.stopShow(!0),slide=t,slide==J&&e.onFirstSlide(j,C.length,C.eq(j)),slide==X&&e.onLastSlide(j,C.length,C.eq(j)),"horizontal"==e.mode?S.animate({left:"-"+r(slide,"left")+"px"},e.speed,e.easing,function(){Z=!1,e.onAfterSlide(j,C.length,C.eq(j))}):"vertical"==e.mode?S.animate({top:"-"+r(slide,"top")+"px"},e.speed,e.easing,function(){Z=!1,e.onAfterSlide(j,C.length,C.eq(j))}):"fade"==e.mode&&p(),a(),e.moveSlideQty>1&&(t=Math.floor(t/e.moveSlideQty)),c(t),l()}},this.goToNextSlide=function(t){if("undefined"==typeof t)var t=!0;if(t&&e.auto&&x.stopShow(!0),e.infiniteLoop){if(!Z){Z=!0;var n=!1;if(j+=e.moveSlideQty,j>X&&(j%=C.length,n=!0),e.onNextSlide(j,C.length,C.eq(j)),e.onBeforeSlide(j,C.length,C.eq(j)),"horizontal"==e.mode){var i=e.moveSlideQty*I;S.animate({left:"-="+i+"px"},e.speed,e.easing,function(){Z=!1,n&&S.css("left","-"+r(j,"left")+"px"),e.onAfterSlide(j,C.length,C.eq(j))})}else if("vertical"==e.mode){var o=e.moveSlideQty*F;S.animate({top:"-="+o+"px"},e.speed,e.easing,function(){Z=!1,n&&S.css("top","-"+r(j,"top")+"px"),e.onAfterSlide(j,C.length,C.eq(j))})}else"fade"==e.mode&&p();c(e.moveSlideQty>1?Math.ceil(j/e.moveSlideQty):j),l()}}else if(!Z){var n=!1;j+=e.moveSlideQty,X>=j?(a(),e.onNextSlide(j,C.length,C.eq(j)),x.goToSlide(j)):j-=e.moveSlideQty}},this.goToPreviousSlide=function(n){if("undefined"==typeof n)var n=!0;if(n&&e.auto&&x.stopShow(!0),e.infiniteLoop){if(!Z){Z=!0;var i=!1;if(j-=e.moveSlideQty,0>j&&(negativeOffset=j%C.length,j=0==negativeOffset?0:C.length+negativeOffset,i=!0),e.onPrevSlide(j,C.length,C.eq(j)),e.onBeforeSlide(j,C.length,C.eq(j)),"horizontal"==e.mode){var o=e.moveSlideQty*I;S.animate({left:"+="+o+"px"},e.speed,e.easing,function(){Z=!1,i&&S.css("left","-"+r(j,"left")+"px"),e.onAfterSlide(j,C.length,C.eq(j))})}else if("vertical"==e.mode){var s=e.moveSlideQty*F;S.animate({top:"+="+s+"px"},e.speed,e.easing,function(){Z=!1,i&&S.css("top","-"+r(j,"top")+"px"),e.onAfterSlide(j,C.length,C.eq(j))})}else"fade"==e.mode&&p();c(e.moveSlideQty>1?Math.ceil(j/e.moveSlideQty):j),l()}}else if(!Z){var i=!1;j-=e.moveSlideQty,0>j&&(j=0,e.hideControlOnEnd&&t(".bx-prev",T).hide()),a(),e.onPrevSlide(j,C.length,C.eq(j)),x.goToSlide(j)}},this.goToFirstSlide=function(t){if("undefined"==typeof t)var t=!0;x.goToSlide(J,t)},this.goToLastSlide=function(){if("undefined"==typeof t)var t=!0;x.goToSlide(X,t)},this.getCurrentSlide=function(){return j},this.getSlideCount=function(){return C.length},this.stopShow=function(t){if(clearInterval(M),"undefined"==typeof t)var t=!0;t&&e.autoControls&&(H.html(N).removeClass("stop").addClass("start"),B=!1)},this.startShow=function(t){if("undefined"==typeof t)var t=!0;y(),t&&e.autoControls&&(H.html(W).removeClass("start").addClass("stop"),B=!0)},this.stopTicker=function(t){if(S.stop(),"undefined"==typeof t)var t=!0;t&&e.ticker&&(H.html(N).removeClass("stop").addClass("start"),B=!1)},this.startTicker=function(t){if("horizontal"==e.mode){if("next"==e.tickerDirection)var n=parseInt(S.css("left")),i=G+n+C.eq(0).width();else if("prev"==e.tickerDirection)var n=-parseInt(S.css("left")),i=n-C.eq(0).width();var o=i*e.tickerSpeed/G;m(U,i,o)}else if("vertical"==e.mode){if("next"==e.tickerDirection)var r=parseInt(S.css("top")),i=V+r+C.eq(0).height();else if("prev"==e.tickerDirection)var r=-parseInt(S.css("top")),i=r-C.eq(0).height();var o=i*e.tickerSpeed/V;if(m(Q,i,o),"undefined"==typeof t)var t=!0;t&&e.ticker&&(H.html(W).removeClass("start").addClass("stop"),B=!0)}},this.initShow=function(){if(S=t(this),k=S.clone(),C=S.children(),T="",$=S.children(":first"),E=$.width(),O=0,I=$.outerWidth(),F=0,A=o(),P=i(),Z=!1,L="",j=0,z=0,q=0,M="",H="",R="",N="",W="",B=!0,D=!1,G=0,V=0,U=0,Q=0,J=0,X=C.length-1,C.each(function(){t(this).outerHeight()>F&&(F=t(this).outerHeight()),t(this).outerWidth()>O&&(O=t(this).outerWidth())}),e.randomStart){var n=Math.floor(Math.random()*C.length);j=n,z=I*(e.moveSlideQty+n),q=F*(e.moveSlideQty+n)}else j=e.startingSlide,z=I*(e.moveSlideQty+e.startingSlide),q=F*(e.moveSlideQty+e.startingSlide);w(),e.pager&&!e.ticker&&("full"==e.pagerType?u("full"):"short"==e.pagerType&&u("short")),e.controls&&!e.ticker&&v(),(e.auto||e.ticker)&&(e.autoControls&&g(),e.autoStart?setTimeout(function(){x.startShow(!0)},e.autoDelay):x.stopShow(!0),e.autoHover&&!e.ticker&&f()),c(e.moveSlideQty>1?Math.ceil(j/e.moveSlideQty):j),a(),e.captions&&l(),e.onAfterSlide(j,C.length,C.eq(j))},this.destroyShow=function(){clearInterval(M),t(".bx-next, .bx-prev, .bx-pager, .bx-auto",T).remove(),S.unwrap().unwrap().removeAttr("style"),S.children().removeAttr("style").not(".pager").remove(),C.removeClass("pager")},this.reloadShow=function(){x.destroyShow(),x.initShow()},this.each(function(){t(this).children().length>0&&x.initShow()}),this},jQuery.fx.prototype.cur=function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t=parseFloat(jQuery.css(this.elem,this.prop));return t}}(jQuery),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(-Math.pow(2,-10*e/o)+1)+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var r=1.70158,a=0,s=i;if(0==e)return n;if(1==(e/=o))return n+i;if(a||(a=.3*o),s<Math.abs(i)){s=i;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*o-r)*Math.PI/a))+n},easeOutElastic:function(t,e,n,i,o){var r=1.70158,a=0,s=i;if(0==e)return n;if(1==(e/=o))return n+i;if(a||(a=.3*o),s<Math.abs(i)){s=i;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin(2*(e*o-r)*Math.PI/a)+i+n},easeInOutElastic:function(t,e,n,i,o){var r=1.70158,a=0,s=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(a||(a=.3*o*1.5),s<Math.abs(i)){s=i;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(i/s);return 1>e?-.5*s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*o-r)*Math.PI/a)+n:s*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*o-r)*Math.PI/a)*.5+i+n},easeInBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*(e/=o)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*((e=e/o-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),(e/=o/2)<1?i/2*e*e*(((r*=1.525)+1)*e-r)+n:i/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?7.5625*i*e*e+n:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return o/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return t}function n(t){return decodeURIComponent(t.replace(o," "))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return r.json?JSON.parse(t):t}catch(e){}}var o=/\+/g,r=t.cookie=function(o,a,s){if(void 0!==a){if(s=t.extend({},r.defaults,s),"number"==typeof s.expires){var l=s.expires,u=s.expires=new Date;u.setDate(u.getDate()+l)}return a=r.json?JSON.stringify(a):String(a),document.cookie=[r.raw?o:encodeURIComponent(o),"=",r.raw?a:encodeURIComponent(a),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var h=r.raw?e:n,c=document.cookie.split("; "),p=o?void 0:{},d=0,f=c.length;f>d;d++){var g=c[d].split("="),m=h(g.shift()),y=h(g.join("="));if(o&&o===m){p=i(y);break}o||(p[m]=i(y))}return p};r.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)?(t.cookie(e,"",t.extend({},n,{expires:-1})),!0):!1}}),/*
jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return e(n,t)}):e(t.jQuery,t)}(this,function(n,i){var o,r,a,s,l,u,h,c,p,d,f,g,m,y,v,b;return o=n(i),c=t.call(i,"ontouchstart")>=0,s={horizontal:{},vertical:{}},l=1,h={},u="waypoints-context-id",f="resize.waypoints",g="scroll.waypoints",m=1,y="waypoints-waypoint-ids",v="waypoint",b="waypoints",r=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(u,this.id),h[this.id]=this,t.bind(g,function(){var t;return e.didScroll||c?void 0:(e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,n[b].settings.scrollThrottle))}),t.bind(f,function(){var t;return e.didResize?void 0:(e.didResize=!0,t=function(){return n[b]("refresh"),e.didResize=!1},i.setTimeout(t,n[b].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!c||t.vertical.oldScroll&&t.vertical.newScroll||n[b]("refresh"),n.each(t,function(t,i){var o,r,a;return a=[],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward,n.each(e.waypoints[t],function(t,e){var n,o;return i.oldScroll<(n=e.offset)&&n<=i.newScroll?a.push(e):i.newScroll<(o=e.offset)&&o<=i.oldScroll?a.push(e):void 0}),a.sort(function(t,e){return t.offset-e.offset}),r||a.reverse(),n.each(a,function(t,e){return e.options.continuous||t===a.length-1?e.trigger([o]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,o=this;return i=n.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(t,function(t,e){return n.each(o.waypoints[t],function(t,i){var o,r,a,s,l;return o=i.options.offset,a=i.offset,r=n.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(e.contextDimension*o/100))),i.offset=r-e.contextOffset+e.contextScroll-o,i.options.onlyOnScroll&&null!=a||!i.enabled?void 0:null!==a&&a<(s=e.oldScroll)&&s<=i.offset?i.trigger([e.backward]):null!==a&&a>(l=e.oldScroll)&&l>=i.offset?i.trigger([e.forward]):null===a&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([f,g].join(" ")),delete h[this.id]):void 0},t}(),a=function(){function t(t,e,i){var o,r;i=n.extend({},n.fn[v].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=n[b]("viewportHeight"),n.isWindow(e.element)||(t=e.$element.height()),t-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+m++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,o=null!=(r=t.data(y))?r:[],o.push(this.id),t.data(y,o)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=n(t).data(y))?(e=n.extend({},s.horizontal,s.vertical),n.map(i,function(t){return e[t]})):[]},t}(),d={init:function(t,e){var i;return null==e&&(e={}),null==(i=e.handler)&&(e.handler=t),this.each(function(){var t,i,o,s;return t=n(this),o=null!=(s=e.context)?s:n.fn[v].defaults.context,n.isWindow(o)||(o=t.closest(o)),o=n(o),i=h[o.data(u)],i||(i=new r(o)),new a(t,i,e)}),n[b]("refresh"),this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){return e>0?t.push(n[e-1]):void 0})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){return e<n.length-1?t.push(n[e+1]):void 0})},_traverse:function(t,e,o){var r,a;return null==t&&(t="vertical"),null==e&&(e=i),a=p.aggregate(e),r=[],this.each(function(){var e;return e=n.inArray(this,a[t]),o(r,e,a[t])}),this.pushStack(r)},_invoke:function(t,e){return t.each(function(){var t;return t=a.getWaypointsByElement(this),n.each(t,function(t,n){return n[e](),!0})}),this}},n.fn[v]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],d[i]?d[i].apply(this,t):n.isFunction(i)?d.init.apply(this,arguments):n.isPlainObject(i)?d.init.apply(this,[null,i]):n.error(i?"The "+i+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},n.fn[v].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},p={refresh:function(){return n.each(h,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:o.height()},aggregate:function(t){var e,i,o;return e=s,t&&(e=null!=(o=h[n(t).data(u)])?o.waypoints:void 0),e?(i={horizontal:[],vertical:[]},n.each(i,function(t,o){return n.each(e[t],function(t,e){return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),i[t]=n.map(o,function(t){return t.element}),i[t]=n.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),p._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),p._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),p._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),p._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return p._invoke("enable")},disable:function(){return p._invoke("disable")},destroy:function(){return p._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;return e=n.extend({},s.vertical,s.horizontal),n.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,i){var o,r;return(o=h[n(t).data(u)])?(r=[],n.each(o.waypoints[e],function(t,e){return i(o,e)?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),n.map(r,function(t){return t.element})):[]}},n[b]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],p[n]?p[n].apply(null,t):p.aggregate.call(null,n)},n[b].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return n[b]("refresh")})})}.call(this),function(t){function e(e){var n=t.formatCurrency.regions[e];if(n)return n;if(/(\w+)-(\w+)/g.test(e)){var i=e.replace(/(\w+)-(\w+)/g,"$1");return t.formatCurrency.regions[i]}return null}function n(t){switch(t.toLowerCase()){case"int":return"Int";case"float":return"Float";default:throw"invalid parseType"}}function i(t){if(""===t.symbol)return new RegExp("[^\\d"+t.decimalSymbol+"-]","g");var e=t.symbol.replace("$","\\$").replace(".","\\.");return new RegExp(e+"|[^\\d"+t.decimalSymbol+"-]","g")}t.formatCurrency={},t.formatCurrency.regions=[],t.formatCurrency.regions[""]={symbol:"$",positiveFormat:"%s%n",negativeFormat:"(%s%n)",decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0},t.fn.formatCurrency=function(n,o){1==arguments.length&&"string"!=typeof n&&(o=n,n=!1);var r={name:"formatCurrency",colorize:!1,region:"",global:!0,roundToDecimalPlace:2,eventOnDecimalsEntered:!1};return r=t.extend(r,t.formatCurrency.regions[""]),o=t.extend(r,o),o.region.length>0&&(o=t.extend(o,e(o.region))),o.regex=i(o),this.each(function(){$this=t(this);var e="0";if(e=$this[$this.is("input, select, textarea")?"val":"html"](),e.search("\\(")>=0&&(e="-"+e),""!==e&&("-"!==e||-1!==o.roundToDecimalPlace)){if(isNaN(e)){if(e=e.replace(o.regex,""),""===e||"-"===e&&-1===o.roundToDecimalPlace)return;"."!=o.decimalSymbol&&(e=e.replace(o.decimalSymbol,".")),isNaN(e)&&(e="0")}var i=String(e).split("."),r=e==Math.abs(e),a=i.length>1,s=a?i[1].toString():"0",l=s;if(e=Math.abs(i[0]),e=isNaN(e)?0:e,o.roundToDecimalPlace>=0&&(s=parseFloat("1."+s),s=s.toFixed(o.roundToDecimalPlace),"2"==s.substring(0,1)&&(e=Number(e)+1),s=s.substring(2)),e=String(e),o.groupDigits)for(var u=0;u<Math.floor((e.length-(1+u))/3);u++)e=e.substring(0,e.length-(4*u+3))+o.digitGroupSymbol+e.substring(e.length-(4*u+3));(a&&-1==o.roundToDecimalPlace||o.roundToDecimalPlace>0)&&(e+=o.decimalSymbol+s);var h=r?o.positiveFormat:o.negativeFormat,c=h.replace(/%s/g,o.symbol);c=c.replace(/%n/g,e);var p=t([]);p=n?t(n):$this,p[p.is("input, select, textarea")?"val":"html"](c),a&&o.eventOnDecimalsEntered&&l.length>o.roundToDecimalPlace&&p.trigger("decimalsEntered",l),o.colorize&&p.css("color",r?"black":"red")}})},t.fn.toNumber=function(n){var o=t.extend({name:"toNumber",region:"",global:!0},t.formatCurrency.regions[""]);return n=jQuery.extend(o,n),n.region.length>0&&(n=t.extend(n,e(n.region))),n.regex=i(n),this.each(function(){var e=t(this).is("input, select, textarea")?"val":"html";t(this)[e](t(this)[e]().replace("(","(-").replace(n.regex,""))})},t.fn.asNumber=function(o){var r=t.extend({name:"asNumber",region:"",parse:!0,parseType:"Float",global:!0},t.formatCurrency.regions[""]);o=jQuery.extend(r,o),o.region.length>0&&(o=t.extend(o,e(o.region))),o.regex=i(o),o.parseType=n(o.parseType);var a=t(this).is("input, select, textarea")?"val":"html",s=t(this)[a]();return s=s?s:"",s=s.replace("(","(-"),s=s.replace(o.regex,""),o.parse?(0==s.length&&(s="0"),"."!=o.decimalSymbol&&(s=s.replace(o.decimalSymbol,".")),window["parse"+o.parseType](s)):s}}(jQuery),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,o,r,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)a[n]=str(n,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],o=str(i,l),o&&a.push(quote(i)+(gap?": ":":")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l),o&&a.push(quote(i)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t,e){"use strict";var n=t.History=t.History||{},i=t.jQuery;if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(t,e,n){i(t).bind(e,n)},trigger:function(t,e,n){i(t).trigger(e,n)},extractEventData:function(t,n,i){var o=n&&n.originalEvent&&n.originalEvent[t]||i&&i[t]||e;return o},onDomLoad:function(t){i(t)}},"undefined"!=typeof n.init&&n.init()}(window),function(t){"use strict";var e=t.document,n=t.setTimeout||n,i=t.clearTimeout||i,o=t.setInterval||o,r=t.History=t.History||{};if("undefined"!=typeof r.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");r.initHtml4=function(){return"undefined"!=typeof r.initHtml4.initialized?!1:(r.initHtml4.initialized=!0,r.enabled=!0,r.savedHashes=[],r.isLastHash=function(t){var e,n=r.getHashByIndex();return e=t===n},r.isHashEqual=function(t,e){return t=encodeURIComponent(t).replace(/%25/g,"%"),e=encodeURIComponent(e).replace(/%25/g,"%"),t===e},r.saveHash=function(t){return r.isLastHash(t)?!1:(r.savedHashes.push(t),!0)},r.getHashByIndex=function(t){var e=null;return e="undefined"==typeof t?r.savedHashes[r.savedHashes.length-1]:0>t?r.savedHashes[r.savedHashes.length+t]:r.savedHashes[t]},r.discardedHashes={},r.discardedStates={},r.discardState=function(t,e,n){var i,o=r.getHashByState(t);return i={discardedState:t,backState:n,forwardState:e},r.discardedStates[o]=i,!0},r.discardHash=function(t,e,n){var i={discardedHash:t,backState:n,forwardState:e};return r.discardedHashes[t]=i,!0},r.discardedState=function(t){var e,n=r.getHashByState(t);return e=r.discardedStates[n]||!1},r.discardedHash=function(t){var e=r.discardedHashes[t]||!1;return e},r.recycleState=function(t){var e=r.getHashByState(t);return r.discardedState(t)&&delete r.discardedStates[e],!0},r.emulated.hashChange&&(r.hashChangeInit=function(){r.checkerFunction=null;var n,i,a,s,l="",u=Boolean(r.getHash());return r.isInternetExplorer()?(n="historyjs-iframe",i=e.createElement("iframe"),i.setAttribute("id",n),i.setAttribute("src","#"),i.style.display="none",e.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),a="",s=!1,r.checkerFunction=function(){if(s)return!1;s=!0;var e=r.getHash(),n=r.getHash(i.contentWindow.document);return e!==l?(l=e,n!==e&&(a=n=e,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=r.escapeHash(e)),r.Adapter.trigger(t,"hashchange")):n!==a&&(a=n,u&&""===n?r.back():r.setHash(n,!1)),s=!1,!0}):r.checkerFunction=function(){var e=r.getHash()||"";return e!==l&&(l=e,r.Adapter.trigger(t,"hashchange")),!0},r.intervalList.push(o(r.checkerFunction,r.options.hashChangeInterval)),!0},r.Adapter.onDomLoad(r.hashChangeInit)),r.emulated.pushState&&(r.onHashChange=function(e){var n,i=e&&e.newURL||r.getLocationHref(),o=r.getHashByUrl(i),a=null,s=null;return r.isLastHash(o)?(r.busy(!1),!1):(r.doubleCheckComplete(),r.saveHash(o),o&&r.isTraditionalAnchor(o)?(r.Adapter.trigger(t,"anchorchange"),r.busy(!1),!1):(a=r.extractState(r.getFullUrl(o||r.getLocationHref()),!0),r.isLastSavedState(a)?(r.busy(!1),!1):(s=r.getHashByState(a),n=r.discardedState(a),n?(r.getHashByIndex(-2)===r.getHashByState(n.forwardState)?r.back(!1):r.forward(!1),!1):(r.pushState(a.data,a.title,encodeURI(a.url),!1),!0))))},r.Adapter.bind(t,"hashchange",r.onHashChange),r.pushState=function(e,n,i,o){if(i=encodeURI(i).replace(/%25/g,"%"),r.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(o!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.pushState,args:arguments,queue:o}),!1;r.busy(!0);var a=r.createStateObject(e,n,i),s=r.getHashByState(a),l=r.getState(!1),u=r.getHashByState(l),h=r.getHash(),c=r.expectedStateId==a.id;return r.storeState(a),r.expectedStateId=a.id,r.recycleState(a),r.setTitle(a),s===u?(r.busy(!1),!1):(r.saveState(a),c||r.Adapter.trigger(t,"statechange"),!r.isHashEqual(s,h)&&!r.isHashEqual(s,r.getShortUrl(r.getLocationHref()))&&r.setHash(s,!1),r.busy(!1),!0)},r.replaceState=function(e,n,i,o){if(i=encodeURI(i).replace(/%25/g,"%"),r.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(o!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.replaceState,args:arguments,queue:o}),!1;r.busy(!0);var a=r.createStateObject(e,n,i),s=r.getHashByState(a),l=r.getState(!1),u=r.getHashByState(l),h=r.getStateByIndex(-2);return r.discardState(l,a,h),s===u?(r.storeState(a),r.expectedStateId=a.id,r.recycleState(a),r.setTitle(a),r.saveState(a),r.Adapter.trigger(t,"statechange"),r.busy(!1)):r.pushState(a.data,a.title,a.url,!1),!0}),r.emulated.pushState&&r.getHash()&&!r.emulated.hashChange&&r.Adapter.onDomLoad(function(){r.Adapter.trigger(t,"hashchange")}),void 0)},"undefined"!=typeof r.init&&r.init()}(window),function(t,e){"use strict";var n=t.console||e,i=t.document,o=t.navigator,r=t.sessionStorage||!1,a=t.setTimeout,s=t.clearTimeout,l=t.setInterval,u=t.clearInterval,h=t.JSON,c=t.alert,p=t.History=t.History||{},d=t.history;try{r.setItem("TEST","1"),r.removeItem("TEST")}catch(f){r=!1}if(h.stringify=h.stringify||h.encode,h.parse=h.parse||h.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||i.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var t,e=p.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)u(e[t]);p.intervalList=null}},p.debug=function(){(p.options.debug||!1)&&p.log.apply(p,arguments)},p.log=function(){var t,e,o,r,a,s="undefined"!=typeof n&&"undefined"!=typeof n.log&&"undefined"!=typeof n.log.apply,l=i.getElementById("log");for(s?(r=Array.prototype.slice.call(arguments),t=r.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[t,r]):n.log.apply(n,[t,r])):t="\n"+arguments[0]+"\n",e=1,o=arguments.length;o>e;++e){if(a=arguments[e],"object"==typeof a&&"undefined"!=typeof h)try{a=h.stringify(a)}catch(u){}t+="\n"+a+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||c(t),!0},p.getInternetExplorerMajorVersion=function(){var t=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=i.createElement("div"),n=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&n[0];);return t>4?t:!1}();return t},p.isInternetExplorer=function(){var t=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return t},p.emulated=p.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in i)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},p.cloneObject=function(t){var e,n;return t?(e=h.stringify(t),n=h.parse(e)):n={},n},p.getRootUrl=function(){var t=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(t+=":"+i.location.port),t+="/"},p.getBaseHref=function(){var t=i.getElementsByTagName("base"),e=null,n="";return 1===t.length&&(e=t[0],n=e.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},p.getBaseUrl=function(){var t=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return t},p.getPageUrl=function(){var t,e=p.getState(!1,!1),n=(e||{}).url||p.getLocationHref();return t=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},p.getBasePageUrl=function(){var t=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},p.getFullUrl=function(t,e){var n=t,i=t.substring(0,1);return e="undefined"==typeof e?!0:e,/[a-z]+\:\/\//.test(t)||(n="/"===i?p.getRootUrl()+t.replace(/^\/+/,""):"#"===i?p.getPageUrl().replace(/#.*/,"")+t:"?"===i?p.getPageUrl().replace(/[\?#].*/,"")+t:e?p.getBaseUrl()+t.replace(/^(\.\/)+/,""):p.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},p.getShortUrl=function(t){var e=t,n=p.getBaseUrl(),i=p.getRootUrl();return p.emulated.pushState&&(e=e.replace(n,"")),e=e.replace(i,"/"),p.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(t){return t=t||i,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var n=p.getLastSavedState();return!n&&e&&(n=p.createStateObject()),t&&(n=p.cloneObject(n),n.url=n.cleanUrl||n.url),n},p.getIdByState=function(t){var e,n=p.extractId(t.url);if(!n)if(e=p.getStateString(t),"undefined"!=typeof p.stateToId[e])n=p.stateToId[e];else if("undefined"!=typeof p.store.stateToId[e])n=p.store.stateToId[e];else{for(;n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof p.idToState[n]||"undefined"!=typeof p.store.idToState[n];);p.stateToId[e]=n,p.idToState[n]=t}return n},p.normalizeState=function(t){var e,n;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=p.getFullUrl(t.url?t.url:p.getLocationHref()),e.hash=p.getShortUrl(e.url),e.data=p.cloneObject(t.data),e.id=p.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,n=!p.isEmptyObject(e.data),(e.title||n)&&p.options.disableSuid!==!0&&(e.hash=p.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=p.getFullUrl(e.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},p.createStateObject=function(t,e,n){var i={data:t,title:e,url:n};return i=p.normalizeState(i)},p.getStateById=function(t){t=String(t);var n=p.idToState[t]||p.store.idToState[t]||e;return n},p.getStateString=function(t){var e,n,i;return e=p.normalizeState(t),n={data:e.data,title:t.title,url:t.url},i=h.stringify(n)},p.getStateId=function(t){var e,n;return e=p.normalizeState(t),n=e.id},p.getHashByState=function(t){var e,n;return e=p.normalizeState(t),n=e.hash},p.extractId=function(t){var e,n,i,o;return o=-1!=t.indexOf("#")?t.split("#")[0]:t,n=/(.*)\&_suid=([0-9]+)$/.exec(o),i=n?n[1]||t:t,e=n?String(n[2]||""):"",e||!1},p.isTraditionalAnchor=function(t){var e=!/[\/\?\.]/.test(t);return e},p.extractState=function(t,e){var n,i,o=null;return e=e||!1,n=p.extractId(t),n&&(o=p.getStateById(n)),o||(i=p.getFullUrl(t),n=p.getIdByUrl(i)||!1,n&&(o=p.getStateById(n)),!o&&e&&!p.isTraditionalAnchor(t)&&(o=p.createStateObject(null,null,i))),o},p.getIdByUrl=function(t){var n=p.urlToId[t]||p.store.urlToId[t]||e;return n},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||e},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||e},p.hasUrlDuplicate=function(t){var e,n=!1;return e=p.extractState(t.url),n=e&&e.id!==t.id},p.storeState=function(t){return p.urlToId[t.url]=t.id,p.storedStates.push(p.cloneObject(t)),t},p.isLastSavedState=function(t){var e,n,i,o=!1;return p.savedStates.length&&(e=t.id,n=p.getLastSavedState(),i=n.id,o=e===i),o},p.saveState=function(t){return p.isLastSavedState(t)?!1:(p.savedStates.push(p.cloneObject(t)),!0)},p.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?p.savedStates[p.savedStates.length-1]:0>t?p.savedStates[p.savedStates.length+t]:p.savedStates[t]},p.getCurrentIndex=function(){var t=null;return t=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(t){var e,n=p.getLocationHref(t);return e=p.getHashByUrl(n)},p.unescapeHash=function(t){var e=p.normalizeHash(t);return e=decodeURIComponent(e)},p.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},p.setHash=function(t,e){var n,o;return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:e}),!1):(p.busy(!0),n=p.extractState(t,!0),n&&!p.emulated.pushState?p.pushState(n.data,n.title,n.url,!1):p.getHash()!==t&&(p.bugs.setHash?(o=p.getPageUrl(),p.pushState(null,null,o+"#"+t,!1)):i.location.hash=t),p)},p.escapeHash=function(e){var n=p.normalizeHash(e);return n=t.encodeURIComponent(n),p.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},p.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=p.unescapeHash(e)},p.setTitle=function(t){var e,n=t.title;n||(e=p.getStateByIndex(0),e&&e.url===t.url&&(n=e.title||p.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(o){}return i.title=n,p},p.queues=[],p.busy=function(t){if("undefined"!=typeof t?p.busy.flag=t:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var e=function(){var t,n,i;if(!p.busy.flag)for(t=p.queues.length-1;t>=0;--t)n=p.queues[t],0!==n.length&&(i=n.shift(),p.fireQueueItem(i),p.busy.timeout=a(e,p.options.busyDelay))};p.busy.timeout=a(e,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(t){return t.callback.apply(t.scope||p,t.args||[])},p.pushQueue=function(t){return p.queues[t.queue||0]=p.queues[t.queue||0]||[],p.queues[t.queue||0].push(t),p},p.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),p.busy()?p.pushQueue(t):p.fireQueueItem(t),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(t){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=a(function(){return p.doubleCheckClear(),p.stateChanged||t(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var e,n=p.extractState(p.getLocationHref());return p.isLastSavedState(n)?void 0:(e=n,e||(e=p.createStateObject()),p.Adapter.trigger(t,"popstate"),p)},p.back=function(t){return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:t}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),d.go(-1),!0)},p.forward=function(t){return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:t}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),d.go(1),!0)},p.go=function(t,e){var n;if(t>0)for(n=1;t>=n;++n)p.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=t;--n)p.back(e)}return p},p.emulated.pushState){var f=function(){};p.pushState=p.pushState||f,p.replaceState=p.replaceState||f}else p.onPopState=function(e,n){var i,o,r=!1,a=!1;return p.doubleCheckComplete(),i=p.getHash(),i?(o=p.extractState(i||p.getLocationHref(),!0),o?p.replaceState(o.data,o.title,o.url,!1):(p.Adapter.trigger(t,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(r=p.Adapter.extractEventData("state",e,n)||!1,a=r?p.getStateById(r):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),a||(a=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(a)?(p.busy(!1),!1):(p.storeState(a),p.saveState(a),p.setTitle(a),p.Adapter.trigger(t,"statechange"),p.busy(!1),!0))},p.Adapter.bind(t,"popstate",p.onPopState),p.pushState=function(e,n,i,o){if(p.getHashByUrl(i)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:o}),!1;p.busy(!0);var r=p.createStateObject(e,n,i);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,d.pushState(r.id,r.title,r.url),p.Adapter.trigger(t,"popstate")),!0},p.replaceState=function(e,n,i,o){if(p.getHashByUrl(i)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:o}),!1;p.busy(!0);var r=p.createStateObject(e,n,i);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,d.replaceState(r.id,r.title,r.url),p.Adapter.trigger(t,"popstate")),!0};if(r){try{p.store=h.parse(r.getItem("History.store"))||{}}catch(g){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(t,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),r&&(p.onUnload=function(){var t,e,n;try{t=h.parse(r.getItem("History.store"))||{}}catch(i){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in p.idToState)p.idToState.hasOwnProperty(e)&&(t.idToState[e]=p.idToState[e]);for(e in p.urlToId)p.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=p.urlToId[e]);for(e in p.stateToId)p.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=p.stateToId[e]);p.store=t,p.normalizeStore(),n=h.stringify(t);try{r.setItem("History.store",n)}catch(o){if(o.code!==DOMException.QUOTA_EXCEEDED_ERR)throw o;r.length&&(r.removeItem("History.store"),r.setItem("History.store",n))
}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(t,"beforeunload",p.onUnload),p.Adapter.bind(t,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===o.vendor||"Mozilla"===(o.appCodeName||""))&&(p.Adapter.bind(t,"hashchange",function(){p.Adapter.trigger(t,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(t,"hashchange")})))},(!p.options||!p.options.delayInit)&&p.init()}(window),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),o=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("button"),r="object"==typeof n&&n;o||i.data("button",o=new e(this,r)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var i,o=this.$element.find(".item.active"),r=n||o[e](),a=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",u=this;if(this.sliding=!0,a&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:r[0],direction:s}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(u.$indicators.children()[u.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),this.$element.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("carousel"),r=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:r.slide;o||i.data("carousel",o=new e(this,r)),"number"==typeof n?o.to(n):a?o[a]():r.interval&&o.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},r.data(),o.data());r.carousel(a),(i=o.attr("data-slide-to"))&&r.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,o;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(o=i.data("collapse"),o&&o.transitioning)return;i.collapse("hide"),o||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var o=this,r=function(){"show"==n.type&&o.reset(),o.transitioning=0,o.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("collapse"),r=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof n&&n);o||i.data("collapse",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o).data("collapse")?"toggle":i.data();i[t(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(o).collapse(r)})}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),o=i.data("modal"),r=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);o||i.data("modal",o=new e(this,r)),"string"==typeof n?o[n]():r.show&&o.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(r).one("hide",function(){n.focus()})})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var o,r,a,s,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(o="hover"==s?"mouseenter":"focus",r="hover"==s?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,o={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(o[t]=e)},this),n=t(e.currentTarget)[this.type](o).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,n,i,o,r,a,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,o=e[0].offsetHeight,r){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-o/2,left:n.left+n.width}}this.applyPlacement(a,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,o,r,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,r=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,a.offset(t),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(o-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),r&&a.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("tooltip"),r="object"==typeof n&&n;o||i.data("tooltip",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("popover"),r="object"==typeof n&&n;o||i.data("popover",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,o=this.element,r=o.closest("ul:not(.dropdown-menu)"),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(e=r.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),o.trigger(i),i.isDefaultPrevented()||(n=t(a),this.activate(o.parent("li"),r),this.activate(n,n.parent(),function(){o.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),a=i&&t.support.transition&&r.hasClass("fade");a?r.one(t.support.transition.end,o):o(),r.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("tab");o||i.data("tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",o=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var i,o,r=t(this);if(!r.is(".disabled, :disabled"))return i=n(r),o=i.hasClass("open"),e(),o||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),i.toggleClass("open")),r.focus(),!1},keydown:function(e){var o,r,a,s,l;if(/(38|40|27)/.test(e.keyCode)&&(o=t(this),e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled"))){if(a=n(o),s=a.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&a.find(i).focus(),o.click();r=t("[role=menu] li:not(.divider):visible a",a),r.length&&(l=r.index(r.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus())}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,o.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",o.prototype.keydown)}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=t(r),e&&e.preventDefault(),i.length||(i=o.hasClass("alert")?o:o.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("alert");o||i.data("alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){var e=function(n,i,o){o&&(o.stopPropagation(),o.preventDefault()),this.$element=t(n),this.$newElement=null,this.button=null,this.options=t.extend({},t.fn.selectpicker.defaults,this.$element.data(),"object"==typeof i&&i),null==this.options.title&&(this.options.title=this.$element.attr("title")),this.val=e.prototype.val,this.render=e.prototype.render,this.refresh=e.prototype.refresh,this.selectAll=e.prototype.selectAll,this.deselectAll=e.prototype.deselectAll,this.init()};e.prototype={constructor:e,init:function(){this.options.container?this.$element.css("visibility","hidden"):this.$element.hide(),this.multiple=this.$element.prop("multiple");var e=void 0!==this.$element.attr("class")?this.$element.attr("class").split(/\s+/):"",n=this.$element.attr("id");if(this.$element.after(this.createView()),this.$newElement=this.$element.next(".bootstrap-select"),this.options.container&&this.selectPosition(),this.button=this.$newElement.find("> button"),void 0!==n){var i=this;this.button.attr("data-id",n),t('label[for="'+n+'"]').click(function(){i.$newElement.find("button[data-id="+n+"]").focus()})}for(var o=0;o<e.length;o++)"selectpicker"!=e[o]&&this.$newElement.addClass(e[o]);this.multiple&&this.$newElement.addClass("show-tick"),this.button.addClass(this.options.style),this.checkDisabled(),this.checkTabIndex(),this.clickListener(),this.render(),this.setSize()},createDropdown:function(){var e="<div class='btn-group bootstrap-select'><button type='button' class='btn dropdown-toggle' data-toggle='dropdown'><span class='filter-option pull-left'></span>&nbsp;<span class='caret'></span></button><ul class='dropdown-menu' role='menu'></ul></div>";return t(e)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi(),$li=this.createLi(),this.$newElement.find("ul").append($li)},destroyLi:function(){this.$newElement.find("li").remove()},createLi:function(){var e=this,n=[],i=[],o="";if(this.$element.find("option").each(function(){n.push(t(this).text())}),this.$element.find("option").each(function(){var n=t(this),o=void 0!==n.attr("class")?n.attr("class"):"",r=n.text(),a=void 0!==n.data("subtext")?'<small class="muted">'+n.data("subtext")+"</small>":"",s=void 0!==n.data("icon")?'<i class="'+n.data("icon")+'"></i> ':"";if((n.is(":disabled")||n.parent().is(":disabled"))&&(s="<span>"+s+"</span>"),r=s+'<span class="text">'+r+a+"</span>",e.options.hideDisabled&&(n.is(":disabled")||n.parent().is(":disabled")))i.push('<a style="min-height: 0; padding: 0"></a>');else if(n.parent().is("optgroup")&&1!=n.data("divider"))if(0==n.index()){var l=n.parent().attr("label"),u=void 0!==n.parent().data("subtext")?'<small class="muted">'+n.parent().data("subtext")+"</small>":"",h=n.parent().data("icon")?'<i class="'+n.parent().data("icon")+'"></i> ':"";l=h+'<span class="text">'+l+u+"</span>",i.push(0!=n[0].index?'<div class="div-contain"><div class="divider"></div></div><dt>'+l+"</dt>"+e.createA(r,"opt "+o):"<dt>"+l+"</dt>"+e.createA(r,"opt "+o))}else i.push(e.createA(r,"opt "+o));else i.push(1==n.data("divider")?'<div class="div-contain"><div class="divider"></div></div>':1==t(this).data("hidden")?"":e.createA(r,o))}),n.length>0)for(var r=0;r<n.length;r++){{this.$element.find("option").eq(r)}o+="<li rel="+r+">"+i[r]+"</li>"}return this.multiple||0!=this.$element.find("option:selected").length||e.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t(o)},createA:function(t,e){return'<a tabindex="0" class="'+e+'">'+t+'<i class="icon-ok check-mark"></i></a>'},render:function(){var e=this;this.$element.find("option").each(function(n){e.setDisabled(n,t(this).is(":disabled")||t(this).parent().is(":disabled")),e.setSelected(n,t(this).is(":selected"))});var n=this.$element.find("option:selected").map(function(){return void 0!=t(this).attr("title")?t(this).attr("title"):t(this).text()}).toArray(),i=this.multiple?n.join(", "):n[0];if(e.multiple&&e.options.selectedTextFormat.indexOf("count")>-1){var o=e.options.selectedTextFormat.split(">");(o.length>1&&n.length>o[1]||1==o.length&&n.length>=2)&&(i=n.length+" of "+this.$element.find("option").length+" selected")}i||(i=void 0!=e.options.title?e.options.title:e.options.noneSelectedText),e.$newElement.find(".filter-option").html(i)},setSize:function(){function e(){var e=a-t(window).scrollTop(),r=window.innerHeight,u=l+parseInt(i.css("margin-top"))+parseInt(i.css("margin-bottom"))+2,h=r-e-s-u;menuHeight=h,n.$newElement.hasClass("dropup")&&(menuHeight=e-u),minHeight=i.find("li").length+i.find("dt").length>3?3*o+u-2:0,i.css({"max-height":menuHeight+"px","overflow-y":"auto","min-height":minHeight+"px"})}var n=this,i=this.$newElement.find(".dropdown-menu"),o=(i.find("li > a"),this.$newElement.addClass("open").find(".dropdown-menu li > a").outerHeight());this.$newElement.removeClass("open");var r=i.find("li .divider").outerHeight(!0),a=this.$newElement.offset().top,s=this.$newElement.outerHeight(),l=parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom"))+parseInt(i.css("border-top-width"))+parseInt(i.css("border-bottom-width")),u=this.options.hideDisabled?":not(.disabled)":"";if("auto"==this.options.size)e(),t(window).resize(e),t(window).scroll(e);else if(this.options.size&&"auto"!=this.options.size&&i.find("li"+u).length>this.options.size){var h=i.find("li"+u+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),c=i.find("li").slice(0,h+1).find(".div-contain").length;menuHeight=o*this.options.size+c*r+l,i.css({"max-height":menuHeight+"px","overflow-y":"auto"})}if("auto"==this.options.width){this.$newElement.find(".dropdown-menu").css("min-width","0");var p=this.$newElement.find(".dropdown-menu").css("width");this.$newElement.css("width",p),this.options.container&&this.$element.css("width",p)}else this.options.width&&"auto"!=this.options.width&&(this.$newElement.css("width",this.options.width),this.options.container&&this.$element.css("width",this.options.width))},selectPosition:function(){var t=this.$element.offset().top,e=this.$element.offset().left;this.$newElement.appendTo(this.options.container),this.$newElement.css({position:"absolute",top:t+"px",left:e+"px"})},refresh:function(){this.reloadLi(),this.render(),this.setSize(),this.checkDisabled(),this.options.container&&this.selectPosition()},setSelected:function(t,e){e?this.$newElement.find("li").eq(t).addClass("selected"):this.$newElement.find("li").eq(t).removeClass("selected")},setDisabled:function(t,e){e?this.$newElement.find("li").eq(t).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$newElement.find("li").eq(t).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")||this.$element.attr("readonly")},checkDisabled:function(){this.isDisabled()?(this.button.addClass("disabled"),this.button.click(function(t){t.preventDefault()}),this.button.attr("tabindex","-1")):!this.isDisabled()&&this.button.hasClass("disabled")&&(this.button.removeClass("disabled"),this.button.click(function(){return!0}),this.button.removeAttr("tabindex"))},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var t=this.$element.attr("tabindex");this.button.attr("tabindex",t)}},clickListener:function(){var e=this;t("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click","li a",function(n){var i=t(this).parent().index(),o=t(this).parent(),r=o.parents(".bootstrap-select"),a=e.$element.val();if(e.multiple&&n.stopPropagation(),n.preventDefault(),e.$element.not(":disabled")&&!t(this).parent().hasClass("disabled")){if(e.multiple){var s=e.$element.find("option").eq(i).prop("selected");s?e.$element.find("option").eq(i).removeAttr("selected"):e.$element.find("option").eq(i).prop("selected",!0).attr("selected","selected")}else e.$element.find("option").removeAttr("selected"),e.$element.find("option").eq(i).prop("selected",!0).attr("selected","selected");r.find(".filter-option").html(o.text()),r.find("button").focus(),a!=e.$element.val()&&e.$element.trigger("change"),e.render()}}),this.$newElement.on("click","li.disabled a, li dt, li .div-contain",function(e){e.preventDefault(),e.stopPropagation(),$select=t(this).parent().parents(".bootstrap-select"),$select.find("button").focus()}),this.$element.on("change",function(){e.render()})},val:function(t){return void 0!=t?(this.$element.val(t),this.$element.trigger("change"),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected"),this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected"),this.render()},keydown:function(e){var n,i,o,r,a,s,l,u,h;if(n=t(this),o=n.parent(),i=t("[role=menu] li:not(.divider):visible a",o),i.length){if(/(38|40)/.test(e.keyCode))r=i.index(i.filter(":focus")),s=i.parent(":not(.disabled)").first().index(),l=i.parent(":not(.disabled)").last().index(),a=i.eq(r).parent().nextAll(":not(.disabled)").eq(0).index(),u=i.eq(r).parent().prevAll(":not(.disabled)").eq(0).index(),h=i.eq(a).parent().prevAll(":not(.disabled)").eq(0).index(),38==e.keyCode&&(r!=h&&r>u&&(r=u),s>r&&(r=s)),40==e.keyCode&&(r!=h&&a>r&&(r=a),r>l&&(r=l)),i.eq(r).focus();else{var c={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},p=[];i.each(function(){t(this).parent().is(":not(.disabled)")&&t.trim(t(this).text().toLowerCase()).substring(0,1)==c[e.keyCode]&&p.push(t(this).parent().index())});var d=t(document).data("keycount");d++,t(document).data("keycount",d);var f=t.trim(t(":focus").text().toLowerCase()).substring(0,1);f!=c[e.keyCode]?(d=1,t(document).data("keycount",d)):d>=p.length&&t(document).data("keycount",0),i.eq(p[d-1]).focus()}/(13)/.test(e.keyCode)&&(t(":focus").click(),o.addClass("open"),t(document).data("keycount",0))}}},t.fn.selectpicker=function(n,i){var o,r=arguments,a=this.each(function(){if(t(this).is("select")){var a=t(this),s=a.data("selectpicker"),l="object"==typeof n&&n;if(s){if(l)for(var u in l)s.options[u]=l[u]}else a.data("selectpicker",s=new e(this,l,i));"string"==typeof n&&(property=n,s[property]instanceof Function?([].shift.apply(r),o=s[property].apply(s,r)):o=s.options[property])}});return void 0!=o?o:a},t.fn.selectpicker.defaults={style:null,size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",width:null,container:!1,hideDisabled:!1},t(document).data("keycount",0).on("keydown","[data-toggle=dropdown], [role=menu]",e.prototype.keydown)}(window.jQuery),window.InfoBubble=InfoBubble,InfoBubble.prototype.ARROW_SIZE_=15,InfoBubble.prototype.ARROW_STYLE_=0,InfoBubble.prototype.SHADOW_STYLE_=1,InfoBubble.prototype.MIN_WIDTH_=50,InfoBubble.prototype.ARROW_POSITION_=50,InfoBubble.prototype.PADDING_=10,InfoBubble.prototype.BORDER_WIDTH_=1,InfoBubble.prototype.BORDER_COLOR_="#ccc",InfoBubble.prototype.BORDER_RADIUS_=10,InfoBubble.prototype.BACKGROUND_COLOR_="#fff",InfoBubble.prototype.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},InfoBubble.prototype.buildDom_=function(){var t=this.bubble_=document.createElement("DIV");t.style.position="absolute",t.style.zIndex=this.baseZIndex_;var e=this.tabsContainer_=document.createElement("DIV");e.style.position="relative";var n=this.close_=document.createElement("IMG");n.style.position="absolute",n.style.width=this.px(12),n.style.height=this.px(12),n.style.top=this.px(10),n.style.right=this.px(10),n.style.border=0,n.style.zIndex=this.baseZIndex_+1,n.style.cursor="pointer",n.src="http://maps.gstatic.com/intl/en_us/mapfiles/iw_close.gif";var i=this;google.maps.event.addDomListener(n,"click",function(){i.close(),google.maps.event.trigger(i,"closeclick")});var o=this.contentContainer_=document.createElement("DIV");o.style.overflowX="auto",o.style.overflowY="auto",o.style.cursor="default",o.style.clear="both",o.style.position="relative";var r=this.content_=document.createElement("DIV");o.appendChild(r);var a=this.arrow_=document.createElement("DIV");a.style.position="relative";var s=this.arrowOuter_=document.createElement("DIV"),l=this.arrowInner_=document.createElement("DIV"),u=this.getArrowSize_();s.style.position=l.style.position="absolute",s.style.left=l.style.left="50%",s.style.height=l.style.height="0",s.style.width=l.style.width="0",s.style.marginLeft=this.px(-u),s.style.borderWidth=this.px(u),s.style.borderBottomWidth=0;var h=this.bubbleShadow_=document.createElement("DIV");h.style.position="absolute",t.style.display=h.style.display="none",t.appendChild(this.tabsContainer_),t.appendChild(n),t.appendChild(o),a.appendChild(s),a.appendChild(l),t.appendChild(a);var c=document.createElement("style");c.setAttribute("type","text/css"),this.animationName_="_ibani_"+Math.round(1e4*Math.random());var p="."+this.animationName_+"{-webkit-animation-name:"+this.animationName_+";-webkit-animation-duration:0.5s;-webkit-animation-iteration-count:1;}@-webkit-keyframes "+this.animationName_+" {from {-webkit-transform: scale(0)}50% {-webkit-transform: scale(1.2)}90% {-webkit-transform: scale(0.95)}to {-webkit-transform: scale(1)}}";c.textContent=p,document.getElementsByTagName("head")[0].appendChild(c)},InfoBubble.prototype.setBackgroundClassName=function(t){this.set("backgroundClassName",t)},InfoBubble.prototype.setBackgroundClassName=InfoBubble.prototype.setBackgroundClassName,InfoBubble.prototype.backgroundClassName_changed=function(){this.content_.className=this.get("backgroundClassName")},InfoBubble.prototype.backgroundClassName_changed=InfoBubble.prototype.backgroundClassName_changed,InfoBubble.prototype.setTabClassName=function(t){this.set("tabClassName",t)},InfoBubble.prototype.setTabClassName=InfoBubble.prototype.setTabClassName,InfoBubble.prototype.tabClassName_changed=function(){this.updateTabStyles_()},InfoBubble.prototype.tabClassName_changed=InfoBubble.prototype.tabClassName_changed,InfoBubble.prototype.getArrowStyle_=function(){return parseInt(this.get("arrowStyle"),10)||0},InfoBubble.prototype.setArrowStyle=function(t){this.set("arrowStyle",t)},InfoBubble.prototype.setArrowStyle=InfoBubble.prototype.setArrowStyle,InfoBubble.prototype.arrowStyle_changed=function(){this.arrowSize_changed()},InfoBubble.prototype.arrowStyle_changed=InfoBubble.prototype.arrowStyle_changed,InfoBubble.prototype.getArrowSize_=function(){return parseInt(this.get("arrowSize"),10)||0},InfoBubble.prototype.setArrowSize=function(t){this.set("arrowSize",t)},InfoBubble.prototype.setArrowSize=InfoBubble.prototype.setArrowSize,InfoBubble.prototype.arrowSize_changed=function(){this.borderWidth_changed()},InfoBubble.prototype.arrowSize_changed=InfoBubble.prototype.arrowSize_changed,InfoBubble.prototype.setArrowPosition=function(t){this.set("arrowPosition",t)},InfoBubble.prototype.setArrowPosition=InfoBubble.prototype.setArrowPosition,InfoBubble.prototype.getArrowPosition_=function(){return parseInt(this.get("arrowPosition"),10)||0},InfoBubble.prototype.arrowPosition_changed=function(){var t=this.getArrowPosition_();this.arrowOuter_.style.left=this.arrowInner_.style.left=t+"%",this.redraw_()},InfoBubble.prototype.arrowPosition_changed=InfoBubble.prototype.arrowPosition_changed,InfoBubble.prototype.setZIndex=function(t){this.set("zIndex",t)},InfoBubble.prototype.setZIndex=InfoBubble.prototype.setZIndex,InfoBubble.prototype.getZIndex=function(){return parseInt(this.get("zIndex"),10)||this.baseZIndex_},InfoBubble.prototype.zIndex_changed=function(){var t=this.getZIndex();this.bubble_.style.zIndex=this.baseZIndex_=t,this.close_.style.zIndex=t+1},InfoBubble.prototype.zIndex_changed=InfoBubble.prototype.zIndex_changed,InfoBubble.prototype.setShadowStyle=function(t){this.set("shadowStyle",t)},InfoBubble.prototype.setShadowStyle=InfoBubble.prototype.setShadowStyle,InfoBubble.prototype.getShadowStyle_=function(){return parseInt(this.get("shadowStyle"),10)||0},InfoBubble.prototype.shadowStyle_changed=function(){var t=this.getShadowStyle_(),e="",n="",i="";switch(t){case 0:e="none";break;case 1:n="40px 15px 10px rgba(33,33,33,0.3)",i="transparent";break;case 2:n="0 0 2px rgba(33,33,33,0.3)",i="rgba(33,33,33,0.35)"}this.bubbleShadow_.style.boxShadow=this.bubbleShadow_.style.webkitBoxShadow=this.bubbleShadow_.style.MozBoxShadow=n,this.bubbleShadow_.style.backgroundColor=i,this.isOpen_&&(this.bubbleShadow_.style.display=e,this.draw())},InfoBubble.prototype.shadowStyle_changed=InfoBubble.prototype.shadowStyle_changed,InfoBubble.prototype.showCloseButton=function(){this.set("hideCloseButton",!1)},InfoBubble.prototype.showCloseButton=InfoBubble.prototype.showCloseButton,InfoBubble.prototype.hideCloseButton=function(){this.set("hideCloseButton",!0)},InfoBubble.prototype.hideCloseButton=InfoBubble.prototype.hideCloseButton,InfoBubble.prototype.hideCloseButton_changed=function(){this.close_.style.display=this.get("hideCloseButton")?"none":""},InfoBubble.prototype.hideCloseButton_changed=InfoBubble.prototype.hideCloseButton_changed,InfoBubble.prototype.setBackgroundColor=function(t){t&&this.set("backgroundColor",t)},InfoBubble.prototype.setBackgroundColor=InfoBubble.prototype.setBackgroundColor,InfoBubble.prototype.backgroundColor_changed=function(){var t=this.get("backgroundColor");this.contentContainer_.style.backgroundColor=t,this.arrowInner_.style.borderColor=t+" transparent transparent",this.updateTabStyles_()},InfoBubble.prototype.backgroundColor_changed=InfoBubble.prototype.backgroundColor_changed,InfoBubble.prototype.setBorderColor=function(t){t&&this.set("borderColor",t)},InfoBubble.prototype.setBorderColor=InfoBubble.prototype.setBorderColor,InfoBubble.prototype.borderColor_changed=function(){var t=this.get("borderColor"),e=this.contentContainer_,n=this.arrowOuter_;e.style.borderColor=t,n.style.borderColor=t+" transparent transparent",e.style.borderStyle=n.style.borderStyle=this.arrowInner_.style.borderStyle="solid",this.updateTabStyles_()},InfoBubble.prototype.borderColor_changed=InfoBubble.prototype.borderColor_changed,InfoBubble.prototype.setBorderRadius=function(t){this.set("borderRadius",t)},InfoBubble.prototype.setBorderRadius=InfoBubble.prototype.setBorderRadius,InfoBubble.prototype.getBorderRadius_=function(){return parseInt(this.get("borderRadius"),10)||0},InfoBubble.prototype.borderRadius_changed=function(){var t=this.getBorderRadius_(),e=this.getBorderWidth_();this.contentContainer_.style.borderRadius=this.contentContainer_.style.MozBorderRadius=this.contentContainer_.style.webkitBorderRadius=this.bubbleShadow_.style.borderRadius=this.bubbleShadow_.style.MozBorderRadius=this.bubbleShadow_.style.webkitBorderRadius=this.px(t),this.tabsContainer_.style.paddingLeft=this.tabsContainer_.style.paddingRight=this.px(t+e),this.redraw_()},InfoBubble.prototype.borderRadius_changed=InfoBubble.prototype.borderRadius_changed,InfoBubble.prototype.getBorderWidth_=function(){return parseInt(this.get("borderWidth"),10)||0},InfoBubble.prototype.setBorderWidth=function(t){this.set("borderWidth",t)},InfoBubble.prototype.setBorderWidth=InfoBubble.prototype.setBorderWidth,InfoBubble.prototype.borderWidth_changed=function(){var t=this.getBorderWidth_();this.contentContainer_.style.borderWidth=this.px(t),this.tabsContainer_.style.top=this.px(t),this.updateArrowStyle_(),this.updateTabStyles_(),this.borderRadius_changed(),this.redraw_()},InfoBubble.prototype.borderWidth_changed=InfoBubble.prototype.borderWidth_changed,InfoBubble.prototype.updateArrowStyle_=function(){var t=this.getBorderWidth_(),e=this.getArrowSize_(),n=this.getArrowStyle_(),i=this.px(e),o=this.px(Math.max(0,e-t)),r=this.arrowOuter_,a=this.arrowInner_;this.arrow_.style.marginTop=this.px(-t),r.style.borderTopWidth=i,a.style.borderTopWidth=o,0==n||1==n?(r.style.borderLeftWidth=i,a.style.borderLeftWidth=o):r.style.borderLeftWidth=a.style.borderLeftWidth=0,0==n||2==n?(r.style.borderRightWidth=i,a.style.borderRightWidth=o):r.style.borderRightWidth=a.style.borderRightWidth=0,2>n?(r.style.marginLeft=this.px(-e),a.style.marginLeft=this.px(-(e-t))):r.style.marginLeft=a.style.marginLeft=0,r.style.display=0==t?"none":""},InfoBubble.prototype.setPadding=function(t){this.set("padding",t)},InfoBubble.prototype.setPadding=InfoBubble.prototype.setPadding,InfoBubble.prototype.getPadding_=function(){return parseInt(this.get("padding"),10)||0},InfoBubble.prototype.padding_changed=function(){var t=this.getPadding_();this.contentContainer_.style.padding=this.px(t),this.updateTabStyles_(),this.redraw_()},InfoBubble.prototype.padding_changed=InfoBubble.prototype.padding_changed,InfoBubble.prototype.px=function(t){return t?t+"px":t},InfoBubble.prototype.addEvents_=function(){var t=["mousedown","mousemove","mouseover","mouseout","mouseup","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","dblclick","contextmenu","click"],e=this.bubble_;this.listeners_=[];for(var n,i=0;n=t[i];i++)this.listeners_.push(google.maps.event.addDomListener(e,n,function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}))},InfoBubble.prototype.onAdd=function(){this.bubble_||this.buildDom_(),this.addEvents_();var t=this.getPanes();t&&(t.floatPane.appendChild(this.bubble_),t.floatShadow.appendChild(this.bubbleShadow_))},InfoBubble.prototype.onAdd=InfoBubble.prototype.onAdd,InfoBubble.prototype.draw=function(){var t=this.getProjection();if(t){var e=this.get("position");if(!e)return void this.close();var n=0;this.activeTab_&&(n=this.activeTab_.offsetHeight);var i=this.getAnchorHeight_(),o=this.getArrowSize_(),r=this.getArrowPosition_();r/=100;var a=t.fromLatLngToDivPixel(e),s=this.contentContainer_.offsetWidth,l=this.bubble_.offsetHeight;if(s){var u=a.y-(l+o);i&&(u-=i);var h=a.x-s*r;this.bubble_.style.top=this.px(u),this.bubble_.style.left=this.px(h);var c=parseInt(this.get("shadowStyle"),10);switch(c){case 1:this.bubbleShadow_.style.top=this.px(u+n-1),this.bubbleShadow_.style.left=this.px(h),this.bubbleShadow_.style.width=this.px(s),this.bubbleShadow_.style.height=this.px(this.contentContainer_.offsetHeight-o);break;case 2:s=.8*s,this.bubbleShadow_.style.top=this.px(i?a.y:a.y+o),this.bubbleShadow_.style.left=this.px(a.x-s*r),this.bubbleShadow_.style.width=this.px(s),this.bubbleShadow_.style.height=this.px(2)}}}},InfoBubble.prototype.draw=InfoBubble.prototype.draw,InfoBubble.prototype.onRemove=function(){this.bubble_&&this.bubble_.parentNode&&this.bubble_.parentNode.removeChild(this.bubble_),this.bubbleShadow_&&this.bubbleShadow_.parentNode&&this.bubbleShadow_.parentNode.removeChild(this.bubbleShadow_);for(var t,e=0;t=this.listeners_[e];e++)google.maps.event.removeListener(t)},InfoBubble.prototype.onRemove=InfoBubble.prototype.onRemove,InfoBubble.prototype.isOpen=function(){return this.isOpen_},InfoBubble.prototype.isOpen=InfoBubble.prototype.isOpen,InfoBubble.prototype.close=function(){this.bubble_&&(this.bubble_.style.display="none",this.bubble_.className=this.bubble_.className.replace(this.animationName_,"")),this.bubbleShadow_&&(this.bubbleShadow_.style.display="none",this.bubbleShadow_.className=this.bubbleShadow_.className.replace(this.animationName_,"")),this.isOpen_=!1},InfoBubble.prototype.close=InfoBubble.prototype.close,InfoBubble.prototype.open=function(t,e){var n=this;window.setTimeout(function(){n.open_(t,e)},0)},InfoBubble.prototype.open_=function(t,e){this.updateContent_(),t&&this.setMap(t),e&&(this.set("anchor",e),this.bindTo("anchorPoint",e),this.bindTo("position",e)),this.bubble_.style.display=this.bubbleShadow_.style.display="";var n=!this.get("disableAnimation");n&&(this.bubble_.className+=" "+this.animationName_,this.bubbleShadow_.className+=" "+this.animationName_),this.redraw_(),this.isOpen_=!0;var i=!this.get("disableAutoPan");if(i){var o=this;window.setTimeout(function(){o.panToView()},200)}},InfoBubble.prototype.open=InfoBubble.prototype.open,InfoBubble.prototype.setPosition=function(t){t&&this.set("position",t)},InfoBubble.prototype.setPosition=InfoBubble.prototype.setPosition,InfoBubble.prototype.getPosition=function(){return this.get("position")},InfoBubble.prototype.getPosition=InfoBubble.prototype.getPosition,InfoBubble.prototype.position_changed=function(){this.draw()},InfoBubble.prototype.position_changed=InfoBubble.prototype.position_changed,InfoBubble.prototype.panToView=function(){var t=this.getProjection();if(t&&this.bubble_){var e=this.getAnchorHeight_(),n=this.bubble_.offsetHeight+e,i=this.get("map"),o=i.getDiv(),r=o.offsetHeight,a=this.getPosition(),s=t.fromLatLngToContainerPixel(i.getCenter()),l=t.fromLatLngToContainerPixel(a),u=s.y-n,h=r-s.y,c=0>u,p=0;c&&(u*=-1,p=(u+h)/2),l.y-=p,a=t.fromContainerPixelToLatLng(l),i.getCenter()!=a&&i.panTo(a)}},InfoBubble.prototype.panToView=InfoBubble.prototype.panToView,InfoBubble.prototype.htmlToDocumentFragment_=function(t){t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1");var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},InfoBubble.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},InfoBubble.prototype.setContent=function(t){this.set("content",t)},InfoBubble.prototype.setContent=InfoBubble.prototype.setContent,InfoBubble.prototype.getContent=function(){return this.get("content")},InfoBubble.prototype.getContent=InfoBubble.prototype.getContent,InfoBubble.prototype.updateContent_=function(){if(this.content_){this.removeChildren_(this.content_);var t=this.getContent();if(t){"string"==typeof t&&(t=this.htmlToDocumentFragment_(t)),this.content_.appendChild(t);for(var e,n=this,i=this.content_.getElementsByTagName("IMG"),o=0;e=i[o];o++)google.maps.event.addDomListener(e,"load",function(){n.imageLoaded_()});google.maps.event.trigger(this,"domready")}this.redraw_()}},InfoBubble.prototype.imageLoaded_=function(){var t=!this.get("disableAutoPan");this.redraw_(),!t||0!=this.tabs_.length&&0!=this.activeTab_.index||this.panToView()},InfoBubble.prototype.updateTabStyles_=function(){if(this.tabs_&&this.tabs_.length){for(var t,e=0;t=this.tabs_[e];e++)this.setTabStyle_(t.tab);this.activeTab_.style.zIndex=this.baseZIndex_;var n=this.getBorderWidth_(),i=this.getPadding_()/2;this.activeTab_.style.borderBottomWidth=0,this.activeTab_.style.paddingBottom=this.px(i+n)}},InfoBubble.prototype.setTabStyle_=function(t){var e=this.get("backgroundColor"),n=this.get("borderColor"),i=this.getBorderRadius_(),o=this.getBorderWidth_(),r=this.getPadding_(),a=this.px(-Math.max(r,i)),s=this.px(i),l=this.baseZIndex_;t.index&&(l-=t.index);var u={cssFloat:"left",position:"relative",cursor:"pointer",backgroundColor:e,border:this.px(o)+" solid "+n,padding:this.px(r/2)+" "+this.px(r),marginRight:a,whiteSpace:"nowrap",borderRadiusTopLeft:s,MozBorderRadiusTopleft:s,webkitBorderTopLeftRadius:s,borderRadiusTopRight:s,MozBorderRadiusTopright:s,webkitBorderTopRightRadius:s,zIndex:l,display:"inline"};for(var h in u)t.style[h]=u[h];var c=this.get("tabClassName");void 0!=c&&(t.className+=" "+c)},InfoBubble.prototype.addTabActions_=function(t){var e=this;t.listener_=google.maps.event.addDomListener(t,"click",function(){e.setTabActive_(this)})},InfoBubble.prototype.setTabActive=function(t){var e=this.tabs_[t-1];e&&this.setTabActive_(e.tab)},InfoBubble.prototype.setTabActive=InfoBubble.prototype.setTabActive,InfoBubble.prototype.setTabActive_=function(t){if(!t)return this.setContent(""),void this.updateContent_();var e=this.getPadding_()/2,n=this.getBorderWidth_();if(this.activeTab_){var i=this.activeTab_;i.style.zIndex=this.baseZIndex_-i.index,i.style.paddingBottom=this.px(e),i.style.borderBottomWidth=this.px(n)}t.style.zIndex=this.baseZIndex_,t.style.borderBottomWidth=0,t.style.marginBottomWidth="-10px",t.style.paddingBottom=this.px(e+n),this.setContent(this.tabs_[t.index].content),this.updateContent_(),this.activeTab_=t,this.redraw_()},InfoBubble.prototype.setMaxWidth=function(t){this.set("maxWidth",t)},InfoBubble.prototype.setMaxWidth=InfoBubble.prototype.setMaxWidth,InfoBubble.prototype.maxWidth_changed=function(){this.redraw_()},InfoBubble.prototype.maxWidth_changed=InfoBubble.prototype.maxWidth_changed,InfoBubble.prototype.setMaxHeight=function(t){this.set("maxHeight",t)},InfoBubble.prototype.setMaxHeight=InfoBubble.prototype.setMaxHeight,InfoBubble.prototype.maxHeight_changed=function(){this.redraw_()},InfoBubble.prototype.maxHeight_changed=InfoBubble.prototype.maxHeight_changed,InfoBubble.prototype.setMinWidth=function(t){this.set("minWidth",t)},InfoBubble.prototype.setMinWidth=InfoBubble.prototype.setMinWidth,InfoBubble.prototype.minWidth_changed=function(){this.redraw_()},InfoBubble.prototype.minWidth_changed=InfoBubble.prototype.minWidth_changed,InfoBubble.prototype.setMinHeight=function(t){this.set("minHeight",t)},InfoBubble.prototype.setMinHeight=InfoBubble.prototype.setMinHeight,InfoBubble.prototype.minHeight_changed=function(){this.redraw_()},InfoBubble.prototype.minHeight_changed=InfoBubble.prototype.minHeight_changed,InfoBubble.prototype.addTab=function(t,e){var n=document.createElement("DIV");n.innerHTML=t,this.setTabStyle_(n),this.addTabActions_(n),this.tabsContainer_.appendChild(n),this.tabs_.push({label:t,content:e,tab:n}),n.index=this.tabs_.length-1,n.style.zIndex=this.baseZIndex_-n.index,this.activeTab_||this.setTabActive_(n),n.className=n.className+" "+this.animationName_,this.redraw_()},InfoBubble.prototype.addTab=InfoBubble.prototype.addTab,InfoBubble.prototype.updateTab=function(t,e,n){if(!(!this.tabs_.length||0>t||t>=this.tabs_.length)){var i=this.tabs_[t];void 0!=e&&(i.tab.innerHTML=i.label=e),void 0!=n&&(i.content=n),this.activeTab_==i.tab&&(this.setContent(i.content),this.updateContent_()),this.redraw_()}},InfoBubble.prototype.updateTab=InfoBubble.prototype.updateTab,InfoBubble.prototype.removeTab=function(t){if(!(!this.tabs_.length||0>t||t>=this.tabs_.length)){var e=this.tabs_[t];e.tab.parentNode.removeChild(e.tab),google.maps.event.removeListener(e.tab.listener_),this.tabs_.splice(t,1),delete e;for(var n,i=0;n=this.tabs_[i];i++)n.tab.index=i;e.tab==this.activeTab_&&(this.activeTab_=this.tabs_[t]?this.tabs_[t].tab:this.tabs_[t-1]?this.tabs_[t-1].tab:void 0,this.setTabActive_(this.activeTab_)),this.redraw_()}},InfoBubble.prototype.removeTab=InfoBubble.prototype.removeTab,InfoBubble.prototype.getElementSize_=function(t,e,n){var i=document.createElement("DIV");i.style.display="inline",i.style.position="absolute",i.style.visibility="hidden","string"==typeof t?i.innerHTML=t:i.appendChild(t.cloneNode(!0)),document.body.appendChild(i);var o=new google.maps.Size(i.offsetWidth,i.offsetHeight);return e&&o.width>e&&(i.style.width=this.px(e),o=new google.maps.Size(i.offsetWidth,i.offsetHeight)),n&&o.height>n&&(i.style.height=this.px(n),o=new google.maps.Size(i.offsetWidth,i.offsetHeight)),document.body.removeChild(i),delete i,o},InfoBubble.prototype.redraw_=function(){this.figureOutSize_(),this.positionCloseButton_(),this.draw()},InfoBubble.prototype.figureOutSize_=function(){var t=this.get("map");if(t){var e=this.getPadding_(),n=(this.getBorderWidth_(),this.getBorderRadius_(),this.getArrowSize_()),i=t.getDiv(),o=2*n,r=i.offsetWidth-o,a=i.offsetHeight-o-this.getAnchorHeight_(),s=0,l=this.get("minWidth")||0,u=this.get("minHeight")||0,h=this.get("maxWidth")||0,c=this.get("maxHeight")||0;h=Math.min(r,h),c=Math.min(a,c);var p=0;if(this.tabs_.length)for(var d,f=0;d=this.tabs_[f];f++){var g=this.getElementSize_(d.tab,h,c),m=this.getElementSize_(d.content,h,c);l<g.width&&(l=g.width),p+=g.width,u<g.height&&(u=g.height),g.height>s&&(s=g.height),l<m.width&&(l=m.width),u<m.height&&(u=m.height)
}else{var y=this.get("content");if("string"==typeof y&&(y=this.htmlToDocumentFragment_(y)),y){var m=this.getElementSize_(y,h,c);l<m.width&&(l=m.width),u<m.height&&(u=m.height)}}h&&(l=Math.min(l,h)),c&&(u=Math.min(u,c)),l=Math.max(l,p),l==p&&(l+=2*e),n=2*n,l=Math.max(l,n),l>r&&(l=r),u>a&&(u=a-s),this.tabsContainer_&&(this.tabHeight_=s,this.tabsContainer_.style.width=this.px(p)),this.contentContainer_.style.width=this.px(l),this.contentContainer_.style.height=this.px(u)}},InfoBubble.prototype.getAnchorHeight_=function(){var t=this.get("anchor");if(t){var e=this.get("anchorPoint");if(e)return-1*e.y}return 0},InfoBubble.prototype.anchorPoint_changed=function(){this.draw()},InfoBubble.prototype.anchorPoint_changed=InfoBubble.prototype.anchorPoint_changed,InfoBubble.prototype.positionCloseButton_=function(){var t=(this.getBorderRadius_(),this.getBorderWidth_()),e=2,n=2;this.tabs_.length&&this.tabHeight_&&(n+=this.tabHeight_),n+=t,e+=t;var i=this.contentContainer_;i&&i.clientHeight<i.scrollHeight&&(e+=15),this.close_.style.right=this.px(e),this.close_.style.top=this.px(n)},function(t){var e,n=this,i=n.document,o=t(i),r=t(n),a=Array.prototype,s=1.28,l=!0,u=3e4,h=!1,c=navigator.userAgent.toLowerCase(),p=n.location.hash.replace(/#\//,""),d=function(){},f=function(){return!1},g=function(){var t=3,n=i.createElement("div"),o=n.getElementsByTagName("i");do n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(o[0]);return t>4?t:e}(),m=function(){return{html:i.documentElement,body:i.body,head:i.getElementsByTagName("head")[0],title:i.title}},y="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",v=function(){var e=[];return t.each(y.split(" "),function(t,n){e.push(n),/_/.test(n)&&e.push(n.replace(/_/g,""))}),e}(),b=function(e){var n;return"object"!=typeof e?e:(t.each(e,function(i,o){/^[a-z]+_/.test(i)&&(n="",t.each(i.split("_"),function(t,e){n+=t>0?e.substr(0,1).toUpperCase()+e.substr(1):e}),e[n]=o,delete e[i])}),e)},w=function(e){return t.inArray(e,v)>-1?Galleria[e.toUpperCase()]:e},_={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(t){return"http://www.youtube.com/embed/"+t},getThumb:function(e,n,i){i=i||d,t.getJSON("http://gdata.youtube.com/feeds/api/videos/"+e+"?v=2&alt=json-in-script&callback=?",function(t){try{n(t.entry.media$group.media$thumbnail[0].url)}catch(e){i()}}).error(i)}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(t){return"http://player.vimeo.com/video/"+t},getThumb:function(e,n,i){i=i||d,t.getJSON("http://vimeo.com/api/v2/video/"+e+".json?callback=?",function(t){try{n(t[0].thumbnail_medium)}catch(e){i()}}).error(i)}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(t){return"http://www.dailymotion.com/embed/video/"+t},getThumb:function(e,n,i){i=i||d,t.getJSON("https://api.dailymotion.com/video/"+e+"?fields=thumbnail_medium_url&callback=?",function(t){try{n(t.thumbnail_medium_url)}catch(e){i()}}).error(i)}}},x=function(t){var e;for(var n in _)if(e=t&&t.match(_[n].reg),e&&e.length)return{id:e[2],provider:n};return!1},S={support:function(){var t=m().html;return t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen}(),callback:d,enter:function(t,e){this.instance=t,this.callback=e||d;var n=m().html;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen&&n.webkitRequestFullScreen()},exit:function(t){this.callback=t||d,i.exitFullscreen?i.exitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitCancelFullScreen&&i.webkitCancelFullScreen()},instance:null,listen:function(){if(this.support){var t=function(){if(S.instance){var t=S.instance._fullscreen;i.fullscreen||i.mozFullScreen||i.webkitIsFullScreen?t._enter(S.callback):t._exit(S.callback)}};i.addEventListener("fullscreenchange",t,!1),i.addEventListener("mozfullscreenchange",t,!1),i.addEventListener("webkitfullscreenchange",t,!1)}}},k=[],C=[],T=!1,$=!1,E=[],I=function(e){Galleria.theme=e,t.each(E,function(t,e){e._initialized||e._init.call(e)})},A=function(){return{clearTimer:function(e){t.each(Galleria.get(),function(){this.clearTimer(e)})},addTimer:function(e){t.each(Galleria.get(),function(){this.addTimer(e)})},array:function(t){return a.slice.call(t,0)},create:function(t,e){e=e||"div";var n=i.createElement(e);return n.className=t,n},getScriptPath:function(e){e=e||t("script:last").attr("src");var n=e.split("/");return 1==n.length?"":(n.pop(),n.join("/")+"/")},animate:function(){var e,o,r,a,s,l,u,h=function(t){var e,i="transition WebkitTransition MozTransition OTransition".split(" ");if(n.opera)return!1;for(e=0;i[e];e++)if("undefined"!=typeof t[i[e]])return i[e];return!1}((i.body||i.documentElement).style),c={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[h],p={_default:[.25,.1,.25,1],galleria:[.645,.045,.355,1],galleriaIn:[.55,.085,.68,.53],galleriaOut:[.25,.46,.45,.94],ease:[.25,0,.25,1],linear:[.25,.25,.75,.75],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},f=function(e,n,i){var o={};i=i||"transition",t.each("webkit moz ms o".split(" "),function(){o["-"+this+"-"+i]=n}),e.css(o)},g=function(t){f(t,"none","transition"),Galleria.WEBKIT&&Galleria.TOUCH&&(f(t,"translate3d(0,0,0)","transform"),t.data("revert")&&(t.css(t.data("revert")),t.data("revert",null)))};return function(i,m,y){return y=t.extend({duration:400,complete:d,stop:!1},y),i=t(i),y.duration?h?(y.stop&&(i.unbind(c),g(i)),e=!1,t.each(m,function(t,n){u=i.css(t),A.parseValue(u)!=A.parseValue(n)&&(e=!0),i.css(t,u)}),e?(o=[],r=y.easing in p?p[y.easing]:p._default,a=" "+y.duration+"ms cubic-bezier("+r.join(",")+")",n.setTimeout(function(e,n,i,r){return function(){e.one(n,function(t){return function(){g(t),y.complete.call(t[0])}}(e)),Galleria.WEBKIT&&Galleria.TOUCH&&(s={},l=[0,0,0],t.each(["left","top"],function(t,n){n in i&&(l[t]=A.parseValue(i[n])-A.parseValue(e.css(n))+"px",s[n]=i[n],delete i[n])}),(l[0]||l[1])&&(e.data("revert",s),o.push("-webkit-transform"+r),f(e,"translate3d("+l.join(",")+")","transform"))),t.each(i,function(t){o.push(t+r)}),f(e,o.join(",")),e.css(i)}}(i,c,m,a),2),void 0):void n.setTimeout(function(){y.complete.call(i[0])},y.duration)):void i.animate(m,y):(i.css(m),void y.complete.call(i[0]))}}(),removeAlpha:function(t){if(9>g&&t){var e=t.style,n=t.currentStyle,i=n&&n.filter||e.filter||"";/alpha/.test(i)&&(e.filter=i.replace(/alpha\([^)]*\)/i,""))}},forceStyles:function(e,n){e=t(e),e.attr("style")&&e.data("styles",e.attr("style")).removeAttr("style"),e.css(n)},revertStyles:function(){t.each(A.array(arguments),function(e,n){n=t(n),n.removeAttr("style"),n.attr("style",""),n.data("styles")&&n.attr("style",n.data("styles")).data("styles",null)})},moveOut:function(t){A.forceStyles(t,{position:"absolute",left:-1e4})},moveIn:function(){A.revertStyles.apply(A,A.array(arguments))},elem:function(e){return e instanceof t?{$:e,dom:e[0]}:{$:t(e),dom:e}},hide:function(t,e,n){n=n||d;var i=A.elem(t),o=i.$;t=i.dom,o.data("opacity")||o.data("opacity",o.css("opacity"));var r={opacity:0};if(e){var a=9>g&&t?function(){A.removeAlpha(t),t.style.visibility="hidden",n.call(t)}:n;A.animate(t,r,{duration:e,complete:a,stop:!0})}else 9>g&&t?(A.removeAlpha(t),t.style.visibility="hidden"):o.css(r)},show:function(t,e,n){n=n||d;var i=A.elem(t),o=i.$;t=i.dom;var r=parseFloat(o.data("opacity"))||1,a={opacity:r};if(e){9>g&&(o.css("opacity",0),t.style.visibility="visible");var s=9>g&&t?function(){1==a.opacity&&A.removeAlpha(t),n.call(t)}:n;A.animate(t,a,{duration:e,complete:s,stop:!0})}else 9>g&&1==a.opacity&&t?(A.removeAlpha(t),t.style.visibility="visible"):o.css(a)},optimizeTouch:function(){var e,n,i,o,r={},a=function(e){e.preventDefault(),r=t.extend({},e,!0)},s=function(){this.evt=r},l=function(){this.handler.call(e,this.evt)};return function(r){t(r).bind("touchend",function(r){for(e=r.target,o=!0;e.parentNode&&e!=r.currentTarget&&o;)n=t(e).data("events"),i=t(e).data("fakes"),n&&"click"in n?(o=!1,r.preventDefault(),t(e).click(a).click(),n.click.pop(),t.each(n.click,s),t(e).data("fakes",n.click),delete n.click):i&&(o=!1,r.preventDefault(),t.each(i,l)),e=e.parentNode})}}(),wait:function(e){e=t.extend({until:f,success:d,error:function(){Galleria.raise("Could not complete wait function.")},timeout:3e3},e);var i,o,r=A.timestamp(),a=function(){return o=A.timestamp(),i=o-r,e.until(i)?(e.success(),!1):"number"==typeof e.timeout&&o>=r+e.timeout?(e.error(),!1):void n.setTimeout(a,10)};n.setTimeout(a,10)},toggleQuality:function(t,e){7!==g&&8!==g||!t||"IMG"!=t.nodeName.toUpperCase()||("undefined"==typeof e&&(e="nearest-neighbor"===t.style.msInterpolationMode),t.style.msInterpolationMode=e?"bicubic":"nearest-neighbor")},insertStyleTag:function(t){var e=i.createElement("style");if(m().head.appendChild(e),e.styleSheet)e.styleSheet.cssText=t;else{var n=i.createTextNode(t);e.appendChild(n)}},loadScript:function(e,n){var i=!1,o=t("<script>").attr({src:e,async:!0}).get(0);o.onload=o.onreadystatechange=function(){!i&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&(i=!0,o.onload=o.onreadystatechange=null,"function"==typeof n&&n.call(this,this))},m().head.appendChild(o)},parseValue:function(t){if("number"==typeof t)return t;if("string"==typeof t){var e=t.match(/\-?\d|\./g);return e&&e.constructor===Array?1*e.join(""):0}return 0},timestamp:function(){return(new Date).getTime()},loadCSS:function(n,o,r){var a,s;if(t("link[rel=stylesheet]").each(function(){return new RegExp(n).test(this.href)?(a=this,!1):void 0}),"function"==typeof o&&(r=o,o=e),r=r||d,a)return r.call(a,a),a;if(s=i.styleSheets.length,t("#"+o).length)t("#"+o).attr("href",n),s--;else{a=t("<link>").attr({rel:"stylesheet",href:n,id:o}).get(0);var l=t('link[rel="stylesheet"], style');if(l.length?l.get(0).parentNode.insertBefore(a,l[0]):m().head.appendChild(a),g&&s>=31)return void Galleria.raise("You have reached the browser stylesheet limit (31)",!0)}if("function"==typeof r){var u=t("<s>").attr("id","galleria-loader").hide().appendTo(m().body);A.wait({until:function(){return 1==u.height()},success:function(){u.remove(),r.call(a,a)},error:function(){u.remove(),Galleria.raise("Theme CSS could not load. Please download the latest theme at http://galleria.io/customer/",!0)},timeout:1e4})}return a}}}(),P=function(){var e=function(e,n,i,o){var r=this.getOptions("easing"),a=this.getStageWidth(),s={left:a*(e.rewind?-1:1)},l={left:0};i?(s.opacity=0,l.opacity=1):s.opacity=1,t(e.next).css(s),A.animate(e.next,l,{duration:e.speed,complete:function(t){return function(){n(),t.css({left:0})}}(t(e.next).add(e.prev)),queue:!1,easing:r}),o&&(e.rewind=!e.rewind),e.prev&&(s={left:0},l={left:a*(e.rewind?1:-1)},i&&(s.opacity=1,l.opacity=0),t(e.prev).css(s),A.animate(e.prev,l,{duration:e.speed,queue:!1,easing:r,complete:function(){t(this).css("opacity",0)}}))};return{active:!1,init:function(t,e,n){P.effects.hasOwnProperty(t)&&P.effects[t].call(this,e,n)},effects:{fade:function(e,n){t(e.next).css({opacity:0,left:0}).show(),A.animate(e.next,{opacity:1},{duration:e.speed,complete:n}),e.prev&&(t(e.prev).css("opacity",1).show(),A.animate(e.prev,{opacity:0},{duration:e.speed}))},flash:function(e,n){t(e.next).css({opacity:0,left:0}),e.prev?A.animate(e.prev,{opacity:0},{duration:e.speed/2,complete:function(){A.animate(e.next,{opacity:1},{duration:e.speed,complete:n})}}):A.animate(e.next,{opacity:1},{duration:e.speed,complete:n})},pulse:function(e,n){e.prev&&t(e.prev).hide(),t(e.next).css({opacity:0,left:0}).show(),A.animate(e.next,{opacity:1},{duration:e.speed,complete:n})},slide:function(){e.apply(this,A.array(arguments))},fadeslide:function(){e.apply(this,A.array(arguments).concat([!0]))},doorslide:function(){e.apply(this,A.array(arguments).concat([!1,!0]))}}}}();S.listen(),Galleria=function(){var i=this;this._options={},this._playing=!1,this._playtime=5e3,this._active=null,this._queue={length:0},this._data=[],this._dom={},this._thumbnails=[],this._layers=[],this._initialized=!1,this._firstrun=!1,this._stageWidth=0,this._stageHeight=0,this._target=e,this._binds=[],this._id=parseInt(1e4*Math.random(),10);var a="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",s="current total";t.each(a.split(" "),function(t,e){i._dom[e]=A.create("galleria-"+e)}),t.each(s.split(" "),function(t,e){i._dom[e]=A.create("galleria-"+e,"span")});var l=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(t){var e=t.keyCode||t.which;e in l.map&&"function"==typeof l.map[e]&&l.map[e].call(i,t)},attach:function(t){var e,n;for(e in t)t.hasOwnProperty(e)&&(n=e.toUpperCase(),n in l.keys?l.map[l.keys[n]]=t[e]:l.map[n]=t[e]);l.bound||(l.bound=!0,o.bind("keydown",l.press))},detach:function(){l.bound=!1,l.map={},o.unbind("keydown",l.press)}},u=this._controls={0:e,1:e,active:0,swap:function(){u.active=u.active?0:1},getActive:function(){return u[u.active]},getNext:function(){return u[1-u.active]}},h=this._carousel={next:i.$("thumb-nav-right"),prev:i.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var e=0,n=0,o=[0];t.each(i._thumbnails,function(i,r){r.ready&&(e+=r.outerWidth||t(r.container).outerWidth(!0),o[i+1]=e,n=Math.max(n,r.outerHeight||t(r.container).outerHeight(!0)))}),i.$("thumbnails").css({width:e,height:n}),h.max=e,h.hooks=o,h.width=i.$("thumbnails-list").width(),h.setClasses(),i.$("thumbnails-container").toggleClass("galleria-carousel",e>h.width),h.width=i.$("thumbnails-list").width()},bindControls:function(){var t;h.next.bind("click",function(e){if(e.preventDefault(),"auto"===i._options.carouselSteps){for(t=h.current;t<h.hooks.length;t++)if(h.hooks[t]-h.hooks[h.current]>h.width){h.set(t-2);break}}else h.set(h.current+i._options.carouselSteps)}),h.prev.bind("click",function(e){if(e.preventDefault(),"auto"===i._options.carouselSteps)for(t=h.current;t>=0;t--){if(h.hooks[h.current]-h.hooks[t]>h.width){h.set(t+2);break}if(0===t){h.set(0);break}}else h.set(h.current-i._options.carouselSteps)})},set:function(t){for(t=Math.max(t,0);h.hooks[t-1]+h.width>=h.max&&t>=0;)t--;h.current=t,h.animate()},getLast:function(t){return(t||h.current)-1},follow:function(t){if(0===t||t===h.hooks.length-2)return void h.set(t);for(var e=h.current;h.hooks[e]-h.hooks[h.current]<h.width&&e<=h.hooks.length;)e++;t-1<h.current?h.set(t-1):t+2>e&&h.set(t-e+h.current+2)},setClasses:function(){h.prev.toggleClass("disabled",!h.current),h.next.toggleClass("disabled",h.hooks[h.current]+h.width>=h.max)},animate:function(){h.setClasses();var t=-1*h.hooks[h.current];isNaN(t)||A.animate(i.get("thumbnails"),{left:t},{duration:i._options.carouselSpeed,easing:i._options.easing,queue:!1})}},c=this._tooltip={initialized:!1,open:!1,timer:"tooltip"+i._id,swapTimer:"swap"+i._id,init:function(){c.initialized=!0;var t=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3;opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";A.insertStyleTag(t),i.$("tooltip").css({opacity:.8,visibility:"visible",display:"none"})},move:function(t){var e=i.getMousePosition(t).x,n=i.getMousePosition(t).y,o=i.$("tooltip"),r=e,a=n,s=o.outerHeight(!0)+1,l=o.outerWidth(!0),u=s+15,h=i.$("container").width()-l-2,c=i.$("container").height()-s-2;!isNaN(r)&&!isNaN(a)&&(r+=10,a-=30,r=Math.max(0,Math.min(h,r)),a=Math.max(0,Math.min(c,a)),u>n&&(a=u),o.css({left:r,top:a}))},bind:function(e,n){if(!Galleria.TOUCH){c.initialized||c.init();var o=function(){i.$("container").unbind("mousemove",c.move),i.clearTimer(c.timer),i.$("tooltip").stop().animate({opacity:0},200,function(){i.$("tooltip").hide(),i.addTimer(c.swapTimer,function(){c.open=!1},1e3)})},r=function(e,n){c.define(e,n),t(e).hover(function(){i.clearTimer(c.swapTimer),i.$("container").unbind("mousemove",c.move).bind("mousemove",c.move).trigger("mousemove"),c.show(e),i.addTimer(c.timer,function(){i.$("tooltip").stop().show().animate({opacity:1}),c.open=!0},c.open?0:500)},o).click(o)};"string"==typeof n?r(e in i._dom?i.get(e):e,n):t.each(e,function(t,e){r(i.get(t),e)})}},show:function(e){e=t(e in i._dom?i.get(e):e);var o=e.data("tt"),r=function(t){n.setTimeout(function(t){return function(){c.move(t)}}(t),10),e.unbind("mouseup",r)};o="function"==typeof o?o():o,o&&(i.$("tooltip").html(o.replace(/\s/,"&nbsp;")),e.bind("mouseup",r))},define:function(e,n){if("function"!=typeof n){var o=n;n=function(){return o}}e=t(e in i._dom?i.get(e):e).data("tt",n),c.show(e)}},p=this._fullscreen={scrolled:0,crop:e,transition:e,active:!1,keymap:i._keyboard.map,parseCallback:function(e,n){return P.active?function(){"function"==typeof e&&e();var o=i._controls.getActive(),r=i._controls.getNext();i._scaleImage(r),i._scaleImage(o),n&&i._options.trueFullscreen&&t(o.container).add(r.container).trigger("transitionend")}:e},enter:function(t){t=p.parseCallback(t,!0),i._options.trueFullscreen&&S.support?S.enter(i,t):p._enter(t)},_enter:function(n){p.active=!0,A.hide(i.getActiveImage()),i.$("container").addClass("fullscreen"),p.scrolled=r.scrollTop(),A.forceStyles(i.get("container"),{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e4});var o={height:"100%",overflow:"hidden",margin:0,padding:0},a=i.getData(),s=i._options;if(A.forceStyles(m().html,o),A.forceStyles(m().body,o),p.keymap=t.extend({},i._keyboard.map),i.attachKeyboard({escape:i.exitFullscreen,right:i.next,left:i.prev}),p.crop=s.imageCrop,s.fullscreenCrop!=e&&(s.imageCrop=s.fullscreenCrop),a&&a.big&&a.image!==a.big){var l=new Galleria.Picture,u=l.isCached(a.big),h=i.getIndex(),c=i._thumbnails[h];i.trigger({type:Galleria.LOADSTART,cached:u,rewind:!1,index:h,imageTarget:i.getActiveImage(),thumbTarget:c,galleriaData:a}),l.load(a.big,function(e){i._scaleImage(e,{complete:function(e){i.trigger({type:Galleria.LOADFINISH,cached:u,index:h,rewind:!1,imageTarget:e.image,thumbTarget:c});var n=i._controls.getActive().image;n&&t(n).width(e.image.width).height(e.image.height).attr("style",t(e.image).attr("style")).attr("src",e.image.src)}})})}i.rescale(function(){i.addTimer(!1,function(){A.show(i.getActiveImage()),"function"==typeof n&&n.call(i)},100),i.trigger(Galleria.FULLSCREEN_ENTER)}),r.resize(function(){p.scale()})},scale:function(){i.rescale()},exit:function(t){t=p.parseCallback(t),i._options.trueFullscreen&&S.support?S.exit(t):p._exit(t)},_exit:function(t){p.active=!1,A.hide(i.getActiveImage()),i.$("container").removeClass("fullscreen"),A.revertStyles(i.get("container"),m().html,m().body),n.scrollTo(0,p.scrolled),i.detachKeyboard(),i.attachKeyboard(p.keymap),i._options.imageCrop=p.crop;var e=i.getData().big,o=i._controls.getActive().image;!i.getData().iframe&&o&&e&&e==o.src&&n.setTimeout(function(t){return function(){o.src=t}}(i.getData().image),1),i.rescale(function(){i.addTimer(!1,function(){A.show(i.getActiveImage()),"function"==typeof t&&t.call(i),r.trigger("resize")},50),i.trigger(Galleria.FULLSCREEN_EXIT)}),r.unbind("resize",p.scale)}},d=this._idle={trunk:[],bound:!1,active:!1,add:function(e,n,i,o){if(e){d.bound||d.addEvent(),e=t(e),"boolean"==typeof i&&(o=i,i={}),i=i||{};var r,a={};for(r in n)n.hasOwnProperty(r)&&(a[r]=e.css(r));e.data("idle",{from:t.extend(a,i),to:n,complete:!0,busy:!1}),o?e.css(n):d.addTimer(),d.trunk.push(e)}},remove:function(e){e=t(e),t.each(d.trunk,function(t,n){n&&n.length&&!n.not(e).length&&(e.css(e.data("idle").from),d.trunk.splice(t,1))}),d.trunk.length||(d.removeEvent(),i.clearTimer(d.timer))},addEvent:function(){d.bound=!0,i.$("container").bind("mousemove click",d.showAll),"hover"==i._options.idleMode&&i.$("container").bind("mouseleave",d.hide)},removeEvent:function(){d.bound=!1,i.$("container").bind("mousemove click",d.showAll),"hover"==i._options.idleMode&&i.$("container").unbind("mouseleave",d.hide)},addTimer:function(){"hover"!=i._options.idleMode&&i.addTimer("idle",function(){d.hide()},i._options.idleTime)},hide:function(){if(i._options.idleMode&&i.getIndex()!==!1&&!i.getData().iframe){i.trigger(Galleria.IDLE_ENTER);var e=d.trunk.length;t.each(d.trunk,function(t,n){var o=n.data("idle");o&&(n.data("idle").complete=!1,A.animate(n,o.to,{duration:i._options.idleSpeed,complete:function(){t==e-1&&(d.active=!1)}}))})}},showAll:function(){i.clearTimer("idle"),t.each(d.trunk,function(t,e){d.show(e)})},show:function(e){var n=e.data("idle");d.active&&(n.busy||n.complete)||(n.busy=!0,i.trigger(Galleria.IDLE_EXIT),i.clearTimer("idle"),A.animate(e,n.from,{duration:i._options.idleSpeed/2,complete:function(){d.active=!0,t(e).data("idle").busy=!1,t(e).data("idle").complete=!0}})),d.addTimer()}},f=this._lightbox={width:0,height:0,initialized:!1,active:null,image:null,elems:{},keymap:!1,init:function(){if(i.trigger(Galleria.LIGHTBOX_OPEN),!f.initialized){f.initialized=!0;var e="overlay box content shadow title info close prevholder prev nextholder next counter image",n={},o=i._options,r="",a="position:absolute;",s="lightbox-",l={overlay:"position:fixed;display:none;opacity:"+o.overlayOpacity+";filter:alpha(opacity="+100*o.overlayOpacity+");top:0;left:0;width:100%;height:100%;background:"+o.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:a+"background:#000;width:100%;height:100%;",content:a+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:a+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:a+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:a+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:a+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:a+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:a+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:a+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},u=function(e){return e.hover(function(){t(this).css("color","#bbb")},function(){t(this).css("color","#444")})},h={};g&&g>7&&(l.nextholder+="background:#000;filter:alpha(opacity=0);",l.prevholder+="background:#000;filter:alpha(opacity=0);"),t.each(l,function(t,e){r+=".galleria-"+s+t+"{"+e+"}"}),r+=".galleria-"+s+"box.iframe .galleria-"+s+"prevholder,.galleria-"+s+"box.iframe .galleria-"+s+"nextholder{width:100px;height:100px;top:50%;margin-top:-70px}",A.insertStyleTag(r),t.each(e.split(" "),function(t,e){i.addElement("lightbox-"+e),n[e]=f.elems[e]=i.get("lightbox-"+e)}),f.image=new Galleria.Picture,t.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(e,n){var i=[];t.each(n.split(" "),function(t,e){i.push(s+e)}),h[s+e]=i}),i.append(h),t(n.image).append(f.image.container),t(m().body).append(n.overlay,n.box),A.optimizeTouch(n.box),u(t(n.close).bind("click",f.hide).html("&#215;")),t.each(["Prev","Next"],function(e,i){var o=t(n[i.toLowerCase()]).html(/v/.test(i)?"&#8249;&nbsp;":"&nbsp;&#8250;"),r=t(n[i.toLowerCase()+"holder"]);return r.bind("click",function(){f["show"+i]()}),8>g||Galleria.TOUCH?void o.show():void r.hover(function(){o.show()},function(){o.stop().fadeOut(200)})}),t(n.overlay).bind("click",f.hide),Galleria.IPAD&&(i._options.lightboxTransitionSpeed=0)}},rescale:function(e){var n=Math.min(r.width()-40,f.width),o=Math.min(r.height()-60,f.height),a=Math.min(n/f.width,o/f.height),s=Math.round(f.width*a)+40,l=Math.round(f.height*a)+60,u={width:s,height:l,"margin-top":-1*Math.ceil(l/2),"margin-left":-1*Math.ceil(s/2)};e?t(f.elems.box).css(u):t(f.elems.box).animate(u,{duration:i._options.lightboxTransitionSpeed,easing:i._options.easing,complete:function(){var e=f.image,n=i._options.lightboxFadeSpeed;i.trigger({type:Galleria.LIGHTBOX_IMAGE,imageTarget:e.image}),t(e.container).show(),t(e.image).animate({opacity:1},n),A.show(f.elems.info,n)}})},hide:function(){f.image.image=null,r.unbind("resize",f.rescale),t(f.elems.box).hide(),A.hide(f.elems.info),i.detachKeyboard(),i.attachKeyboard(f.keymap),f.keymap=!1,A.hide(f.elems.overlay,200,function(){t(this).hide().css("opacity",i._options.overlayOpacity),i.trigger(Galleria.LIGHTBOX_CLOSE)})},showNext:function(){f.show(i.getNext(f.active))},showPrev:function(){f.show(i.getPrev(f.active))},show:function(e){f.active=e="number"==typeof e?e:i.getIndex()||0,f.initialized||f.init(),f.keymap||(f.keymap=t.extend({},i._keyboard.map),i.attachKeyboard({escape:f.hide,right:f.showNext,left:f.showPrev})),r.unbind("resize",f.rescale);var o,a,s,l=i.getData(e),u=i.getDataLength(),h=i.getNext(e);A.hide(f.elems.info);try{for(s=i._options.preload;s>0;s--)a=new Galleria.Picture,o=i.getData(h),a.preload("big"in o?o.big:o.image),h=i.getNext(h)}catch(c){}f.image.isIframe=!!l.iframe,t(f.elems.box).toggleClass("iframe",!!l.iframe),f.image.load(l.iframe||l.big||l.image,function(i){f.width=i.isIframe?t(n).width():i.original.width,f.height=i.isIframe?t(n).height():i.original.height,t(i.image).css({width:i.isIframe?"100%":"100.1%",height:i.isIframe?"100%":"100.1%",top:0,zIndex:99998,opacity:0,visibility:"visible"}),f.elems.title.innerHTML=l.title||"",f.elems.counter.innerHTML=e+1+" / "+u,r.resize(f.rescale),f.rescale()}),t(f.elems.overlay).show().css("visibility","visible"),t(f.elems.box).show()}},y=this._timer={trunk:{},add:function(t,e,i,o){if(t=t||(new Date).getTime(),o=o||!1,this.clear(t),o){var r=e;e=function(){r(),y.add(t,e,i)}}this.trunk[t]=n.setTimeout(e,i)},clear:function(t){var e,i=function(t){n.clearTimeout(this.trunk[t]),delete this.trunk[t]};if(t&&t in this.trunk)i.call(this,t);else if("undefined"==typeof t)for(e in this.trunk)this.trunk.hasOwnProperty(e)&&i.call(this,e)}};return this},Galleria.prototype={constructor:Galleria,init:function(n,i){return i=b(i),this._original={target:n,options:i,data:null},this._target=this._dom.target=n.nodeName?n:t(n).get(0),this._original.html=this._target.innerHTML,C.push(this),this._target?(this._options={autoplay:!1,carousel:!0,carouselFollow:!0,carouselSpeed:400,carouselSteps:"auto",clicknext:!1,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(){return{}},dataSelector:"img",dataSort:!1,dataSource:this._target,debug:e,dummy:e,easing:"galleria",extend:function(){},fullscreenCrop:e,fullscreenDoubleTap:!0,fullscreenTransition:e,height:0,idleMode:!0,idleTime:3e3,idleSpeed:200,imageCrop:!1,imageMargin:0,imagePan:!1,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:e,initialTransition:e,keepSource:!1,layerFollow:!0,lightbox:!1,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:!0,maxScaleRatio:e,minScaleRatio:e,overlayOpacity:.85,overlayBackground:"#0b0b0b",pauseOnInteraction:!0,popupLinks:!1,preload:2,queue:!0,responsive:!0,show:0,showInfo:!0,showCounter:!0,showImagenav:!0,swipe:!0,thumbCrop:!0,thumbEventType:"click",thumbFit:!0,thumbMargin:0,thumbQuality:"auto",thumbDisplayOrder:!0,thumbnails:!0,touchTransition:e,transition:"fade",transitionInitial:e,transitionSpeed:400,trueFullscreen:!0,useCanvas:!1,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5e3,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}},this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial,i&&i.debug===!1&&(l=!1),i&&"number"==typeof i.imageTimeout&&(u=i.imageTimeout),i&&"string"==typeof i.dummy&&(h=i.dummy),t(this._target).children().hide(),"object"==typeof Galleria.theme?this._init():E.push(this),this):void Galleria.raise("Target not found",!0)},_init:function(){var e=this,o=this._options;if(this._initialized)return Galleria.raise("Init failed: Gallery instance already initialized."),this;if(this._initialized=!0,!Galleria.theme)return Galleria.raise("Init failed: No theme found.",!0),this;if(t.extend(!0,o,Galleria.theme.defaults,this._original.options,Galleria.configure.options),function(t){return"getContext"in t?void($=$||{elem:t,context:t.getContext("2d"),cache:{},length:0}):void(t=null)}(i.createElement("canvas")),this.bind(Galleria.DATA,function(){Galleria.QUIRK&&Galleria.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML."),this._original.data=this._data,this.get("total").innerHTML=this.getDataLength();var t=this.$("container");e._options.height<2&&(e._ratio=e._options.height);var i={width:0,height:0},o=function(){return e.$("stage").height()};A.wait({until:function(){return i=e._getWH(),t.width(i.width).height(i.height),o()&&i.width&&i.height>50},success:function(){e._width=i.width,e._height=i.height,e._ratio=e._ratio||i.height/i.width,Galleria.WEBKIT?n.setTimeout(function(){e._run()},1):e._run()},error:function(){o()?Galleria.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+i.width+"px, height: "+i.height+"px.",!0):Galleria.raise("Could not extract a stage height from the CSS. Traced height: "+o()+"px.",!0)},timeout:"number"==typeof this._options.wait?this._options.wait:!1})}),this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]}),A.hide(this.$("counter").append(this.get("current"),i.createTextNode(" / "),this.get("total"))),this.setCounter("&#8211;"),A.hide(e.get("tooltip")),this.$("container").addClass(Galleria.TOUCH?"touch":"notouch"),t.each(new Array(2),function(n){var i=new Galleria.Picture;t(i.container).css({position:"absolute",top:0,left:0}).prepend(e._layers[n]=t(A.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]),e.$("images").append(i.container),e._controls[n]=i}),this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"}),this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"}),this.$("image-nav-right, image-nav-left").bind("click",function(t){o.clicknext&&t.stopPropagation(),o.pauseOnInteraction&&e.pause();var n=/right/.test(this.className)?"next":"prev";e[n]()}),t.each(["info","counter","image-nav"],function(t,n){o["show"+n.substr(0,1).toUpperCase()+n.substr(1).replace(/-/,"")]===!1&&A.moveOut(e.get(n.toLowerCase()))}),this.load(),!o.keepSource&&!g&&(this._target.innerHTML=""),this.get("errors")&&this.appendChild("target","errors"),this.appendChild("target","container"),o.carousel){var a=0,s=o.show;this.bind(Galleria.THUMBNAIL,function(){this.updateCarousel(),++a==this.getDataLength()&&"number"==typeof s&&s>0&&this._carousel.follow(s)})}return o.responsive&&r.bind("resize",function(){e.isFullscreen()||e.resize()}),o.swipe&&(function(t){var n,i=[0,0],o=[0,0],r=30,a=100,s=!1,l=0,u={start:"touchstart",move:"touchmove",stop:"touchend"},h=function(t){return t.originalEvent.touches?t.originalEvent.touches[0]:t},c=function(t){t.originalEvent.touches&&t.originalEvent.touches.length>1||(n=h(t),o=[n.pageX,n.pageY],i[0]||(i=o),Math.abs(i[0]-o[0])>10&&t.preventDefault())},p=function(n){return t.unbind(u.move,c),n.originalEvent.touches&&n.originalEvent.touches.length||s?void(s=!s):(A.timestamp()-l<1e3&&Math.abs(i[0]-o[0])>r&&Math.abs(i[1]-o[1])<a&&(n.preventDefault(),e[i[0]>o[0]?"next":"prev"]()),void(i=o=[0,0]))};t.bind(u.start,function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1||(n=h(e),l=A.timestamp(),i=o=[n.pageX,n.pageY],t.bind(u.move,c).one(u.stop,p))})}(e.$("images")),o.fullscreenDoubleTap&&this.$("stage").bind("touchstart",function(){var t,n,i,o,r,a,s=function(t){return t.originalEvent.touches?t.originalEvent.touches[0]:t};return function(l){return a=Galleria.utils.timestamp(),n=s(l).pageX,i=s(l).pageY,500>a-t&&20>n-o&&20>i-r?(e.toggleFullscreen(),l.preventDefault(),e.$("stage").unbind("touchend",arguments.callee),void 0):(t=a,o=n,r=i,void 0)}}())),A.optimizeTouch(this.get("container")),t.each(Galleria.on.binds,function(n,i){-1==t.inArray(i.hash,e._binds)&&e.bind(i.type,i.callback)
}),this},addTimer:function(){return this._timer.add.apply(this._timer,A.array(arguments)),this},clearTimer:function(){return this._timer.clear.apply(this._timer,A.array(arguments)),this},_getWH:function(){var e,n=this.$("container"),i=this.$("target"),o=this,r={};return t.each(["width","height"],function(t,a){o._options[a]&&"number"==typeof o._options[a]?r[a]=o._options[a]:(e=[A.parseValue(n.css(a)),A.parseValue(i.css(a)),n[a](),i[a]()],o["_"+a]||e.splice(e.length,A.parseValue(n.css("min-"+a)),A.parseValue(i.css("min-"+a))),r[a]=Math.max.apply(Math,e))}),o._ratio&&(r.height=r.width*o._ratio),r},_createThumbnails:function(e){this.get("total").innerHTML=this.getDataLength();var o,r,a,s,l,u=this,h=this._options,c=e?this._data.length-e.length:0,p=c,d=[],f=0,m=8>g?"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",y=function(){var t=u.$("thumbnails").find(".active");return t.length?t.find("img").attr("src"):!1}(),v="string"==typeof h.thumbnails?h.thumbnails.toLowerCase():null,b=function(t){return i.defaultView&&i.defaultView.getComputedStyle?i.defaultView.getComputedStyle(r.container,null)[t]:l.css(t)},w=function(e,n,i){return function(){t(i).append(e),u.trigger({type:Galleria.THUMBNAIL,thumbTarget:e,index:n,galleriaData:u.getData(n)})}},x=function(e){h.pauseOnInteraction&&u.pause();var n=t(e.currentTarget).data("index");u.getIndex()!==n&&u.show(n),e.preventDefault()},S=function(e,n){t(e.container).css("visibility","visible"),u.trigger({type:Galleria.THUMBNAIL,thumbTarget:e.image,index:e.data.order,galleriaData:u.getData(e.data.order)}),"function"==typeof n&&n.call(u,e)},k=function(e,n){e.scale({width:e.data.width,height:e.data.height,crop:h.thumbCrop,margin:h.thumbMargin,canvas:h.useCanvas,complete:function(e){var i,o,r=["left","top"],a=["Width","Height"],s=u.getData(e.index),l=s.thumb.split(":");t.each(a,function(n,a){i=a.toLowerCase(),(h.thumbCrop!==!0||h.thumbCrop===i)&&h.thumbFit&&(o={},o[i]=e[i],t(e.container).css(o),o={},o[r[n]]=0,t(e.image).css(o)),e["outer"+a]=t(e.container)["outer"+a](!0)}),A.toggleQuality(e.image,h.thumbQuality===!0||"auto"===h.thumbQuality&&e.original.width<3*e.width),s.iframe&&2==l.length&&l[0]in _?_[l[0]].getThumb(l[1],function(t){return function(i){t.src=i,S(e,n)}}(e.image)):h.thumbDisplayOrder&&!e.lazy?t.each(d,function(t,e){return t===f&&e.ready&&!e.displayed?(f++,e.displayed=!0,S(e,n),void 0):void 0}):S(e,n)}})};for(e||(this._thumbnails=[],this.$("thumbnails").empty());this._data[c];c++)a=this._data[c],o=a.thumb||a.image,h.thumbnails!==!0&&"lazy"!=v||!a.thumb&&!a.image?a.iframe||"empty"===v||"numbers"===v?(r={container:A.create("galleria-image"),image:A.create("img","span"),ready:!0},"numbers"===v&&t(r.image).text(c+1),a.iframe&&t(r.image).addClass("iframe"),this.$("thumbnails").append(r.container),n.setTimeout(w(r.image,c,r.container),50+20*c)):r={container:null,image:null}:(r=new Galleria.Picture(c),r.index=c,r.displayed=!1,r.lazy=!1,r.video=!1,this.$("thumbnails").append(r.container),l=t(r.container),l.css("visibility","hidden"),r.data={width:A.parseValue(b("width")),height:A.parseValue(b("height")),order:c,src:o},l.css(h.thumbFit&&h.thumbCrop!==!0?{width:"auto",height:"auto"}:{width:r.data.width,height:r.data.height}),s=o.split(":"),2==s.length&&s[0]in _?(r.video=!0,r.ready=!0,r.load(m,{height:r.data.height,width:1.25*r.data.height},k)):"lazy"==v?(l.addClass("lazy"),r.lazy=!0,r.load(m,{height:r.data.height,width:r.data.width})):r.load(o,k),"all"===h.preload&&r.preload(a.image)),t(r.container).add(h.keepSource&&h.linkSourceImages?a.original:null).data("index",c).bind(h.thumbEventType,x).data("thumbload",k),y===o&&t(r.container).addClass("active"),this._thumbnails.push(r);return d=this._thumbnails.slice(p),this},lazyLoad:function(e,n){var i=e.constructor==Array?e:[e],o=this,r=(this.$("thumbnails").children().filter(function(){return t(this).data("lazy-src")}),0);return t.each(i,function(e,a){if(!(a>o._thumbnails.length-1)){var s=o._thumbnails[a],l=s.data,u=(l.src.split(":"),function(){++r==i.length&&"function"==typeof n&&n.call(o)}),h=t(s.container).data("thumbload");s.video?h.call(o,s,u):s.load(l.src,function(t){h.call(o,t,u)})}}),this},lazyLoadChunks:function(t,e){var i=this.getDataLength(),o=0,r=0,a=[],s=[],l=this;for(e=e||0;i>o;o++)s.push(o),(++r==t||o==i-1)&&(a.push(s),r=0,s=[]);var u=function(t){var i=a.shift();i&&n.setTimeout(function(){l.lazyLoad(i,function(){u(!0)})},e&&t?e:0)};return u(!1),this},_run:function(){var i=this;i._createThumbnails(),A.wait({timeout:1e4,until:function(){return Galleria.OPERA&&i.$("stage").css("display","inline-block"),i._stageWidth=i.$("stage").width(),i._stageHeight=i.$("stage").height(),i._stageWidth&&i._stageHeight>50},success:function(){return k.push(i),A.show(i.get("counter")),i._options.carousel&&i._carousel.bindControls(),i._options.autoplay&&(i.pause(),"number"==typeof i._options.autoplay&&(i._playtime=i._options.autoplay),i._playing=!0),i._firstrun?(i._options.autoplay&&i.trigger(Galleria.PLAY),void("number"==typeof i._options.show&&i.show(i._options.show))):(i._firstrun=!0,Galleria.History&&Galleria.History.change(function(t){isNaN(t)?n.history.go(-1):i.show(t,e,!0)}),i.trigger(Galleria.READY),Galleria.theme.init.call(i,i._options),t.each(Galleria.ready.callbacks,function(t,e){"function"==typeof e&&e.call(i,i._options)}),i._options.extend.call(i,i._options),/^[0-9]{1,4}$/.test(p)&&Galleria.History?i.show(p,e,!0):i._data[i._options.show]&&i.show(i._options.show),i._options.autoplay&&i.trigger(Galleria.PLAY),void 0)},error:function(){Galleria.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+i._stageWidth+"px, height: "+i._stageHeight+"px.",!0)}})},load:function(e,n,i){var o=this,r=this._options;return this._data=[],this._thumbnails=[],this.$("thumbnails").empty(),"function"==typeof n&&(i=n,n=null),e=e||r.dataSource,n=n||r.dataSelector,i=i||r.dataConfig,/^function Object/.test(e.constructor)&&(e=[e]),e.constructor===Array?this.validate(e)?this._data=e:Galleria.raise("Load failed: JSON Array not valid."):(n+=",.video,.iframe",t(e).find(n).each(function(e,n){n=t(n);var r={},a=n.parent(),s=a.attr("href"),l=a.attr("rel");s&&("IMG"==n[0].nodeName||n.hasClass("video"))&&x(s)?r.video=s:s&&n.hasClass("iframe")?r.iframe=s:r.image=r.big=s,l&&(r.big=l),t.each("big title description link layer".split(" "),function(t,e){n.data(e)&&(r[e]=n.data(e))}),o._data.push(t.extend({title:n.attr("title")||"",thumb:n.attr("src"),image:n.attr("src"),big:n.attr("src"),description:n.attr("alt")||"",link:n.attr("longdesc"),original:n.get(0)},r,i(n)))})),"function"==typeof r.dataSort?a.sort.call(this._data,r.dataSort):"random"==r.dataSort&&this._data.sort(function(){return Math.round(Math.random())-.5}),this.getDataLength()&&this._parseData().trigger(Galleria.DATA),this},_parseData:function(){var e,n=this;return t.each(this._data,function(i,o){if(e=n._data[i],"thumb"in o==0&&(e.thumb=o.image),!1 in o&&(e.big=o.image),"video"in o){var r=x(o.video);r&&(e.iframe=_[r.provider].embed(r.id)+function(){if("object"==typeof n._options[r.provider]){var e="?",i=[];return t.each(n._options[r.provider],function(t,e){i.push(t+"="+e)}),"youtube"==r.provider&&(i=["wmode=opaque"].concat(i)),e+i.join("&")}return""}(),delete e.video,"thumb"in e&&e.thumb||(e.thumb=r.provider+":"+r.id))}}),this},destroy:function(){return this.get("target").innerHTML=this._original.html,this.clearTimer(),this},splice:function(){var t=this,e=A.array(arguments);return n.setTimeout(function(){a.splice.apply(t._data,e),t._parseData()._createThumbnails()},2),t},push:function(){var t=this,e=A.array(arguments);return 1==e.length&&e[0].constructor==Array&&(e=e[0]),n.setTimeout(function(){a.push.apply(t._data,e),t._parseData()._createThumbnails(e)},2),t},_getActive:function(){return this._controls.getActive()},validate:function(){return!0},bind:function(t,e){return t=w(t),this.$("container").bind(t,this.proxy(e)),this},unbind:function(t){return t=w(t),this.$("container").unbind(t),this},trigger:function(e){return e="object"==typeof e?t.extend(e,{scope:this}):{type:w(e),scope:this},this.$("container").trigger(e),this},addIdleState:function(){return this._idle.add.apply(this._idle,A.array(arguments)),this},removeIdleState:function(){return this._idle.remove.apply(this._idle,A.array(arguments)),this},enterIdleMode:function(){return this._idle.hide(),this},exitIdleMode:function(){return this._idle.showAll(),this},enterFullscreen:function(){return this._fullscreen.enter.apply(this,A.array(arguments)),this},exitFullscreen:function(){return this._fullscreen.exit.apply(this,A.array(arguments)),this},toggleFullscreen:function(){return this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,A.array(arguments)),this},bindTooltip:function(){return this._tooltip.bind.apply(this._tooltip,A.array(arguments)),this},defineTooltip:function(){return this._tooltip.define.apply(this._tooltip,A.array(arguments)),this},refreshTooltip:function(){return this._tooltip.show.apply(this._tooltip,A.array(arguments)),this},openLightbox:function(){return this._lightbox.show.apply(this._lightbox,A.array(arguments)),this},closeLightbox:function(){return this._lightbox.hide.apply(this._lightbox,A.array(arguments)),this},getActiveImage:function(){return this._getActive().image||e},getActiveThumb:function(){return this._thumbnails[this._active].image||e},getMousePosition:function(t){return{x:t.pageX-this.$("container").offset().left,y:t.pageY-this.$("container").offset().top}},addPan:function(e){if(this._options.imageCrop!==!1){e=t(e||this.getActiveImage());var n=this,i=e.width()/2,o=e.height()/2,r=parseInt(e.css("left"),10),a=parseInt(e.css("top"),10),s=r||0,l=a||0,u=0,h=0,c=!1,p=A.timestamp(),d=0,f=0,m=function(t,n,i){if(t>0&&(f=Math.round(Math.max(-1*t,Math.min(0,n))),d!==f))if(d=f,8===g)e.parent()["scroll"+i](-1*f);else{var o={};o[i.toLowerCase()]=f,e.css(o)}},y=function(t){A.timestamp()-p<50||(c=!0,i=n.getMousePosition(t).x,o=n.getMousePosition(t).y)},v=function(){c&&(u=e.width()-n._stageWidth,h=e.height()-n._stageHeight,r=i/n._stageWidth*u*-1,a=o/n._stageHeight*h*-1,s+=(r-s)/n._options.imagePanSmoothness,l+=(a-l)/n._options.imagePanSmoothness,m(h,l,"Top"),m(u,s,"Left"))};return 8===g&&(e.parent().scrollTop(-1*l).scrollLeft(-1*s),e.css({top:0,left:0})),this.$("stage").unbind("mousemove",y).bind("mousemove",y),this.addTimer("pan"+n._id,v,50,!0),this}},proxy:function(t,e){return"function"!=typeof t?d:(e=e||this,function(){return t.apply(e,A.array(arguments))})},removePan:function(){return this.$("stage").unbind("mousemove"),this.clearTimer("pan"+this._id),this},addElement:function(){var e=this._dom;return t.each(A.array(arguments),function(t,n){e[n]=A.create("galleria-"+n)}),this},attachKeyboard:function(){return this._keyboard.attach.apply(this._keyboard,A.array(arguments)),this},detachKeyboard:function(){return this._keyboard.detach.apply(this._keyboard,A.array(arguments)),this},appendChild:function(t,e){return this.$(t).append(this.get(e)||e),this},prependChild:function(t,e){return this.$(t).prepend(this.get(e)||e),this},remove:function(){return this.$(A.array(arguments).join(",")).remove(),this},append:function(t){var e,n;for(e in t)if(t.hasOwnProperty(e))if(t[e].constructor===Array)for(n=0;t[e][n];n++)this.appendChild(e,t[e][n]);else this.appendChild(e,t[e]);return this},_scaleImage:function(e,n){if(e=e||this._controls.getActive()){var i,o=function(e){t(e.container).children(":first").css({top:Math.max(0,A.parseValue(e.image.style.top)),left:Math.max(0,A.parseValue(e.image.style.left)),width:A.parseValue(e.image.width),height:A.parseValue(e.image.height)})};return n=t.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition},n),this._options.layerFollow&&this._options.imageCrop!==!0?"function"==typeof n.complete?(i=n.complete,n.complete=function(){i.call(e,e),o(e)}):n.complete=o:t(e.container).children(":first").css({top:0,left:0}),e.scale(n),this}},updateCarousel:function(){return this._carousel.update(),this},resize:function(n,i){"function"==typeof n&&(i=n,n=e),n=t.extend({width:0,height:0},n);var o=this,r=this.$("container");return t.each(n,function(t,e){e||(r[t]("auto"),n[t]=o._getWH()[t])}),t.each(n,function(t,e){r[t](e)}),this.rescale(i)},rescale:function(t,n,i){var o=this;"function"==typeof t&&(i=t,t=e);var r=function(){o._stageWidth=t||o.$("stage").width(),o._stageHeight=n||o.$("stage").height(),o._scaleImage(),o._options.carousel&&o.updateCarousel(),o.trigger(Galleria.RESCALE),"function"==typeof i&&i.call(o)};return r.call(o),this},refreshImage:function(){return this._scaleImage(),this._options.imagePan&&this.addPan(),this},show:function(t,e,n){return t===!1||!this._options.queue&&this._queue.stalled?void 0:(t=Math.max(0,Math.min(parseInt(t,10),this.getDataLength()-1)),e="undefined"!=typeof e?!!e:t<this.getIndex(),n=n||!1,!n&&Galleria.History?void Galleria.History.set(t.toString()):(this._active=t,a.push.call(this._queue,{index:t,rewind:e}),this._queue.stalled||this._show(),this))},_show:function(){var i=this,o=this._queue[0],r=this.getData(o.index);if(r){var s=r.iframe||(this.isFullscreen()&&"big"in r?r.big:r.image),l=this._controls.getActive(),u=this._controls.getNext(),h=u.isCached(s),c=this._thumbnails[o.index],p=function(){t(u.image).trigger("mouseup")},d=function(e,o,r,s,l){return function(){var u;P.active=!1,i._queue.stalled=!1,A.toggleQuality(o.image,i._options.imageQuality),i._layers[i._controls.active].innerHTML="",t(r.container).css({zIndex:0,opacity:0}).show(),r.isIframe&&t(r.container).find("iframe").remove(),i.$("container").toggleClass("iframe",!!e.iframe),t(o.container).css({zIndex:1,left:0,top:0}).show(),i._controls.swap(),i._options.imagePan&&i.addPan(o.image),(e.link||i._options.lightbox||i._options.clicknext)&&t(o.image).css({cursor:"pointer"}).bind("mouseup",function(){return i._options.clicknext&&!Galleria.TOUCH?(i._options.pauseOnInteraction&&i.pause(),void i.next()):e.link?void(i._options.popupLinks?u=n.open(e.link,"_blank"):n.location.href=e.link):void(i._options.lightbox&&i.openLightbox())}),a.shift.call(i._queue),i._queue.length&&i._show(),i._playCheck(),i.trigger({type:Galleria.IMAGE,index:s.index,imageTarget:o.image,thumbTarget:l.image,galleriaData:e})}}(r,u,l,o,c);if(this._options.carousel&&this._options.carouselFollow&&this._carousel.follow(o.index),this._options.preload){var f,g,m,y=this.getNext();try{for(g=this._options.preload;g>0;g--)f=new Galleria.Picture,m=i.getData(y),f.preload(this.isFullscreen()&&"big"in m?m.big:m.image),y=i.getNext(y)}catch(v){}}A.show(u.container),u.isIframe=!!r.iframe,t(i._thumbnails[o.index].container).addClass("active").siblings(".active").removeClass("active"),i.trigger({type:Galleria.LOADSTART,cached:h,index:o.index,rewind:o.rewind,imageTarget:u.image,thumbTarget:c.image,galleriaData:r}),u.load(s,function(n){var a=t(i._layers[1-i._controls.active]).html(r.layer||"").hide();i._scaleImage(n,{complete:function(n){"image"in l&&A.toggleQuality(l.image,!1),A.toggleQuality(n.image,!1),i._queue.stalled=!0,i.removePan(),i.setInfo(o.index),i.setCounter(o.index),r.layer&&(a.show(),(r.link||i._options.lightbox||i._options.clicknext)&&a.css("cursor","pointer").unbind("mouseup").mouseup(p)),i.trigger({type:Galleria.LOADFINISH,cached:h,index:o.index,rewind:o.rewind,imageTarget:n.image,thumbTarget:i._thumbnails[o.index].image,galleriaData:i.getData(o.index)});var s=i._options.transition;if(t.each({initial:null===l.image,touch:Galleria.TOUCH,fullscreen:i.isFullscreen()},function(t,n){return n&&i._options[t+"Transition"]!==e?(s=i._options[t+"Transition"],!1):void 0}),s in P.effects==0)d();else{var u={prev:l.container,next:n.container,rewind:o.rewind,speed:i._options.transitionSpeed||400};P.active=!0,P.init.call(i,s,u,d)}}})})}},getNext:function(t){return t="number"==typeof t?t:this.getIndex(),t===this.getDataLength()-1?0:t+1},getPrev:function(t){return t="number"==typeof t?t:this.getIndex(),0===t?this.getDataLength()-1:t-1},next:function(){return this.getDataLength()>1&&this.show(this.getNext(),!1),this},prev:function(){return this.getDataLength()>1&&this.show(this.getPrev(),!0),this},get:function(t){return t in this._dom?this._dom[t]:null},getData:function(t){return t in this._data?this._data[t]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return"number"==typeof this._active?this._active:!1},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(t){return"undefined"==typeof t?this._options:this._options[t]},setOptions:function(e,n){return"object"==typeof e?t.extend(this._options,e):this._options[e]=n,this},play:function(t){return this._playing=!0,this._playtime=t||this._playtime,this._playCheck(),this.trigger(Galleria.PLAY),this},pause:function(){return this._playing=!1,this.trigger(Galleria.PAUSE),this},playToggle:function(t){return this._playing?this.pause():this.play(t)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active},_playCheck:function(){var t=this,e=0,n=20,i=A.timestamp(),o="play"+this._id;if(this._playing){this.clearTimer(o);var r=function(){return e=A.timestamp()-i,e>=t._playtime&&t._playing?(t.clearTimer(o),void t.next()):void(t._playing&&(t.trigger({type:Galleria.PROGRESS,percent:Math.ceil(e/t._playtime*100),seconds:Math.floor(e/1e3),milliseconds:e}),t.addTimer(o,r,n)))};t.addTimer(o,r,n)}},setPlaytime:function(t){return this._playtime=t,this},setIndex:function(t){return this._active=t,this},setCounter:function(t){if("number"==typeof t?t++:"undefined"==typeof t&&(t=this.getIndex()+1),this.get("current").innerHTML=t,g){var e=this.$("counter"),n=e.css("opacity");1===parseInt(n,10)?A.removeAlpha(e[0]):this.$("counter").css("opacity",n)}return this},setInfo:function(e){var n=this,i=this.getData(e);return t.each(["title","description"],function(t,e){var o=n.$("info-"+e);i[e]?o[i[e].length?"show":"hide"]().html(i[e]):o.empty().hide()}),this},hasInfo:function(t){var e,n="title description".split(" ");for(e=0;n[e];e++)if(this.getData(t)[n[e]])return!0;return!1},jQuery:function(e){var n=this,i=[];t.each(e.split(","),function(e,o){o=t.trim(o),n.get(o)&&i.push(o)});var o=t(n.get(i.shift()));return t.each(i,function(t,e){o=o.add(n.get(e))}),o},$:function(){return this.jQuery.apply(this,A.array(arguments))}},t.each(v,function(t,e){var n=/_/.test(e)?e.replace(/_/g,""):e;Galleria[e.toUpperCase()]="galleria."+n}),t.extend(Galleria,{IE9:9===g,IE8:8===g,IE7:7===g,IE6:6===g,IE:g,WEBKIT:/webkit/.test(c),CHROME:/chrome/.test(c),SAFARI:/safari/.test(c)&&!/chrome/.test(c),QUIRK:g&&i.compatMode&&"BackCompat"===i.compatMode,MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!n.opera,IPHONE:/iphone/.test(c),IPAD:/ipad/.test(c),ANDROID:/android/.test(c),TOUCH:"ontouchstart"in i}),Galleria.addTheme=function(e){e.name||Galleria.raise("No theme name specified"),e.defaults="object"!=typeof e.defaults?{}:b(e.defaults);var i,o=!1;return"string"==typeof e.css?(t("link").each(function(t,n){return i=new RegExp(e.css),i.test(n.href)?(o=!0,I(e),!1):void 0}),o||t("script").each(function(t,r){i=new RegExp("galleria\\."+e.name.toLowerCase()+"\\."),i.test(r.src)&&(o=r.src.replace(/[^\/]*$/,"")+e.css,n.setTimeout(function(){A.loadCSS(o,"galleria-theme",function(){I(e)})},1))}),o||Galleria.raise("No theme CSS loaded")):I(e),e},Galleria.loadTheme=function(i,o){var r=k.length,a=n.setTimeout(function(){Galleria.raise("Theme at "+i+" could not load, check theme path.",!0)},5e3);return Galleria.theme=e,A.loadScript(i,function(){if(n.clearTimeout(a),r){var e=[];t.each(Galleria.get(),function(n,i){var r=t.extend(i._original.options,{data_source:i._data},o);i.$("container").remove();var a=new Galleria;a._id=i._id,a.init(i._original.target,r),e.push(a)}),k=e}}),Galleria},Galleria.get=function(t){return C[t]?C[t]:"number"!=typeof t?C:void Galleria.raise("Gallery index "+t+" not found")},Galleria.configure=function(e,n){var i={};return"string"==typeof e&&n?(i[e]=n,e=i):t.extend(i,e),Galleria.configure.options=i,t.each(Galleria.get(),function(t,e){e.setOptions(i)}),Galleria},Galleria.configure.options={},Galleria.on=function(e,n){if(e){n=n||d;var i=e+n.toString().replace(/\s/g,"")+A.timestamp();return t.each(Galleria.get(),function(t,o){o._binds.push(i),o.bind(e,n)}),Galleria.on.binds.push({type:e,callback:n,hash:i}),Galleria}},Galleria.on.binds=[],Galleria.run=function(e,n){return t(e||"#galleria").galleria(n),Galleria},Galleria.addTransition=function(t,e){return P.effects[t]=e,Galleria},Galleria.utils=A,Galleria.log=function(){var e=A.array(arguments);if(!("console"in n&&"log"in n.console))return n.alert(e.join("<br>"));try{return n.console.log.apply(n.console,e)}catch(i){t.each(e,function(){n.console.log(this)})}},Galleria.ready=function(e){return"function"!=typeof e?Galleria:(t.each(k,function(t,n){e.call(n,n._options)}),Galleria.ready.callbacks.push(e),Galleria)},Galleria.ready.callbacks=[],Galleria.raise=function(e,n){var i=n?"Fatal error":"Error",o={color:"#fff",position:"absolute",top:0,left:0,zIndex:1e5},r=function(e){var r='<div style="padding:4px;margin:0 0 2px;background:#'+(n?"811":"222")+'";>'+(n?"<strong>"+i+": </strong>":"")+e+"</div>";t.each(C,function(){var t=this.$("errors"),e=this.$("target");t.length||(e.css("position","relative"),t=this.addElement("errors").appendChild("target","errors").$("errors").css(o)),t.append(r)}),C.length||t("<div>").css(t.extend(o,{position:"fixed"})).append(r).appendTo(m().body)};if(l){if(r(e),n)throw new Error(i+": "+e)}else if(n){if(T)return;T=!0,n=!1,r("Gallery could not load.")}},Galleria.version=s,Galleria.requires=function(t,e){return e=e||"You need to upgrade Galleria to version "+t+" to use one or more components.",Galleria.version<t&&Galleria.raise(e,!0),Galleria},Galleria.Picture=function(e){this.id=e||null,this.image=null,this.container=A.create("galleria-image"),t(this.container).css({overflow:"hidden",position:"relative"}),this.original={width:0,height:0},this.ready=!1,this.isIframe=!1},Galleria.Picture.prototype={cache:{},show:function(){A.show(this.image)},hide:function(){A.moveOut(this.image)},clear:function(){this.image=null},isCached:function(t){return!!this.cache[t]},preload:function(e){t(new Image).load(function(t,e){return function(){e[t]=t}}(e,this.cache)).attr("src",e)},load:function(e,i,o){if("function"==typeof i&&(o=i,i=null),this.isIframe){var r="if"+(new Date).getTime();return this.image=t("<iframe>",{src:e,frameborder:0,id:r,allowfullscreen:!0,css:{visibility:"hidden"}})[0],t(this.container).find("iframe,img").remove(),this.container.appendChild(this.image),t("#"+r).load(function(e,i){return function(){n.setTimeout(function(){t(e.image).css("visibility","visible"),"function"==typeof i&&i.call(e,e)},10)}}(this,o)),this.container}this.image=new Image;var a=!1,s=!1,l=t(this.container),u=t(this.image),c=function(){a?h?t(this).attr("src",h):Galleria.raise("Image not found: "+e):(a=!0,n.setTimeout(function(t,e){return function(){t.attr("src",e+"?"+A.timestamp())}}(t(this),e),50))},p=function(e,o,r){return function(){var a=function(){t(this).unbind("load"),e.original=i||{height:this.height,width:this.width},e.container.appendChild(this),e.cache[r]=r,"function"==typeof o&&n.setTimeout(function(){o.call(e,e)},1)};this.width&&this.height?a.call(this):n.setTimeout(function(e){return function(){e.width&&e.height?a.call(e):s?Galleria.raise("Could not extract width/height from image: "+e.src+". Traced measures: width:"+e.width+"px, height: "+e.height+"px."):(t(new Image).load(p).attr("src",e.src),s=!0)}}(this),2)}}(this,o,e);return l.find("iframe,img").remove(),u.css("display","block"),A.hide(this.image),t.each("minWidth minHeight maxWidth maxHeight".split(" "),function(t,e){u.css(e,/min/.test(e)?"0":"none")}),u.load(p).error(c).attr("src",e),this.container},scale:function(n){var i=this;if(n=t.extend({width:0,height:0,min:e,max:e,margin:0,complete:d,position:"center",crop:!1,canvas:!1},n),this.isIframe){t(this.image).width(n.width).height(n.height).removeAttr("width").removeAttr("height"),t(this.container).width(n.width).height(n.height),n.complete.call(i,i);try{this.image.contentWindow&&t(this.image.contentWindow).trigger("resize")}catch(o){}return this.container}if(!this.image)return this.container;var r,a,s,l=t(i.container);return A.wait({until:function(){return r=n.width||l.width()||A.parseValue(l.css("width")),a=n.height||l.height()||A.parseValue(l.css("height")),r&&a},success:function(){var e=(r-2*n.margin)/i.original.width,o=(a-2*n.margin)/i.original.height,l=Math.min(e,o),u=Math.max(e,o),h={"true":u,width:e,height:o,"false":l,landscape:i.original.width>i.original.height?u:l,portrait:i.original.width<i.original.height?u:l},c=h[n.crop.toString()],p="";n.max&&(c=Math.min(n.max,c)),n.min&&(c=Math.max(n.min,c)),t.each(["width","height"],function(e,n){t(i.image)[n](i[n]=i.image[n]=Math.round(i.original[n]*c))}),t(i.container).width(r).height(a),n.canvas&&$&&($.elem.width=i.width,$.elem.height=i.height,p=i.image.src+":"+i.width+"x"+i.height,i.image.src=$.cache[p]||function(t){$.context.drawImage(i.image,0,0,i.original.width*c,i.original.height*c);try{return s=$.elem.toDataURL(),$.length+=s.length,$.cache[t]=s,s}catch(e){return i.image.src}}(p));var d={},f={},g=function(e,n,o){var r=0;if(/\%/.test(e)){var a=parseInt(e,10)/100,s=i.image[n]||t(i.image)[n]();r=Math.ceil(-1*s*a+o*a)}else r=A.parseValue(e);return r},m={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};t.each(n.position.toLowerCase().split(" "),function(t,e){"center"===e&&(e="50%"),d[t?"top":"left"]=e}),t.each(d,function(e,n){m.hasOwnProperty(n)&&t.extend(f,m[n])}),d=d.top?t.extend(d,f):f,d=t.extend({top:"50%",left:"50%"},d),t(i.image).css({position:"absolute",top:g(d.top,"height",a),left:g(d.left,"width",r)}),i.show(),i.ready=!0,n.complete.call(i,i)},error:function(){Galleria.raise("Could not scale image: "+i.image.src)},timeout:1e3}),this}},t.extend(t.easing,{galleria:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},galleriaIn:function(t,e,n,i,o){return i*(e/=o)*e+n},galleriaOut:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n}}),t.fn.galleria=function(e){var n=this.selector;return t(this).length?this.each(function(){t.data(this,"galleria")||t.data(this,"galleria",(new Galleria).init(this,e))}):(t(function(){t(n).length?t(n).galleria(e):Galleria.utils.wait({until:function(){return t(n).length},success:function(){t(n).galleria(e)},error:function(){Galleria.raise('Init failed: Galleria could not find the element "'+n+'".')},timeout:5e3})}),this)}}(jQuery),function(t){Galleria.addTheme({name:"classic",author:"Galleria",css:!1,defaults:{transition:"slide",thumbCrop:"height",_toggleInfo:!0},init:function(e){Galleria.requires(1.28,"This version of Classic theme requires Galleria 1.2.8 or later"),this.addElement("info-link","info-close"),this.append({info:["info-link","info-close"]});var n=this.$("info-link,info-close,info-text"),i=Galleria.TOUCH,o=i?"touchstart":"click";this.$("loader,counter").show().css("opacity",.4),i||(this.addIdleState(this.get("image-nav-left"),{left:-50}),this.addIdleState(this.get("image-nav-right"),{right:-50}),this.addIdleState(this.get("counter"),{opacity:0})),e._toggleInfo===!0?n.bind(o,function(){n.toggle()}):(n.show(),this.$("info-link, info-close").hide()),this.bind("thumbnail",function(e){i?t(e.thumbTarget).css("opacity",this.getIndex()?1:.6):(t(e.thumbTarget).css("opacity",.6).parent().hover(function(){t(this).not(".active").children().stop().fadeTo(100,1)},function(){t(this).not(".active").children().stop().fadeTo(400,.6)}),e.index===this.getIndex()&&t(e.thumbTarget).css("opacity",1))}),this.bind("loadstart",function(e){e.cached||this.$("loader").show().fadeTo(200,.4),this.$("info").toggle(this.hasInfo()),t(e.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)}),this.bind("loadfinish",function(){this.$("loader").fadeOut(200)})}})}(jQuery),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.MarkerInfobubbles=function(){function e(e,n,i){this.closeInfoWindow=t(this.closeInfoWindow,this),this._addMarkerListeners=t(this._addMarkerListeners,this),this._loadMarkers=t(this._loadMarkers,this),this.map=e,$.extend(this.labels,n),$.extend(this._options,this.options,i),this._loadMarkers(),google.maps.event.addListener(this._getMap(),"click",this.closeInfoWindow)}return e.prototype.labels={},e.prototype.options={},e.prototype._options={arrowStyle:2,arrowSize:25,borderRadius:0,arrowPosition:15,shadowStyle:0,autoPan:!1,disableAutoPan:!1,minWidth:268,minHeight:107,maxWidth:268,paddding:10,iconSprite:{url:null,x:0,y:0,width:null,height:null}},e.prototype.markers=[],e.prototype.fitBounds=function(){var t,e,n,i,o;for(t=new google.maps.LatLngBounds,o=this.markers,n=0,i=o.length;i>n;n++)e=o[n],t.extend(e.getPosition());return this._getMap().fitBounds(t),this},e.prototype.resize=function(){return google.maps.event.trigger(this._getMap(),"resize"),this},e.prototype.updateMarkers=function(t){return this._clearMarkers(),$.getJSON(t,function(t){return function(e){var n,i,o,r;for(o=0,r=e.length;r>o;o++)i=e[o],n=new google.maps.Marker({position:new google.maps.LatLng(i.lat,i.lng),icon:t._getIcon(),map:t._getMap(),title:i.address}),n.data=i,t.markers.push(n);return t._addMarkerListeners(),t.fitBounds(),$(t).trigger("updated")}}(this))},e.prototype._loadMarkers=function(){var t;return t=$("[data-geocodes-url]").data("geocodes-url"),this.updateMarkers(t)},e.prototype._addMarkerListeners=function(){return $.each(this.markers,function(t){return function(e,n){return google.maps.event.addListener(n,"click",function(){var e;return t.closeInfoWindow(),n.setIcon(t._getActiveIcon()),e=$(t.template($.extend({labels:t.labels},n.data))),e.on("click",function(){return window.location=$(this).data("url")}),t.infoWindow=new InfoBubble($.extend(t._options,{content:e.get(0)})),t.infoWindow.marker=n,t.infoWindow.open(t._getMap(),n)})}}(this))},e.prototype._clearMarkers=function(){var t,e,n,i,o;for(i=this.markers,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t.setMap(null));return o},e.prototype._getIcon=function(){return null!=this.icon?this.icon:this.icon={url:this._options.iconSprite.url,size:new google.maps.Size(this._options.iconSprite.width,this._options.iconSprite.height),origin:new google.maps.Point(this._options.iconSprite.x,this._options.iconSprite.y)}},e.prototype._getActiveIcon=function(){return null!=this.activeIcon?this.activeIcon:this.activeIcon={url:this._options.iconSprite.url,size:new google.maps.Size(this._options.iconSprite.width,this._options.iconSprite.height),origin:new google.maps.Point(this._options.iconSprite.x+this._options.iconSprite.offset,this._options.iconSprite.y)}},e.prototype._getMap=function(){return this.map},e.prototype.closeInfoWindow=function(){return this.infoWindow?(this.infoWindow.close(),this.infoWindow.marker.setIcon(this._getIcon())):void 0},e}()}.call(this),function(){Handlebars.registerHelper("formatCurrency",function(t){return"$"+Math.round(t).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")})}.call(this),function(){Handlebars.registerHelper("json",function(t){return JSON.stringify(t)})}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["affinity_map/filters"]=Handlebars.template(function(t,e,n,i,o){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{},'<div>\n  <select data-affinitymap-price>\n    <option value="0">Any Price</option>\n    <option value="100000">> $100,000</option>\n    <option value="200000">> $200,000</option>\n    <option value="300000">> $300,000</option>\n    <option value="400000">> $400,000</option>\n    <option value="500000">> $500,000</option>\n    <option value="600000">> $600,000</option>\n    <option value="700000">> $700,000</option>\n    <option value="800000">> $800,000</option>\n    <option value="900000">> $900,000</option>\n    <option value="1000000">> $1,000,000</option>\n    <option value="2000000">> $2,000,000</option>\n    <option value="3000000">> $3,000,000</option>\n    <option value="4000000">> $4,000,000</option>\n    <option value="5000000">> $5,000,000</option>\n    <option value="10000000">> $10,000,000</option>\n  </select>\n  <select data-affinitymap-propertytype>\n    <option>All Types</option>\n    <option>Apartment</option>\n    <option>Chalet with Acreage</option>\n    <option>Chalet</option>\n    <option>Condominium</option>\n    <option>Duplex</option>\n    <option>House</option>\n    <option>Land Only</option>\n    <option>Lots and Land</option>\n    <option>Mobile Home</option>\n    <option>Multifamily</option>\n    <option>Residential Attached</option>\n    <option>Residential Detached</option>\n    <option>Residential</option>\n    <option>Shared Owner</option>\n    <option>Timeshares</option>\n    <option>Townhouse</option>\n    <option>Vacant Land</option>\n  </select>\n</div>\n'
}),this.HandlebarsTemplates["affinity_map/filters"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["affinity_map/legend"]=Handlebars.template(function(t,e,n,i,o){function r(t){var e="";return e+='\n  <li style="background-color: '+u(typeof t===l?t.apply(t):t)+'"></li>\n  '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var a,s="",l="function",u=this.escapeExpression,h=this;return s+='<div class="affinitylegend">\n  <ul class="unstyled">\n  ',a=n.each.call(e,e.colors,{hash:{},inverse:h.noop,fn:h.program(1,r,o),data:o}),(a||0===a)&&(s+=a),s+="\n  </ul>\n</div>\n"}),this.HandlebarsTemplates["affinity_map/legend"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.assessment=Handlebars.template(function(t,e,n,i,o){function r(t,e){var i,o="";return o+="\n      ",(i=n.number)?i=i.call(t,{hash:{},data:e}):(i=t.number,i=typeof i===u?i.apply(t):i),o+=h(i)+" ",(i=n.street)?i=i.call(t,{hash:{},data:e}):(i=t.street,i=typeof i===u?i.apply(t):i),o+=h(i)+"\n    "}function a(t,e){var i,o,r="";return r+="\n    <dt>Land Value</dt>\n    <dd>",o={hash:{},data:e},r+=h((i=n.formatCurrency||t.formatCurrency,i?i.call(t,t.land,o):c.call(t,"formatCurrency",t.land,o)))+"</dd>\n\n    <dt>Improvement Value</dt>\n    <dd>",o={hash:{},data:e},r+=h((i=n.formatCurrency||t.formatCurrency,i?i.call(t,t.improvement,o):c.call(t,"formatCurrency",t.improvement,o)))+"</dd>\n\n    <dt>Total Value</dt>\n    <dd>",o={hash:{},data:e},r+=h((i=n.formatCurrency||t.formatCurrency,i?i.call(t,t.total,o):c.call(t,"formatCurrency",t.total,o)))+"</dd>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,l="",u="function",h=this.escapeExpression,c=n.helperMissing,p=this;return l+='<dl class="infobubble infobubble--assessment">\n  <dt>Address</dt>\n  <dd>\n    ',s=n["with"].call(e,e.address,{hash:{},inverse:p.noop,fn:p.program(1,r,o),data:o}),(s||0===s)&&(l+=s),l+="\n  </dd>\n\n  ",s=n["with"].call(e,e.value,{hash:{},inverse:p.noop,fn:p.program(3,a,o),data:o}),(s||0===s)&&(l+=s),l+="\n</dl>\n"}),this.HandlebarsTemplates.assessment}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.carousel_slide=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+='<div class="item">\n  ',(r=n.content)?r=r.call(e,{hash:{},data:o}):(r=e.content,r=typeof r===s?r.apply(e):r),a+=l(r)+"\n</div>\n"}),this.HandlebarsTemplates.carousel_slide}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.development_infobubble=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+="<article class='infobubble infobubble--development' data-url=\"",(r=n.url)?r=r.call(e,{hash:{},data:o}):(r=e.url,r=typeof r===s?r.apply(e):r),a+=l(r)+"\">\n  <div class='infobubble--development-photo'>\n    <a href=\"",(r=n.url)?r=r.call(e,{hash:{},data:o}):(r=e.url,r=typeof r===s?r.apply(e):r),a+=l(r)+"\">\n      <img src='",(r=n.photo)?r=r.call(e,{hash:{},data:o}):(r=e.photo,r=typeof r===s?r.apply(e):r),a+=l(r)+"' alt='",(r=n.starting_price)?r=r.call(e,{hash:{},data:o}):(r=e.starting_price,r=typeof r===s?r.apply(e):r),a+=l(r)+"'>\n    </a>\n  </div>\n  <div class='infobubble--development-info'>\n    <div class='infobubble--development-title'>",(r=n.name)?r=r.call(e,{hash:{},data:o}):(r=e.name,r=typeof r===s?r.apply(e):r),a+=l(r)+"</div>\n    <div class='infobubble--development-address'>",(r=n.address)?r=r.call(e,{hash:{},data:o}):(r=e.address,r=typeof r===s?r.apply(e):r),a+=l(r)+"</div>\n  </div>\n</article>\n"}),this.HandlebarsTemplates.development_infobubble}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.facet_quicklinks=Handlebars.template(function(t,e,n,i,o){function r(t,e){var i,o,r,a="";return a+='\n      <li>\n        <a href="javascript:void(0);" data-facet-details="',r={hash:{},data:e},a+=u((i=n.json||t.json,i?i.call(t,t,r):l.call(t,"json",t,r)))+'">',(o=n.value)?o=o.call(t,{hash:{},data:e}):(o=t.value,o=typeof o===h?o.apply(t):o),a+=u(o)+" (",(o=n.count)?o=o.call(t,{hash:{},data:e}):(o=t.count,o=typeof o===h?o.apply(t):o),a+=u(o)+")</a>\n      </li>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var a,s="",l=n.helperMissing,u=this.escapeExpression,h="function",c=this;return s+='<section class="facetquicklinks">\n  <header>\n    ',(a=n.name)?a=a.call(e,{hash:{},data:o}):(a=e.name,a=typeof a===h?a.apply(e):a),s+=u(a)+'\n  </header>\n  <section class="facetquicklinks-facets">\n    <ul class="unstyled" data-facet-name="',(a=n.facetType)?a=a.call(e,{hash:{},data:o}):(a=e.facetType,a=typeof a===h?a.apply(e):a),s+=u(a)+'">\n    ',a=n.each.call(e,e.facet,{hash:{},inverse:c.noop,fn:c.program(1,r,o),data:o}),(a||0===a)&&(s+=a),s+="\n    </ul>\n  </section>\n</section>\n"}),this.HandlebarsTemplates.facet_quicklinks}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.geography_infobubble=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+='<div class="geographyinfobubble">\n  <header>\n    <h1>',(r=n.name)?r=r.call(e,{hash:{},data:o}):(r=e.name,r=typeof r===s?r.apply(e):r),a+=l(r)+'</h1>\n  </header>\n  <section>\n    <img src="/assets/misc/ajax-loader.gif" class="geographyinfobubble-loader"/>\n  </section>\n  <footer>\n    <button class="btn btn-primary btn-medium btn-block" data-geography="',(r=n.name)?r=r.call(e,{hash:{},data:o}):(r=e.name,r=typeof r===s?r.apply(e):r),a+=l(r)+'">Zoom In</button>\n  </footer>\n</div>\n'}),this.HandlebarsTemplates.geography_infobubble}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.geography_summary=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a,s="",l="function",u=this.escapeExpression;return s+='<p><i class="icon-large icon-home"></i> ',(r=n.total)?r=r.call(e,{hash:{},data:o}):(r=e.total,r=typeof r===l?r.apply(e):r),s+=u(r)+' Homes</p>\n<p><i class="icon-large icon-tags"></i> '+u((r=e.stats,r=null==r||r===!1?r:r.list_price,r=null==r||r===!1?r:r.min,typeof r===l?r.apply(e):r))+" - "+u((r=e.stats,r=null==r||r===!1?r:r.list_price,r=null==r||r===!1?r:r.max,typeof r===l?r.apply(e):r))+'</p>\n<p><i class="icon-large icon-dollar"></i> Average '+u((r=e.stats,r=null==r||r===!1?r:r.list_price,r=null==r||r===!1?r:r.mean,typeof r===l?r.apply(e):r))+'</p>\n<p><i class="icon-large icon-calendar"></i> ',(a=n.open_houses)?a=a.call(e,{hash:{},data:o}):(a=e.open_houses,a=typeof a===l?a.apply(e):a),s+=u(a)+" Open Houses</p>\n"}),this.HandlebarsTemplates.geography_summary}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.listing_infobubble=Handlebars.template(function(t,e,n,i,o){function r(t,e){var i,o="";return o+="\n    ",i=n["with"].call(t,t.next_openhouse,{hash:{},inverse:p.noop,fn:p.program(2,a,e),data:e}),(i||0===i)&&(o+=i),o+="\n  "}function a(t,e){var i,o="";return o+="\n      <dl class='infobubble--listing-openhouse'>\n        <dt>Open</dt>\n        <dd>\n          ",(i=n.day)?i=i.call(t,{hash:{},data:e}):(i=t.day,i=typeof i===h?i.apply(t):i),o+=c(i)+"\n          ",(i=n.start_time)?i=i.call(t,{hash:{},data:e}):(i=t.start_time,i=typeof i===h?i.apply(t):i),o+=c(i)+"\n          to\n          ",(i=n.end_time)?i=i.call(t,{hash:{},data:e}):(i=t.end_time,i=typeof i===h?i.apply(t):i),o+=c(i)+"\n        </dd>\n      </dl>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,l,u="",h="function",c=this.escapeExpression,p=this;return u+="<article class='infobubble infobubble--listing infobubble--property' data-url=\"",(s=n.url)?s=s.call(e,{hash:{},data:o}):(s=e.url,s=typeof s===h?s.apply(e):s),u+=c(s)+"\">\n  <div class='infobubble--listing-address'>\n    <a href=\"",(s=n.url)?s=s.call(e,{hash:{},data:o}):(s=e.url,s=typeof s===h?s.apply(e):s),u+=c(s)+'">',(s=n.address)?s=s.call(e,{hash:{},data:o}):(s=e.address,s=typeof s===h?s.apply(e):s),u+=c(s)+"</a>\n  </div>\n  <div class='infobubble--listing-photo'>\n    <img src='",(s=n.photo)?s=s.call(e,{hash:{},data:o}):(s=e.photo,s=typeof s===h?s.apply(e):s),u+=c(s)+"'>\n  </div>\n  <div class='infobubble--listing-info'>\n    <div class='infobubble--listing-price'>",(s=n.price)?s=s.call(e,{hash:{},data:o}):(s=e.price,s=typeof s===h?s.apply(e):s),u+=c(s)+"</div>\n    <div class='infobubble--listing-details'>\n      "+c((s=e.labels,s=null==s||s===!1?s:s.beds,typeof s===h?s.apply(e):s))+" ",(l=n.beds)?l=l.call(e,{hash:{},data:o}):(l=e.beds,l=typeof l===h?l.apply(e):l),u+=c(l)+", "+c((s=e.labels,s=null==s||s===!1?s:s.bathrooms,typeof s===h?s.apply(e):s))+" ",(l=n.bathrooms)?l=l.call(e,{hash:{},data:o}):(l=e.bathrooms,l=typeof l===h?l.apply(e):l),u+=c(l)+"\n      <br/>\n      ",(l=n.floor_area)?l=l.call(e,{hash:{},data:o}):(l=e.floor_area,l=typeof l===h?l.apply(e):l),u+=c(l)+" "+c((s=e.labels,s=null==s||s===!1?s:s.square_feet,typeof s===h?s.apply(e):s))+"\n    </div>\n    <div class='infobubble--listing-office'>\n      ",(l=n.office)?l=l.call(e,{hash:{},data:o}):(l=e.office,l=typeof l===h?l.apply(e):l),u+=c(l)+"\n    </div>\n  </div>\n  ",l=n["if"].call(e,e.next_openhouse,{hash:{},inverse:p.noop,fn:p.program(1,r,o),data:o}),(l||0===l)&&(u+=l),u+='\n  <div class="infobubble--listing-actions">\n    <a href="',(l=n.url)?l=l.call(e,{hash:{},data:o}):(l=e.url,l=typeof l===h?l.apply(e):l),u+=c(l)+'">'+c((s=e.labels,s=null==s||s===!1?s:s.link,typeof s===h?s.apply(e):s))+'</a>\n  </div>\n  <img src="/assets/MLS-5fdab29eb1ba55e07f6a5e5a4d179524.png" class="infobubble--listing-mlslogo">\n</article>\n'}),this.HandlebarsTemplates.listing_infobubble}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.listing_infobubble_compact=Handlebars.template(function(t,e,n,i,o){function r(){return"is-featured"}function a(){return'\n      <div class="listing-photo_banner_featured"></div>\n    '}function s(t,e){var i,o="";return o+="\n    ",i=n["with"].call(t,t.next_openhouse,{hash:{},inverse:f.noop,fn:f.program(6,l,e),data:e}),(i||0===i)&&(o+=i),o+="\n  "}function l(t,e){var i,o="";return o+="\n      <dl class='infobubble--listing-openhouse'>\n        <dt><i class=\"icon-home\"></i> Open House</dt>\n        <dd>\n          ",(i=n.date_abbr)?i=i.call(t,{hash:{},data:e}):(i=t.date_abbr,i=typeof i===p?i.apply(t):i),o+=d(i)+" @\n          ",(i=n.start_time_compact)?i=i.call(t,{hash:{},data:e}):(i=t.start_time_compact,i=typeof i===p?i.apply(t):i),o+=d(i)+"\n          -\n          ",(i=n.end_time_compact)?i=i.call(t,{hash:{},data:e}):(i=t.end_time_compact,i=typeof i===p?i.apply(t):i),o+=d(i)+"\n        </dd>\n      </dl>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var u,h,c="",p="function",d=this.escapeExpression,f=this;return c+="<article class='infobubble infobubble--listing infobubble--property ",(u=n["class"])?u=u.call(e,{hash:{},data:o}):(u=e["class"],u=typeof u===p?u.apply(e):u),c+=d(u)+" ",u=n["if"].call(e,e.featured,{hash:{},inverse:f.noop,fn:f.program(1,r,o),data:o}),(u||0===u)&&(c+=u),c+='\'>\n  <img src="/assets/MLS-5fdab29eb1ba55e07f6a5e5a4d179524.png" class="infobubble--listing-mlslogo">\n  <div class=\'infobubble--listing-address\'>\n    <a href="',(u=n.url)?u=u.call(e,{hash:{},data:o}):(u=e.url,u=typeof u===p?u.apply(e):u),c+=d(u)+'">',(u=n.address)?u=u.call(e,{hash:{},data:o}):(u=e.address,u=typeof u===p?u.apply(e):u),c+=d(u)+"</a>\n  </div>\n  <div class='infobubble--listing-photo'>\n    ",u=n["if"].call(e,e.featured,{hash:{},inverse:f.noop,fn:f.program(3,a,o),data:o}),(u||0===u)&&(c+=u),c+='\n    <a href="',(u=n.url)?u=u.call(e,{hash:{},data:o}):(u=e.url,u=typeof u===p?u.apply(e):u),c+=d(u)+"\">\n      <img src='",(u=n.photo)?u=u.call(e,{hash:{},data:o}):(u=e.photo,u=typeof u===p?u.apply(e):u),c+=d(u)+"' class='imageborder'>\n    </a>\n  </div>\n  <div class='infobubble--listing-info'>\n    <div class='infobubble--listing-price'>",(u=n.price)?u=u.call(e,{hash:{},data:o}):(u=e.price,u=typeof u===p?u.apply(e):u),c+=d(u)+"</div>\n    <div class='infobubble--listing-details'>\n      "+d((u=e.labels,u=null==u||u===!1?u:u.beds,typeof u===p?u.apply(e):u))+" ",(h=n.beds)?h=h.call(e,{hash:{},data:o}):(h=e.beds,h=typeof h===p?h.apply(e):h),c+=d(h)+", "+d((u=e.labels,u=null==u||u===!1?u:u.bathrooms,typeof u===p?u.apply(e):u))+" ",(h=n.bathrooms)?h=h.call(e,{hash:{},data:o}):(h=e.bathrooms,h=typeof h===p?h.apply(e):h),c+=d(h)+"\n      <br/>\n      ",(h=n.floor_area)?h=h.call(e,{hash:{},data:o}):(h=e.floor_area,h=typeof h===p?h.apply(e):h),c+=d(h)+" "+d((u=e.labels,u=null==u||u===!1?u:u.square_feet,typeof u===p?u.apply(e):u))+"\n    </div>\n    <div class='infobubble--listing-office'>\n      ",(h=n.office)?h=h.call(e,{hash:{},data:o}):(h=e.office,h=typeof h===p?h.apply(e):h),c+=d(h)+"\n    </div>\n  </div>\n  ",h=n["if"].call(e,e.next_openhouse,{hash:{},inverse:f.noop,fn:f.program(5,s,o),data:o}),(h||0===h)&&(c+=h),c+="\n</article>\n"}),this.HandlebarsTemplates.listing_infobubble_compact}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.listing_widget=Handlebars.template(function(t,e,n,i,o){function r(){return'\n      <i class="icon-rew-openhouse"></i>\n    '}function a(t,e){var i,o="";return o+="\n        <strong>",(i=n.beds)?i=i.call(t,{hash:{},data:e}):(i=t.beds,i=typeof i===h?i.apply(t):i),o+=c(i)+"</strong> beds, \n      "}function s(t,e){var i,o="";return o+="\n        <strong>",(i=n.baths)?i=i.call(t,{hash:{},data:e}):(i=t.baths,i=typeof i===h?i.apply(t):i),o+=c(i)+"</strong> baths\n      "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var l,u="",h="function",c=this.escapeExpression,p=this;return u+='<article class="rew-listing ',(l=n.backgroundClass)?l=l.call(e,{hash:{},data:o}):(l=e.backgroundClass,l=typeof l===h?l.apply(e):l),u+=c(l)+'" data-id="',(l=n.mlsnum)?l=l.call(e,{hash:{},data:o}):(l=e.mlsnum,l=typeof l===h?l.apply(e):l),u+=c(l)+'">\n	<div class="rew-image">\n  	<img  class="rew-listingphoto ',(l=n.banners)?l=l.call(e,{hash:{},data:o}):(l=e.banners,l=typeof l===h?l.apply(e):l),u+=c(l)+'" alt="',(l=n.address)?l=l.call(e,{hash:{},data:o}):(l=e.address,l=typeof l===h?l.apply(e):l),u+=c(l)+'" src="',(l=n.img)?l=l.call(e,{hash:{},data:o}):(l=e.img,l=typeof l===h?l.apply(e):l),u+=c(l)+'" title="',(l=n.address)?l=l.call(e,{hash:{},data:o}):(l=e.address,l=typeof l===h?l.apply(e):l),u+=c(l)+'">\n  	<span>',(l=n.displayprice)?l=l.call(e,{hash:{},data:o}):(l=e.displayprice,l=typeof l===h?l.apply(e):l),u+=c(l)+"</span>\n    ",l=n["if"].call(e,e.openhouse,{hash:{},inverse:p.noop,fn:p.program(1,r,o),data:o}),(l||0===l)&&(u+=l),u+='      \n\n  </div>\n\n  <ul class="rew-listingdetail">\n    <li class="rew-address">',(l=n.address)?l=l.call(e,{hash:{},data:o}):(l=e.address,l=typeof l===h?l.apply(e):l),u+=c(l)+'\n    <li class="rew-area">',(l=n.area)?l=l.call(e,{hash:{},data:o}):(l=e.area,l=typeof l===h?l.apply(e):l),u+=c(l)+" | \n      ",l=n["if"].call(e,e.beds,{hash:{},inverse:p.noop,fn:p.program(3,a,o),data:o}),(l||0===l)&&(u+=l),u+="\n      ",l=n["if"].call(e,e.baths,{hash:{},inverse:p.noop,fn:p.program(5,s,o),data:o}),(l||0===l)&&(u+=l),u+='\n    </li>\n    <li class="rew-broker"><i>',(l=n.broker)?l=l.call(e,{hash:{},data:o}):(l=e.broker,l=typeof l===h?l.apply(e):l),u+=c(l)+"</i></li>\n  </ul>\n</article>\n"}),this.HandlebarsTemplates.listing_widget}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.listing_widget_detail=Handlebars.template(function(t,e,n,i,o){function r(t,e){var i,o,r="";return r+='\n      <a class="" href="'+d((i=t.carousel,typeof i===p?i.apply(t):i))+'" itemprop="photo" itemscope="" itemtype="http://schema.org/Photograph">\n        <img alt="',(o=n.address)?o=o.call(t,{hash:{},data:e}):(o=t.address,o=typeof o===p?o.apply(t):o),r+=d(o)+'" data-big="'+d((i=t.image,typeof i===p?i.apply(t):i))+'" data-title="',(o=n.address)?o=o.call(t,{hash:{},data:e}):(o=t.address,o=typeof o===p?o.apply(t):o),r+=d(o)+'" itemprop="url" src="'+d((i=t.thumb,typeof i===p?i.apply(t):i))+'"/>\n      </a>\n    '}function a(t,e){var i,o="";return o+="\n            <li><strong>",(i=n.totalFloorArea)?i=i.call(t,{hash:{},data:e}):(i=t.totalFloorArea,i=typeof i===p?i.apply(t):i),o+=d(i)+"</strong> Sqft</li>\n        "}function s(t,e){var i,o="";return o+="\n          <i class=\"icon-rew-openhouse\"></i> <a target='_blank' href='",(i=n.href)?i=i.call(t,{hash:{},data:e}):(i=t.href,i=typeof i===p?i.apply(t):i),o+=d(i)+"'>Open House Detail Here</a>\n        "}function l(t,e){var i,o="";return o+='\n        <div class="rew-brokerlogo">\n            <img src="',(i=n.brokerlogo)?i=i.call(t,{hash:{},data:e}):(i=t.brokerlogo,i=typeof i===p?i.apply(t):i),o+=d(i)+'">\n        </div>\n      '}function u(t,e){var i,o="";return o+='\n        <img src="',(i=n.agentimg)?i=i.call(t,{hash:{},data:e}):(i=t.agentimg,i=typeof i===p?i.apply(t):i),o+=d(i)+'" class="rew-agentimage">\n      '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var h,c="",p="function",d=this.escapeExpression,f=this;return c+='<div class="modal fade" id="rewlisting" role="dialog" aria-labelledby="Listing Detail" aria-hidden="true">\n  <button class="rew-close" data-dismiss="modal" type="button">X</button>\n  <div class="rew-detailheader">\n    <span class="rew-price">',(h=n.displayprice)?h=h.call(e,{hash:{},data:o}):(h=e.displayprice,h=typeof h===p?h.apply(e):h),c+=d(h)+'</span><span class="rew-address">',(h=n.addressfull)?h=h.call(e,{hash:{},data:o}):(h=e.addressfull,h=typeof h===p?h.apply(e):h),c+=d(h)+'</span>\n  </div>\n\n  <div class="photogallery gallery">\n    ',h=n.each.call(e,e.combinedimages,{hash:{},inverse:f.noop,fn:f.program(1,r,o),data:o}),(h||0===h)&&(c+=h),c+='\n  </div>\n\n\n  <div class="rew-detail">\n    <div class="rew-detailinfo">\n      <ul >\n        <li><strong>',(h=n.beds)?h=h.call(e,{hash:{},data:o}):(h=e.beds,h=typeof h===p?h.apply(e):h),c+=d(h)+"</strong> Beds <strong>",(h=n.baths)?h=h.call(e,{hash:{},data:o}):(h=e.baths,h=typeof h===p?h.apply(e):h),c+=d(h)+"</strong> Baths</li>\n        ",h=n["if"].call(e,e.totalFloorArea,{hash:{},inverse:f.noop,fn:f.program(3,a,o),data:o}),(h||0===h)&&(c+=h),c+='\n        <li class="rew-mlsinfo">MLS ID: ',(h=n.mlsnum)?h=h.call(e,{hash:{},data:o}):(h=e.mlsnum,h=typeof h===p?h.apply(e):h),c+=d(h)+"</li>\n    \n        ",h=n["if"].call(e,e.openhouse,{hash:{},inverse:f.noop,fn:f.program(5,s,o),data:o}),(h||0===h)&&(c+=h),c+='      \n      </ul>\n    </div>\n\n    <div class="rew-agentcontainer">\n      ',h=n["if"].call(e,e.isenhanced,{hash:{},inverse:f.noop,fn:f.program(7,l,o),data:o}),(h||0===h)&&(c+=h),c+="\n      ",h=n["if"].call(e,e.agentimg,{hash:{},inverse:f.noop,fn:f.program(9,u,o),data:o}),(h||0===h)&&(c+=h),c+='\n      <div class="rew-agentinfo">\n        <ul>\n          <li class="rew-agentname">',(h=n.agents)?h=h.call(e,{hash:{},data:o}):(h=e.agents,h=typeof h===p?h.apply(e):h),c+=d(h)+'</li>\n          <li class="rew-agentbroker">',(h=n.broker)?h=h.call(e,{hash:{},data:o}):(h=e.broker,h=typeof h===p?h.apply(e):h),c+=d(h)+"</li>\n          <li class=\"rew-contactagent\"><a target='_blank' href='",(h=n.agentContactUrl)?h=h.call(e,{hash:{},data:o}):(h=e.agentContactUrl,h=typeof h===p?h.apply(e):h),c+=d(h)+"'>Contact Agent</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n\n  <div class=\"rew-footer\">\n    <a target='_blank' href='",(h=n.href)?h=h.call(e,{hash:{},data:o}):(h=e.href,h=typeof h===p?h.apply(e):h),c+=d(h)+"'><span class='rew-poweredby'>View Full Listing on </span> <img class=\"rewlogo-small\" src='http://www.rew.ca/assets/logo.png'></a>\n  </div>\n</div>\n"}),this.HandlebarsTemplates.listing_widget_detail}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.listing_widget_disclaimer=Handlebars.template(function(t,e,n,i,o){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{},'<div class="rew-mls">\n  <img alt="MLS Reciprocity Logo" src="http://www.rew.ca/assets/reb_logo_property.png" class="rew-mlsimage">\n  <p class="rew-disclaimer">\n    This representation is based in whole or in part on data generated by the Chilliwack &amp; District Real Estate Board, Fraser Valley Real Estate Board or Real Estate Board of Greater Vancouver which assumes no responsibility for its accuracy.\n  </p>\n</div>\n'}),this.HandlebarsTemplates.listing_widget_disclaimer}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.map_maximizer=Handlebars.template(function(t,e,n,i,o){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{},"<div class='mapbutton maximizer'>\n  <a class='maximizer-maximize' href='#'><i class=\"icon-tiny-maximize-dark\"></i> Full</a>\n  <a class='maximizer-minimize' href='#'><i class=\"icon-tiny-minimize-dark\"></i> Small</a>\n</div>\n"}),this.HandlebarsTemplates.map_maximizer}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.map_search_button=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+="<div class='mapbutton'>\n  <a href=\"",(r=n.url)?r=r.call(e,{hash:{},data:o}):(r=e.url,r=typeof r===s?r.apply(e):r),a+=l(r)+"\">View Full Map <i class='icon-large-beta'></i></a>\n</div>\n"}),this.HandlebarsTemplates.map_search_button}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.mapcontrols=Handlebars.template(function(t,e,n,i,o){function r(){return"propertymap-controls_narrow"}function a(){return"is-hidden"}function s(){return"is-collapsed"}function l(){return"in"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var u,h,c="",p=this,d="function",f=this.escapeExpression;return c+="<div class='propertymap-controls ",u=n["if"].call(e,e.narrow,{hash:{},inverse:p.noop,fn:p.program(1,r,o),data:o}),(u||0===u)&&(c+=u),c+=" pulltab pulltab--",(u=n.direction)?u=u.call(e,{hash:{},data:o}):(u=e.direction,u=typeof u===d?u.apply(e):u),c+=f(u)+" ",u=n.unless.call(e,e.isOpen,{hash:{},inverse:p.noop,fn:p.program(3,a,o),data:o}),(u||0===u)&&(c+=u),c+="'>\n  <div class='pulltab-inner'>\n    <div class='pulltab-handle propertymap-controls_highlight'>\n      <div class='pulltab-handle_open'>\n        <span class='pulltab-handle_label'>",(u=n.open)?u=u.call(e,{hash:{},data:o}):(u=e.open,u=typeof u===d?u.apply(e):u),c+=f(u)+"</span> <i class=\"icon pulltab-handle_icon\"></i>\n      </div>\n      <div class='pulltab-handle_close'>\n        <span class='pulltab-handle_label'>",(u=n.close)?u=u.call(e,{hash:{},data:o}):(u=e.close,u=typeof u===d?u.apply(e):u),c+=f(u)+"</span> <i class=\"icon pulltab-handle_icon\"></i>\n      </div>\n    </div>\n    <div class='pulltab-content'>\n      <div class='propertymap-controls_inner'>\n        <div class=\"propertymap-controls_help\">",(u=n.help)?u=u.call(e,{hash:{},data:o}):(u=e.help,u=typeof u===d?u.apply(e):u),c+=f(u)+'</div>\n        <div class="propertymap-controls_toggle propertymap-controls_highlight" data-toggle="collapse" data-target="#layers">\n          <i id="layersCollapseIcon" class="icon icon-collapse propertymap-controls_toggle_icon ',h=n.unless.call(e,(u=e.expand,null==u||u===!1?u:u.layers),{hash:{},inverse:p.noop,fn:p.program(5,s,o),data:o}),(h||0===h)&&(c+=h),c+='"></i>\n          ',(h=n.layers)?h=h.call(e,{hash:{},data:o}):(h=e.layers,h=typeof h===d?h.apply(e):h),c+=f(h)+'\n        </div>\n        <div id="layers" class="collapse ',h=n["if"].call(e,(u=e.expand,null==u||u===!1?u:u.layers),{hash:{},inverse:p.noop,fn:p.program(7,l,o),data:o}),(h||0===h)&&(c+=h),c+="\">\n          <div>\n            <ul class='unstyled propertymap-controls_layers'>\n              <li>\n                <label class='checkbox' for='elementary'>\n                  <input data-icon='elementaryschool' data-type='kml' data-url='http://data.vancouver.ca/download/kml/elementary_school_boundaries.kmz' id='elementary' data-category='Elementary' type='checkbox'>",(h=n.elementary_schools)?h=h.call(e,{hash:{},data:o}):(h=e.elementary_schools,h=typeof h===d?h.apply(e):h),c+=f(h)+"</input>\n                </label>\n              </li>\n              <li>\n                <label class='checkbox' for='secondary'>\n                  <input data-icon='secondaryschool' data-type='kml' data-url='http://data.vancouver.ca/download/kml/secondary_school_boundaries.kmz' id='secondary'  data-category='Secondary' type='checkbox'>",(h=n.secondary_schools)?h=h.call(e,{hash:{},data:o}):(h=e.secondary_schools,h=typeof h===d?h.apply(e):h),c+=f(h)+"</input>\n                </label>\n              </li>\n              <li>\n                <label class='checkbox' for='tax_assessment'>\n                  <input data-type='fusion' data-table='19xoAyX6AEqqaasAXXDuLpPtd4QfjAV_GrbbBv_I' id='tax_assessment' type='checkbox'>",(h=n.tax_assessment)?h=h.call(e,{hash:{},data:o}):(h=e.tax_assessment,h=typeof h===d?h.apply(e):h),c+=f(h)+'</input>\n                </label>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class="propertymap-controls_toggle propertymap-controls_highlight" data-toggle="collapse" data-target="#amenities">\n          <i id="amenitiesCollapseIcon"class="icon icon-collapse propertymap-controls_toggle_icon ',h=n.unless.call(e,(u=e.expand,null==u||u===!1?u:u.amenities),{hash:{},inverse:p.noop,fn:p.program(5,s,o),data:o}),(h||0===h)&&(c+=h),c+='"></i>\n          ',(h=n.amenities)?h=h.call(e,{hash:{},data:o}):(h=e.amenities,h=typeof h===d?h.apply(e):h),c+=f(h)+'\n        </div>\n        <div id="amenities" class="collapse ',h=n["if"].call(e,(u=e.expand,null==u||u===!1?u:u.amenities),{hash:{},inverse:p.noop,fn:p.program(7,l,o),data:o}),(h||0===h)&&(c+=h),c+="\">\n          <div>\n            <ul class='unstyled propertymap-controls_layers'>\n              <li>\n                <label class='checkbox' for='restaurants'>\n                  <input data-icon='food' data-term='restaurants' data-type='yelp' id='restaurants' type='checkbox'>",(h=n.restaurants)?h=h.call(e,{hash:{},data:o}):(h=e.restaurants,h=typeof h===d?h.apply(e):h),c+=f(h)+"</input>\n                </label>\n              </li>\n              <li>\n                <label class='checkbox' for='banks'>\n                  <input data-icon='dollar' data-term='banks' data-type='yelp' id='banks' type='checkbox'>",(h=n.banks)?h=h.call(e,{hash:{},data:o}):(h=e.banks,h=typeof h===d?h.apply(e):h),c+=f(h)+"</input>\n                </label>\n              </li>\n              <li>\n                <label class='checkbox' for='coffee'>\n                  <input data-icon='coffee' data-term='coffee' data-type='yelp' id='coffee' type='checkbox'>",(h=n.coffee)?h=h.call(e,{hash:{},data:o}):(h=e.coffee,h=typeof h===d?h.apply(e):h),c+=f(h)+"</input>\n                </label>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"}),this.HandlebarsTemplates.mapcontrols}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.modal_gallery=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+='<div id="',(r=n.id)?r=r.call(e,{hash:{},data:o}):(r=e.id,r=typeof r===s?r.apply(e):r),a+=l(r)+'" class="modalgallery modal hide fade">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">x</button>\n    <h3>\n      ',(r=n.title)?r=r.call(e,{hash:{},data:o}):(r=e.title,r=typeof r===s?r.apply(e):r),a+=l(r)+'\n    </h3>\n  </div>\n  <div class="modal-body">\n    <div id="',(r=n.id)?r=r.call(e,{hash:{},data:o}):(r=e.id,r=typeof r===s?r.apply(e):r),a+=l(r)+'_carousel" class="carousel slide" data-interval="false">\n      <div class="carousel-inner">\n      </div>\n      <a class="carousel-control left" href="#',(r=n.id)?r=r.call(e,{hash:{},data:o}):(r=e.id,r=typeof r===s?r.apply(e):r),a+=l(r)+'_carousel" data-slide="prev">&lsaquo;</a>\n      <a class="carousel-control right" href="#',(r=n.id)?r=r.call(e,{hash:{},data:o}):(r=e.id,r=typeof r===s?r.apply(e):r),a+=l(r)+'_carousel" data-slide="next">&rsaquo;</a>\n    </div>\n  </div>\n  <div class="modal-footer">\n    ',(r=n.footer)?r=r.call(e,{hash:{},data:o}):(r=e.footer,r=typeof r===s?r.apply(e):r),a+=l(r)+"\n  </div>\n</div>\n"}),this.HandlebarsTemplates.modal_gallery}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.notifications=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+='<div class="alert alert-',(r=n.type)?r=r.call(e,{hash:{},data:o}):(r=e.type,r=typeof r===s?r.apply(e):r),a+=l(r)+' fade in">\n  <a class="close" data-dismiss="alert" href="#">&times;</a>\n  <i class="alert-icon icon-flash-',(r=n.type)?r=r.call(e,{hash:{},data:o}):(r=e.type,r=typeof r===s?r.apply(e):r),a+=l(r)+'"></i>\n  <div class="alert-text">\n    ',(r=n.body)?r=r.call(e,{hash:{},data:o}):(r=e.body,r=typeof r===s?r.apply(e):r),a+=l(r)+"\n  </div>\n</div>\n"}),this.HandlebarsTemplates.notifications}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.school_infobubble=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+="<article class='infobubble infobubble--school'>\n  <header>",(r=n.name)?r=r.call(e,{hash:{},data:o}):(r=e.name,r=typeof r===s?r.apply(e):r),a+=l(r)+"</header>\n  <footer>Category: ",(r=n.category)?r=r.call(e,{hash:{},data:o}):(r=e.category,r=typeof r===s?r.apply(e):r),a+=l(r)+"</footer>\n</article>\n"}),this.HandlebarsTemplates.school_infobubble}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.search_location=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+='<li data-geography_id="',(r=n.id)?r=r.call(e,{hash:{},data:o}):(r=e.id,r=typeof r===s?r.apply(e):r),a+=l(r)+'">\n  <a href="#"><i class="icon-xsmall icon-remove"></i></a>\n  ',(r=n.name)?r=r.call(e,{hash:{},data:o}):(r=e.name,r=typeof r===s?r.apply(e):r),a+=l(r)+'\n  <input type="hidden" name="property_search[geographies][]" value="',(r=n.id)?r=r.call(e,{hash:{},data:o}):(r=e.id,r=typeof r===s?r.apply(e):r),a+=l(r)+'" />\n</li>\n'}),this.HandlebarsTemplates.search_location}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.yelp_infobubble=Handlebars.template(function(t,e,n,i,o){function r(t,e){var i,o="";return o+='\n    <div class="media-image">\n      <img class="media--yelp-photo" src="',(i=n.image_url)?i=i.call(t,{hash:{},data:e}):(i=t.image_url,i=typeof i===u?i.apply(t):i),o+=h(i)+'">\n      <img class="media--yelp-logo" src="/assets/yelp-d9afd55c05b3a99e2308cfed29e0451c.png" alt="Yelp">\n    </div>\n    '}function a(t){var e="";return e+="\n        <li>"+h(typeof t===u?t.apply(t):t)+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,l="",u="function",h=this.escapeExpression,c=this;return l+="<article class='infobubble'>\n  <div class=\"media media--yelp\">\n    ",s=n["if"].call(e,e.image_url,{hash:{},inverse:c.noop,fn:c.program(1,r,o),data:o}),(s||0===s)&&(l+=s),l+='\n    <section class="media-content">\n      <header>',(s=n.name)?s=s.call(e,{hash:{},data:o}):(s=e.name,s=typeof s===u?s.apply(e):s),l+=h(s)+"</header>\n      <div class='media--yelp-rating'>\n        <img src='",(s=n.rating_img_url)?s=s.call(e,{hash:{},data:o}):(s=e.rating_img_url,s=typeof s===u?s.apply(e):s),l+=h(s)+"'>\n        <a href='",(s=n.url)?s=s.call(e,{hash:{},data:o}):(s=e.url,s=typeof s===u?s.apply(e):s),l+=h(s)+"' target='_blank'>",(s=n.review_count)?s=s.call(e,{hash:{},data:o}):(s=e.review_count,s=typeof s===u?s.apply(e):s),l+=h(s)+" reviews</a>\n      </div>\n      <div>",(s=n.address)?s=s.call(e,{hash:{},data:o}):(s=e.address,s=typeof s===u?s.apply(e):s),l+=h(s)+'</div>\n      <ul class="l-commalist">\n        ',s=n.each.call(e,e.neighborhoods,{hash:{},inverse:c.noop,fn:c.program(3,a,o),data:o}),(s||0===s)&&(l+=s),l+="\n      </ul>\n      <div>",(s=n.phone)?s=s.call(e,{hash:{},data:o}):(s=e.phone,s=typeof s===u?s.apply(e):s),l+=h(s)+"</div>\n    </section>\n  </div>\n</article>\n"
}),this.HandlebarsTemplates.yelp_infobubble}.call(this),function(){null==window.REW&&(window.REW={}),REW.Accordion=function(){function t(t,e){this.$label=$(t),this.$indicator=$(e),this._attachEvents()}return t.prototype._attachEvents=function(){return this.$label.on("click",function(t){return function(){return t.$indicator.html(t.$label.hasClass("collapsed")?"-":"+")}}(this))},t}(),$(function(){return new REW.Accordion(".accordion-link_label",".accordion-link_indicator")})}.call(this),function(){null==window.REW&&(window.REW={}),REW.AdRefresher={refresh:function(){return null!=("undefined"!=typeof googletag&&null!==googletag?googletag.pubads:void 0)?googletag.pubads().refresh():void 0}}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.AffinityMap=function(){function e(e,n){this._showAffinity=t(this._showAffinity,this),this._updateFilters=t(this._updateFilters,this),this.$el=$(e),$.extend(this.options,n),this._createMap(),this._addGeographies(),this._addLegend(),this._addFilters()}return e.prototype.options={key:null,defaultZoom:11,defaultCenter:{lat:49.2419,lng:-123.0233},affinityTable:{id:null},geographyTable:{id:null}},e.prototype.neighbourhoods={},e.prototype.colors=["#003FFF","#00A9FF","#00FFE9","#00FF7F","#00FF15","#54FF00","#BFFF00","#FFD400","#FF6A00","#FF0400"],e.prototype._createMap=function(){var t;return t={center:new google.maps.LatLng(this.options.defaultCenter.lat,this.options.defaultCenter.lng),mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,minZoom:10,panControl:!1,zoomControl:!1,streetViewControl:!1,zoom:this.options.defaultZoom},this.map=new google.maps.Map(this.$el.get(0),t)},e.prototype._addGeographies=function(){var t;return t={sql:"SELECT id, name, geometry, centroid from "+this.options.geographyTable.id+" WHERE type = 'neighbourhood'",key:this.options.key},$.getJSON("https://www.googleapis.com/fusiontables/v1/query",t,function(e){return function(n){var i,o,r,a,s,l,u;if(null!=n.rows){for(l=n.rows,u=[],a=0,s=l.length;s>a;a++)o=l[a],t={id:o[0],name:o[1],geometry:o[2],centroid:o[3]},i=t.geometry.geometry.coordinates[0],r=e._drawPolygon(i),r.geographyData=t,r.label=new MapLabel({position:r.center,text:t.name,fontColor:"#c00",fontSize:15,strokeWeight:3}),google.maps.event.addListener(r,"click",$.proxy(e._showAffinity,e,t.id)),google.maps.event.addListener(r,"mouseover",function(){return this.label.setMap(this.map)}),google.maps.event.addListener(r,"mouseout",function(){return this.label.setMap(null)}),u.push(e.neighbourhoods[t.id]=r);return u}}}(this))},e.prototype._drawPolygon=function(t){var e,n,i,o,r,a;return e=new google.maps.LatLngBounds,o=function(){var n,o,a;for(a=[],n=0,o=t.length;o>n;n++)i=t[n],r=new google.maps.LatLng(i[1],i[0]),e.extend(r),a.push(r);return a}(),n=e.getCenter(),a=new google.maps.Polygon({map:this.map,paths:o,strokeWeight:1,fillOpacity:.1,strokeColor:"#000",fillColor:"#000"}),a.center=n,a},e.prototype._addLegend=function(){var t;return t=this.colors.slice().reverse(),this.$legend=$(REW.Templates["affinity_map/legend"]({colors:t})),this.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(this.$legend.get(0))},e.prototype._addFilters=function(){return this.$filters=$(REW.Templates["affinity_map/filters"]()),this.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(this.$filters.get(0)),google.maps.event.addDomListener(this.$filters.find("select").get(0),"change",this._updateFilters),google.maps.event.addDomListener(this.$filters.find("select").get(1),"change",this._updateFilters)},e.prototype._updateFilters=function(){return this.propertyType=this.$filters.find("[data-affinitymap-propertytype]").val(),this.price=parseInt(this.$filters.find("[data-affinitymap-price]").val(),10),this.currentGeography?this._showAffinity(this.currentGeography.geographyData.id):void 0},e.prototype._showAffinity=function(t){return this._setCurrentGeography(t),this._findAffinity(t)},e.prototype._setCurrentGeography=function(t){return this.currentGeography=this.neighbourhoods[t],this._clearHighlights(),this._highlightGeography(this.currentGeography)},e.prototype._clearHighlights=function(){var t,e,n,i;n=this.neighbourhoods,i=[];for(t in n)e=n[t],i.push(e.setOptions({strokeColor:"#000",strokeWeight:1,zIndex:1,fillColor:"#000",fillOpacity:.1}));return i},e.prototype._highlightGeography=function(t){return t.setOptions({strokeColor:"#f00",strokeWeight:2,zIndex:100})},e.prototype._highlightAffinity=function(t,e){return t.setOptions({fillColor:this.colors[e],fillOpacity:.7})},e.prototype._findAffinity=function(t){var e,n,i;return n="",this.price&&(n+=" AND price > "+this.price),this.propertyType&&"All Types"!==this.propertyType&&(n+=" AND property_type = '"+this.propertyType+"'"),i="SELECT\n  also_viewed_id,\n  SUM(total)\nFROM "+this.options.affinityTable.id+"\nWHERE\n  id = '"+t+"' AND\n  also_viewed_id NOT IN ('"+t+"')\n  "+n+"\nGROUP BY also_viewed_id\nORDER BY total DESC",console.log(i),e={sql:i,key:this.options.key},$.getJSON("https://www.googleapis.com/fusiontables/v1/query",e,function(t){return function(e){return null!=e.rows?t._updateAffinity(e.rows):void 0}}(this))},e.prototype._updateAffinity=function(t){var e,n,i,o,r,a,s,l;for(i=new REW.BucketCollector(t),this._updateLegend(i.steps(this.colors.length).reverse()),s=i.geographyBuckets(this.colors.length),l=[],n=r=0,a=s.length;a>r;n=++r)e=s[n],l.push(function(){var t,i,r;for(r=[],t=0,i=e.length;i>t;t++)o=e[t],r.push(this.neighbourhoods[o]?this._highlightAffinity(this.neighbourhoods[o],n):void 0);return r}.call(this));return l},e.prototype._updateLegend=function(t){var e,n,i,o,r;for(r=[],n=i=0,o=t.length;o>i;n=++i)e=t[n],r.push(this.$legend.find("li").eq(n).text(e));return r},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.AjaxFormSubmitter=function(){function t(t,e){this.options={onBeforeSend:function(){},onSuccess:function(){},onError:function(){}},this.$form=$(t),$.extend(this.options,e),this.$form.data("submitter",this).on("submit",function(t){return function(e){var n,i;return e.preventDefault(),n=$(e.target),i=n.serialize(),$.ajax(n.attr("action"),{type:"POST",data:i,beforeSend:function(){return t.options.onBeforeSend()},success:t.options.onSuccess,error:function(e,n,i){var o;return o=JSON.parse(e.responseText),i=o.error,t.options.onError(i,o)},dataType:"json"})}}(this))}return t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.AJAXInfoBubble=function(){function t(t){this.options=$.extend(this.options,t),this._build()}return t.prototype.options={url:null,template:null,map:null,marker:null,autoOpen:!0,defaults:{}},t.prototype._build=function(){return $.getJSON(this.options.url,function(t){return function(e){return t._buildInfoBubble($.extend(t.options.defaults,e)),t.options.autoOpen?t.open():void 0}}(this))},t.prototype._buildInfoBubble=function(t){var e;return e=this.options.template(t),this.infoBubble=new InfoBubble({content:e,minWidth:250,minHeight:90,maxHeight:180,maxWidth:250,paddding:10,borderRadius:0,arrowStyle:0,arrowPosition:50,arrowSize:15,shadowStyle:0,disableAutoPan:!1})},t.prototype.open=function(){return this.infoBubble?this.infoBubble.open(this.options.map,this.options.marker):void 0},t.prototype.close=function(){return this.infoBubble?this.infoBubble.close():void 0},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.AjaxLinkHandler=function(){function e(e){this.handleResponse=t(this.handleResponse,this),this.submit=t(this.submit,this),this.$el=$(e),this.$el.on("click","a",function(t){return function(e){return e.preventDefault(),e.stopImmediatePropagation(),REW.LoginHandler.loginAndProcess(t.submit)}}(this))}return e.prototype.submit=function(){var t,e,n;return t=this.$el.find("a"),n=t.attr("href"),e=t.data("method"),$.ajax({url:n,data:this.data(t),type:e}).done(function(t){return function(e,n,i){return t.handleResponse(i)}}(this)).fail(function(t){return function(e){return t.handleResponse(e)}}(this))},e.prototype.data=function(){return{}},e.prototype.handleResponse=function(t){var e,n;return n=$.parseJSON(t.responseText),e=$(HandlebarsTemplates.notifications({type:n.flash,body:n.message})),$(".maincontent-notifications").append(e),this.$el.html(n.update),window.setTimeout(function(){return e.alert("close")},5e3)},e}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};null==window.REW&&(window.REW={}),REW.AlertSearchHandler=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.data=function(t){return{button_id:t.data("button-id"),search_type:t.data("search-type"),search_id:t.data("search-id")}},n}(REW.AjaxLinkHandler),$(function(){return $("div[data-alerthandler]").each(function(t,e){return new REW.AlertSearchHandler("#"+e.id)})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.AlertStateToggle=function(){function t(){}return t.setState=function(t,e,n){var i;return i={state:e,_method:"PUT"},$.post(t,i,n,"json")},t}(),$(function(){return $("[data-alerttoggle]").on("change",function(){var t,e,n;return t=$(this),n=t.data("url"),e=t.prop("checked")?"activate":"deactivate",t.hide().siblings("img.ajaxloader").show(),REW.AlertStateToggle.setState(n,e,function(){return t.show().siblings("img.ajaxloader").hide()})})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.AttachmentButtons=function(){function t(t,e){this.$el=$(t),$.extend(this.options,e),this.$inputField=this.$el.find(".attachmentbuttons-input"),this.$removeButton=this.$el.find(".attachmentbuttons-remove"),this.$removeField=this.$el.find(".attachmentbuttons-destroy"),this.$inputField.on("change",function(t){return function(){return t.$removeField.val("false")}}(this)),this.$removeButton.click(function(t){return function(e){return e.preventDefault(),t.$inputField.val("").show(),t.$removeButton.hide(),t.$removeField.val("true"),t.$el.trigger("removeAttachment")}}(this))}return t.prototype.options={},t}(),$(function(){return $(".attachmentbuttons").each(function(){return $.data(this,"attachmentButtons")?void 0:$.data(this,"attachmentButtons",new REW.AttachmentButtons(this))})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.BannerNavLoader={load:function(){return $(".banner-nav").load("/navigation/show")}},$(function(){return REW.BannerNavLoader.load()})}.call(this),function(){null==window.REW&&(window.REW={}),REW.BookmarkButtonUpdater=function(){function t(t){this.options=$.extend(this.options,t),this.options.bookmarks.length>0&&$("[data-bookmarkable-id]").each(function(t){return function(e,n){var i,o;return i=$(n),o=parseInt(i.data("bookmarkable-id"),10),t._hasBookmark(o)?i.attr("href","/bookmarks/"+o+"/deactivate").data("method","put").removeClass("btn-primary").text(t.options.removeLabel):void 0}}(this))}return t.prototype.options={bookmarks:[],removeLabel:"Remove"},t.prototype._hasBookmark=function(t){return-1!==this.options.bookmarks.indexOf(t)},t}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};null==window.REW&&(window.REW={}),REW.BookmarkHandler=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.data=function(t){return{button_id:t.data("button-id"),bookmarkable_id:t.data("bookmarkable-id"),bookmarkable_type:t.data("bookmarkable-type")}},n}(REW.AjaxLinkHandler),$(function(){return $("div[data-bookmarkable]").each(function(t,e){return new REW.BookmarkHandler("#"+e.id)})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.BucketCollector=function(){function t(t){this.rows=t}return t.prototype.range=function(){var t;return t=this.rows.sort(function(t,e){return t[1]-e[1]}),[parseInt(t[0][1],10),parseInt(t[t.length-1][1],10)]},t.prototype.steps=function(t){var e,n,i,o,r;for(null==t&&(t=5),i=this.range(),n=(i[1]-i[0])/t,r=[],e=o=1;t>=1?t>=o:o>=t;e=t>=1?++o:--o)r.push(Math.round(i[0]+n*e));return r},t.prototype.geographyBuckets=function(t){var e,n,i,o,r,a,s,l,u,h;for(null==t&&(t=5),a=this.steps(t),h=[],i=l=0,u=a.length;u>l;i=++l)r=a[i],n=0===i?0:a[i-1],s=r,e=$.grep(this.rows,function(t){var e;return n<=(e=t[1])&&s>=e}),h.push(function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)o=e[t],i.push(o[0]);return i}());return h},t}()}.call(this),function(){REW.Cache=function(){function t(t){this.size=null!=t?t:10}return t.prototype.cache=[],t.prototype.put=function(t,e){return null==this.get(t)&&this.cache.unshift([t,e]),this.cache=this.cache.slice(0,10)},t.prototype.get=function(t){var e;return e=$.grep(this.cache,function(e){return e[0]===t}),e.length>0?e[0][1]:null},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.CharacterCounter=function(){function e(e,n,i){this.limit=i,this.charactersLeft=t(this.charactersLeft,this),this.updateLabel=t(this.updateLabel,this),this.truncate=t(this.truncate,this),this.checkLength=t(this.checkLength,this),this.$field=$(e),this.$label=$(n),this.$field.on("keyup",function(t){return function(){return t.checkLength()||t.truncate(),t.updateLabel()}}(this)),this.$field.on("blur",function(t){return function(){return t.truncate()}}(this))}return e.prototype.checkLength=function(){return this.$field.val().length<=this.limit},e.prototype.truncate=function(){return this.$field.val(this.$field.val().substr(0,this.limit)).scrollTop(1e3)},e.prototype.updateLabel=function(){return this.$label.html(this.charactersLeft())},e.prototype.charactersLeft=function(){return this.limit-this.$field.val().length},e}(),$(function(){return $(".charactercounter[data-countcharacters]").each(function(t,e){var n,i,o;return n=$(e),i=n.find(".charactercounter-label"),o=parseInt(n.data("limit"),10),new REW.CharacterCounter(n.data("target"),i,o)})})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.CheckboxLimiter=function(){function e(e,n){this._handleChange=t(this._handleChange,this),$.extend(this.options,n),this.$el=$(e),this.$inputs=this.$el.find("input[type=checkbox]"),this._updateVars(),this.limitReached()&&this.disableAll(),this.$inputs.on("change",this._handleChange)}return e.prototype.options={limit:5,onChange:function(){},onLimitExceeded:function(){}},e.prototype.disableAll=function(){return this.$unchecked.attr("disabled",!0).parent().addClass("disabled")},e.prototype.enableAll=function(){return this.$unchecked.removeAttr("disabled").parent().removeClass("disabled")},e.prototype.setChecked=function(){return this.$checked=this.$el.find("input:checked")},e.prototype.setUnChecked=function(){return this.$unchecked=this.$el.find("input:not(:checked)")},e.prototype._handleChange=function(){return this._updateVars(),this.limitReached()?(this.disableAll(),this.options.onLimitExceeded()):(this.enableAll(),this.options.onChange())},e.prototype._updateVars=function(){return this.setChecked(),this.setUnChecked()},e.prototype.limitReached=function(){return this.$checked.length>=this.options.limit},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.CloseModalAndClick=function(t){return this.$el=$(t),this.$el.click(function(t){var e;return t.preventDefault(),$(this).parents(".modal").modal("hide"),e=$($(this).data("target")),e.click()})},$(function(){return REW.CloseModalAndClick("[data-close-modal-and-click]")})}.call(this),function(){null==window.REW&&(window.REW={}),REW.ClusteredMap=function(){function t(t,e){this.$el=$(t),this.options=$.extend(this.options,e),this.options.mapOptions.center=new google.maps.LatLng(this.options.center.lat,this.options.center.lon),this._initMap(),this._addMarkers(),this.options.autoZoom&&this._autoZoom()}return t.prototype.options={clusterMarkerData:[],markerData:[],iconSprite:{url:null,x:0,y:0,width:null,height:null,hOffset:null,icons:[],iconStates:["normal","active","disabled"]},icon:null,autoZoom:!1,center:{lat:null,lon:null},onClusterClick:function(){},onClick:function(){},onResize:function(){}},t.prototype.markers=[],t.prototype.setIcon=function(t,e){var n,i,o,r,a;for(r=this.markers,a=[],i=0,o=r.length;o>i;i++)n=r[i],a.push(n.geocodeData.id===t?n.setIcon(this._clusterIcon(e)):void 0);return a},t.prototype._getIcon=function(t,e){var n,i,o;return null==e&&(e="normal"),o=this.options.iconSprite,n=o.x+o.iconStates.indexOf(e)*o.hOffset,i=o.y+o.icons.indexOf(t)*o.height,{url:o.url,size:new google.maps.Size(o.width,o.height),origin:new google.maps.Point(n,i),anchor:new google.maps.Point(o.width/2,o.height)}},t.prototype.getMap=function(){return this.map},t.prototype._initMap=function(){var t;return google.maps.visualRefresh=!0,this.map=new google.maps.Map(this.$el.get(0),this.options.mapOptions),this.previousZoom=this.map.getZoom(),google.maps.event.addListener(this.map,"zoom_changed",function(t){return function(){return t._isCrossingBreakPoint()&&t._addMarkers(),t.previousZoom=t.map.getZoom()}}(this)),t=new REW.MapMaximizer(this.map,{onResize:function(t){return function(e){return t.options.onResize(e)}}(this)}),this.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(t.el)},t.prototype._isCrossingBreakPoint=function(){var t,e,n,i;return e=this.map.getZoom(),t=this.options.zoomBreakPoint,i=this.previousZoom>=t&&t>e,n=this.previousZoom<t&&e>=t,i||n},t.prototype._addMarkers=function(){return this._clearMarkers(),this.map.getZoom()<this.options.zoomBreakPoint?this._addClusterMarkers():this._addIndividualMarkers()},t.prototype._clearMarkers=function(){var t,e,n,i,o;for(i=this.markers,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t.setMap(null));return o},t.prototype._clusterIcon=function(t){return{anchor:this._clusterIconCorner(),url:t}},t.prototype._clusterIconCorner=function(){return null!=this.clusterIconCorner?this.clusterIconCorner:this.clusterIconCorner=new google.maps.Point(this.options.clusterIconSize/2,this.options.clusterIconSize/2)},t.prototype._addClusterMarkers=function(){var t,e,n,i,o,r,a,s;for(a=this.options.clusterMarkerData,s=[],o=0,r=a.length;r>o;o++)t=a[o],e=new google.maps.LatLng(t.lat,t.lng),n=new MarkerWithLabel({position:e,map:this.map,labelContent:"<div class='mapclusterlabel-middle'><div class='mapclusterlabel-inner'>"+t.title+"</div></div>",labelAnchor:this._clusterIconCorner(),labelClass:"mapclusterlabel",icon:this._clusterIcon(this.options.clusterIconUrl),zIndex:t.count}),n.geocodeData=t,i=this,google.maps.event.addListener(n,"click",function(){return i.options.onClusterClick(this.geocodeData)}),s.push(this.markers.push(n));return s},t.prototype._addIndividualMarkers=function(){var t,e,n,i,o,r,a,s;for(a=this.options.markerData,s=[],o=0,r=a.length;r>o;o++)t=a[o],e=new google.maps.LatLng(t.lat,t.lng),n=new google.maps.Marker({position:e,map:this.map,icon:this._getIcon(this.options.icon)}),n.geocodeData=t,i=this,google.maps.event.addListener(n,"click",function(){return i.options.onClick(this.geocodeData,this)}),s.push(this.markers.push(n));return s},t.prototype._autoZoom=function(){var t,e,n,i,o;for(t=new google.maps.LatLngBounds,o=this.markers,n=0,i=o.length;i>n;n++)e=o[n],t.extend(e.getPosition());return this.map.fitBounds(t)},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.ConfirmationModal=function(t,e){return this.$links=$(t),this.$modal=$(e),this.$links.on("click",function(t){return function(e){var n;return e.preventDefault(),n=$(e.target).attr("href"),t.$modal.find(".btn-primary").attr("href",n),t.$modal.modal("show")}}(this))}}.call(this),function(){null==window.REW&&(window.REW={}),REW.ContactForm=function(){function t(t,e){var n;$.extend(this.options,e),n=$(t),new REW.AjaxFormSubmitter(n,{onBeforeSend:function(){return n.find(".help-block, .alert").remove(),n.find(".control-group").removeClass("error")},onSuccess:function(t){return function(e){return new REW.Notification("success",e.message),dataLayer.push({event:"Agent Contact"}),t.options.onSuccess()}}(this),onError:function(t){return function(e,i){var o,r,a,s;s=i.errors;for(a in s)e=s[a],o=n.find('[name$="['+a+']"]'),r=o.parents(".control-group"),r.addClass("error"),o.after('<div class="help-block">'+e+"</div>");return i.errors.base&&n.prepend("<div class='alert alert-error'>"+i.errors.base+"</div>"),t.options.onFailure()}}(this)}),$(".contactbuttons-button, .agentbuttons-button[data-agent]").on("click",function(){var t;return t=$(this).data("agent"),n.find('input[name$="[agent_id]"]').val(t)})}return t.prototype.options={onSuccess:function(){},onFailure:function(){}},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.DeferredDevelopmentMap=function(){function t(t,e,n,i){$.extend(this.labels,n),$.extend(this.options,i),this.$el=$(t),e&&this.loadMap()}return t.prototype.labels={link:null,by:null},t.prototype.options={iconSprite:{url:null,x:0,y:0,width:null,height:null,offset:null}},t.prototype.loadMap=function(){return this.isLoaded?(google.maps.event.trigger("resize",this.map),this.developmentMap.resize().fitBounds()):(this.isLoaded=!0,new REW.GoogleMapsLoader(function(t){return function(){var e;return e={mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1},t.map=new google.maps.Map(t.$el.get(0),e),t.developmentMap=new REW.DevelopmentMap(t.map,t.labels,t.options),t.developmentMap.resize().fitBounds()}}(this)))},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.DeferredPropertyMap=function(){function e(e,n,i,o){this._updateMapLink=t(this._updateMapLink,this),$.extend(this.labels,i),$.extend(this.options,o),this.$el=$(e),n&&this.loadMap()}return e.prototype.labels={beds:null,bathrooms:null,square_feet:null,link:null},e.prototype.options={iconSprite:{url:null,x:0,y:0,width:null,height:null,offset:null},map:{searchParams:{},url:null}},e.prototype.loadMap=function(){return this.isLoaded?google.maps.event.trigger("resize",this.map):(this.isLoaded=!0,new REW.GoogleMapsLoader(function(t){return function(){var e,n,i;return n={mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_LEFT}},t.map=new google.maps.Map(t.$el.get(0),n),i=$.extend({},t.options),delete i.map,t.propertyMap=new REW.PropertyMap(t.map,t.labels,i),t.options.map.url?(e={search_params:t.options.map.searchParams,url:t.options.map.url},t.$mapSearchButton=$(HandlebarsTemplates.map_search_button(e)),t.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(t.$mapSearchButton.get(0)),$(t.propertyMap).on("updated",t._updateMapLink)):void 0}}(this)))},e.prototype.updateMarkers=function(t){return null!=this.propertyMap?this.propertyMap.updateMarkers(t):void 0},e.prototype._updateMapLink=function(){var t,e,n,i;return i=this.map.getZoom(),14>i&&(i=14),t=this.map.getCenter(),e=$.extend({},this.options.searchParams,{zoom:i,lat:t.lat(),lng:t.lng()}),n=this.options.map.url+"?"+$.param(e),this.$mapSearchButton.find("a").attr("href",n)},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.DelayedContent=function(){function t(t){this.$el=$(t),$.getJSON(this.$el.data("url"),function(t){return function(e){return"ready"===e.status?t.$el.replaceWith(e.data):setTimeout(function(){return new REW.DelayedContent(t.$el)},5e3)}}(this))}return t}(),$(function(){return $("[data-delayed-content]").each(function(){var t;return t=new REW.DelayedContent(this)})})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};null==window.REW&&(window.REW={}),REW.DevelopmentMap=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.labels={link:null,by:null},n.prototype.options={backgroundColor:"#565656",borderRadius:10,hideCloseButton:!0,padding:0,shadowStyle:0,minWidth:258,maxWidth:258,minHeight:230,arrowStyle:0,arrowPosition:50,arrowSize:15},n.prototype.template=HandlebarsTemplates.development_infobubble,n}(REW.MarkerInfobubbles)}.call(this),function(){null==window.REW&&(window.REW={}),REW.FieldReplace=function(){return $("[data-replace]").on("click",function(){return $(this).parent(".controls-current").hide().siblings(".controls-fields").show()}),$("[data-cancel]").on("click",function(){return $(this).parent(".controls-fields").hide().siblings(".controls-current").show()})},$(function(){return REW.FieldReplace()})}.call(this),function(){null==window.REW&&(window.REW={}),REW.FormErrors=function(){function t(t,e){this.$form=$(t),this.clear(),this.render(e)}return t.prototype.render=function(t){var e,n,i,o,r,a,s;s=[];for(r in t)a=t[r],n=this.$form.find("[name*='"+r+"']"),e=n.parents(".controls"),e.addClass("error"),e.parent(".control-group").addClass("error"),s.push(function(){var t,n,r;for(r=[],t=0,n=a.length;n>t;t++)i=a[t],o=$("<span class='help-block'>"+i+"</span>"),r.push(e.append(o));return r}());return s},t.prototype.clear=function(){return this.$form.find(".controls.error .help-block").remove(),this.$form.find(".error").removeClass("error")},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.ScriptLoader={load:function(t,e){return yepnope.injectJs(t,e)}}}.call(this),function(){null==window.REW&&(window.REW={}),REW.GoogleMapsLoader=function(){function t(t,e){var n;null==e&&(e="AIzaSyCGNHupVDIt5_IKJ2kx2CYYgsEtni7aLBY"),REW.initializeMap=function(){return google.maps.visualRefresh=!0,t()},n="https://maps.googleapis.com/maps/api/js?v=3.12&sensor=false&callback=REW.initializeMap&key="+e,REW.ScriptLoader.load(n)}return t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.HorizontalBarGraph=function(){function t(t,e){this.options=e,this.$el=$(t),this.$anchor=$(this.options.anchor),this.$triggers=$(this.options.triggers),this.barSelector=this.options.barSelector,this.dataAttribute=this.options.dataAttribute,this.animationDuration=500,this.initGraph()}return t.prototype.options={anchor:null,activeTab:null,triggers:null,barSelector:null,dataAttribute:null},t.prototype.currentValues=null,t.prototype.previousValues=null,t.prototype.resetBars=function(t){return t.find(this.barSelector).each(function(){return $(this).css("width",0)})},t.prototype.animateBars=function(t){return t.animate({opacity:1},this.animationDuration,function(e){return function(){var n;return n=t.data(e.dataAttribute),t.find(e.barSelector).each(function(t,e){var i;return i=n[$(e).parent().index()],$(e).animate({width:100*i+"%"},this.animationDuration)})}}(this))},t.prototype.initGraph=function(){return this.$anchor.waypoint({handler:function(t){return function(){var e,n;return e=$(t.options.activeTab),n=$(e.attr("href")),t.resetBars(n),t.animateBars(n)}}(this),offset:"bottom-in-view",triggerOnce:!0}),this.$triggers.on("show",function(t){return function(e){var n,i;return e.target,e.relatedTarget,n=$($(e.relatedTarget).attr("href")),n.animate({opacity:0},t.animationDuration),i=$($(e.target).attr("href")),i.css("opacity",0),t.resetBars(i)}}(this)),this.$triggers.on("shown",function(t){return function(e){var n;return e.target,n=$($(e.target).attr("href")),t.animateBars(n)}}(this))},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.ImageUploader=function(){function t(t,e){this.$el=$(t),$.extend(this.options,e),this.$el.on("removeAttachment",function(t){return function(){var e,n;return e=t.$el.find("img"),n=e.data("placeholder"),e.attr("src",n)}}(this))}return t.prototype.options={},t}(),$(function(){return $("[data-imageuploader]").each(function(){return new REW.ImageUploader(this)})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.InputSuggestions=function(){function t(t,e){this.$input=$(t),this.$suggestions=$(e),this.$input.on("focus change keyup",function(t){return function(e){var n;return n=e.target.value.length,t.$suggestions.toggle(1>=n&&0===$(".ui-autocomplete:visible").length)}}(this)).on("blur",function(t){return function(){return t.$suggestions.hide()}}(this))}return t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.ListingLinkUpdater=function(){function t(t){$("[data-listing-link]").each(function(){var e;return e=this.href.replace(/\?.*/,""),""!==$.param(t)?this.href=e+"?"+$.param(t):void 0})}return t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.LoginHandler=function(){function t(){}return t.loginAndProcess=function(t,e){var n;return null==e&&(e="#sign_up"),n=$("#loginForm"),REW.logged_in?t():($("#login form").data("submitter").options.onSuccess=function(){return function(e){return REW.logged_in=e.resource,$("meta[name='csrf-token']").attr("content",e.csrf_token),$("[name='"+e.csrf_param+"']").val(e.csrf_token),t(e.redirect),REW.BannerNavLoader.load(),n.modal("hide")}}(this),$("#sign_up form").data("submitter").options.onSuccess=function(){return function(e){return REW.logged_in=e,REW.Tracking.userSignup(),t(),REW.BannerNavLoader.load(),n.modal("hide")}}(this),REW.ModalTabSelector(n,"[data-toggle=tab][href="+e+"]"))},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.MapLayers=function(){function e(e,n,i,o){this.map=e,this.property=i,this.createFusionLayer=t(this.createFusionLayer,this),this.getFusionLayer=t(this.getFusionLayer,this),this.addFusionLayer=t(this.addFusionLayer,this),this.addMarkers=t(this.addMarkers,this),this.addYelpLayer=t(this.addYelpLayer,this),this.createKmlLayer=t(this.createKmlLayer,this),this.getKmlLayer=t(this.getKmlLayer,this),this.addKmlLayer=t(this.addKmlLayer,this),$.extend(this.options,o),this.yelp=new REW.Yelp(this.options.yelp_url),this.$mapContainer=$(n),this.addPropertyMarker(),this.addPullTab(),this.$layerTriggers=$(".pulltab-content input:checkbox"),this.addLayers()}return e.prototype.options={isOpen:!0,expand:{amenities:!1,layers:!1},direction:"up",elementary_schools:"Elementary Schools",secondary_schools:"Secondary Schools",transit:"Transit",restaurants:"Restaruants",banks:"Banks",coffee:"Coffee shops",tax_assessment:"Tax Assessment Data",iconSprite:{url:null,x:0,y:0,width:null,height:null,hOffset:null,vOffset:null,icons:[],iconStates:["normal","active","disabled"]},zoom:13,yelp_url:""},e.prototype.drawPolygon=function(t){var e,n,i,o,r,a,s,l,u,h;if(t){for(l=t.split(" "),a=[],u=0,h=l.length;h>u;u++)n=l[u],i=n.split(","),r=parseFloat(i[0],10),o=parseFloat(i[1],10),a.push(new google.maps.LatLng(o,r));return s=new google.maps.Polygon({paths:a,strokeColor:"#FF7C14",strokeWeight:2,fillColor:"#FF5904",fillOpacity:.5}),s.setMap(this._getMap()),e=this._pathCenter(a),this.marker.setPosition(e)}},e.prototype._pathCenter=function(t){var e,n,i,o,r;return e=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(r.lat());return i}(),e=this._discardNaN(e),n=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(r.lng());return i}(),n=this._discardNaN(n),i=this._mid(e),o=this._mid(n),new google.maps.LatLng(i,o)},e.prototype._mid=function(t){var e,n;return n=this._min(t),e=this._max(t),n+(e-n)/2},e.prototype._max=function(t){return Math.max.apply(null,t)},e.prototype._min=function(t){return Math.min.apply(null,t)},e.prototype._discardNaN=function(t){return $.grep(t,function(t){return $.isNumeric(t)})},e.prototype.addPropertyMarker=function(){return this.marker=new google.maps.Marker({position:new google.maps.LatLng(this.property.lat,this.property.lng),map:this._getMap(),icon:this._getIcon(this.options.icon),title:this.property.title}),this._getMap().setCenter(this.marker.getPosition()),this._getMap().setZoom(this.options.zoom)},e.prototype._getMap=function(){return this.map},e.prototype._getIcon=function(t,e){var n,i,o;return null==e&&(e="normal"),o=this.options.iconSprite,n=o.x+o.iconStates.indexOf(e)*o.hOffset,i=o.y+o.icons.indexOf(t)*o.vOffset,{url:o.url,size:new google.maps.Size(o.width,o.height),origin:new google.maps.Point(n,i)}},e.prototype.addLayers=function(){return this.$layerTriggers.filter("[data-type=kml]").each(this.addKmlLayer),this.$layerTriggers.filter("[data-type=yelp]").each(this.addYelpLayer),this.$layerTriggers.filter("[data-type=fusion]").each(this.addFusionLayer)},e.prototype.addKmlLayer=function(t,e){return $(e).on("change",function(t){return function(e){var n,i,o;return n=$(e.target),o=t.getKmlLayer(n),i=n.prop("checked"),o.setMap(i?t._getMap():null)}}(this))},e.prototype.getKmlLayer=function(t){var e,n;return e=$(t),n=e.data("layer"),n||(n||(n=this.createKmlLayer(e)),e.data("layer",n)),n},e.prototype.createKmlLayer=function(t){var e,n,i,o;
return e=$(t),n=e.data("category"),i={url:e.data("url"),options:{clickable:!0,preserveViewport:!0,suppressInfoWindows:!0}},o=new google.maps.KmlLayer(i.url,i),google.maps.event.addListener(o,"click",function(t){return function(e){var i;return t.infoWindow&&t.infoWindow.close(),i=HandlebarsTemplates.school_infobubble($.extend({},e.featureData,{category:n})),t.infoWindow=new InfoBubble({content:i,minWidth:150,minHeight:40,maxHeight:40,maxWidth:150,paddding:10,borderRadius:0,arrowStyle:0,arrowPosition:50,arrowSize:15,shadowStyle:0,disableAutoPan:!1}),t.infoWindow.setPosition(e.latLng),t.infoWindow.open(t._getMap())}}(this)),o},e.prototype.addYelpLayer=function(t,e){var n;return n=$(e),n.on("change",function(t){return function(e){var n,i,o,r,a;return n=$(e.target),a=n.is(":checked"),a&&!n.data("yelp_loaded")&&(n.data("yelp_loaded",!0),o=n.data("term"),i=n.data("icon"),r=t._getMap().getCenter(),t.yelp.search(o,r.lat(),r.lng(),function(e){var o;return o=t.addMarkers(e,i),n.data("markers",o),t.toggleMarkers(n.data("markers"),n.is(":checked"))})),t.toggleMarkers(n.data("markers"),a)}}(this))},e.prototype.toggleMarkers=function(t,e){var n,i,o,r;for(null==t&&(t=[]),r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(n.setVisible(e));return r},e.prototype.addMarkers=function(t,e){var n,i;return i=function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(this.addMarker(n,e));return r}.call(this)},e.prototype.addMarker=function(t,e){var n;return n=new google.maps.Marker({position:new google.maps.LatLng(t.latitude,t.longitude),icon:this._getIcon(e),flat:!0,map:this._getMap(),title:t.name}),n.iconType=e,google.maps.event.addListener(n,"click",function(e){return function(){var i;return e.infoWindow&&(e.infoWindow.close(),e.infoWindow.marker.setIcon(e._getIcon(n.iconType))),i=HandlebarsTemplates.yelp_infobubble(t),e.infoWindow=new InfoBubble({content:i,minWidth:285,minHeight:126,maxHeight:126,maxWidth:285,paddding:10,borderRadius:0,arrowStyle:0,arrowPosition:50,arrowSize:15,shadowStyle:0,disableAutoPan:!1}),e.infoWindow.marker=n,e.infoWindow.addListener("closeclick",function(){return e.infoWindow.marker.setIcon(e._getIcon(n.iconType))}),n.setIcon(e._getIcon(n.iconType,"active")),e.infoWindow.open(e._getMap(),n)}}(this)),n},e.prototype.addPullTab=function(){var t,e;return e=$.extend({},this.options,{narrow:"right"===this.options.direction}),t=$(HandlebarsTemplates.mapcontrols(e)),this.$mapContainer.after(t),new REW.Pulltab(".pulltab"),t.find("#amenities").on("shown",function(){return $("#amenitiesCollapseIcon").removeClass("is-collapsed")}).on("hidden",function(){return $("#amenitiesCollapseIcon").addClass("is-collapsed")}),t.find("#layers").on("shown",function(){return $("#layersCollapseIcon").removeClass("is-collapsed")}).on("hidden",function(){return $("#layersCollapseIcon").addClass("is-collapsed")})},e.prototype.addFusionLayer=function(t,e){return $(e).on("change",function(t){return function(e){var n,i,o;return n=$(e.target),o=t.getFusionLayer(n),i=n.prop("checked"),o.setMap(i?t._getMap():null)}}(this))},e.prototype.getFusionLayer=function(t){var e,n;return e=$(t),n=e.data("layer"),n||(n||(n=this.createFusionLayer(e)),e.data("layer",n)),n},e.prototype.createFusionLayer=function(t){var e,n,i;return e=$(t),i=e.data("table"),n=new google.maps.FusionTablesLayer({supressInfoWindows:!0,query:{from:i},styles:[{polygonOptions:{fillColor:"#f6b26b",fillOpacity:.3,strokeColor:"#f6b26b"}}],options:{suppressInfoWindows:!0}}),google.maps.event.addListener(n,"click",function(t){return function(e){var n;return n={value:{land:e.row.current_land_value.value,improvement:e.row.current_improvement_value.value,total:e.row.current_total_value.value},address:{number:e.row.civic_number.value,street:e.row.std_street.value}},t.infoWindow&&t.infoWindow.close(),t.infoWindow=new InfoBubble({content:HandlebarsTemplates.assessment(n),minWidth:150,minHeight:80,maxWidth:150,paddding:10,borderRadius:0,arrowStyle:0,arrowPosition:50,arrowSize:15,shadowStyle:0,disableAutoPan:!0}),t.infoWindow.setPosition(e.latLng),t.infoWindow.open(t._getMap())}}(this)),n},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.MapMaximizer=function(){function t(t,e){this.map=t,this.options=$.extend(this.options,e),this.$el=$(HandlebarsTemplates.map_maximizer()),this.el=this.$el.get(0),this._attachEvents()}return t.prototype.options={onResize:function(){}},t.prototype._attachEvents=function(){return google.maps.event.addDomListener(this.el,"click",function(t){return function(){var e;return e=t.map.getCenter(),t.$el.toggleClass("is-maximized"),t.$el.parents(".map").toggleClass("map--fullscreen"),google.maps.event.trigger(t.map,"resize"),t.map.setCenter(e),t.options.onResize(t.$el.hasClass("is-maximized"))}}(this))},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.MapSearch=function(){function e(e,n){this._updatePolygon=t(this._updatePolygon,this),this._highlightCurrentPolygon=t(this._highlightCurrentPolygon,this),this._zoomGeography=t(this._zoomGeography,this),this._dispatchChange=t(this._dispatchChange,this),this._showListingInfoBubble=t(this._showListingInfoBubble,this),this._dispatchZoomChanged=t(this._dispatchZoomChanged,this),this._handleZoom=t(this._handleZoom,this),this._initMap=t(this._initMap,this),this.closeInfoWindow=t(this.closeInfoWindow,this),this.$el=$(e),$.extend(this.options,n),google.maps.event.addDomListener(window,"load",this._initMap),this.listingMarkers=[]}return e.prototype.options={key:null,listingTable:{id:null,style_id:null,template_id:null},geographyTable:{id:null,style_id:null,template_id:null},propertyUrl:null,locationSelector:null,propertyTypesSelector:null,defaultZoom:11,defaultCenter:{lat:49.2419,lng:-123.0233},developments:[],developmentIcon:{url:null,x:0,y:0,width:null,height:null}},e.prototype.values=function(){var t,e;return t=this.map.getBounds(),e={lat:this.getCenter().lat(),lng:this.getCenter().lng(),zoom:this.map.getZoom()},t&&(e.bounds={sw:t.getSouthWest().toString().replace(/[ \(\)]/g,""),ne:t.getNorthEast().toString().replace(/[ \(\)]/g,"")}),e},e.prototype.setValues=function(t){var e,n,i;return this._detachEvents(),i=t.zoom||this.options.defaultZoom,e=t.lat||this.options.defaultCenter.lat,n=t.lng||this.options.defaultCenter.lng,this.map.setZoom(i),this.map.setCenter(new google.maps.LatLng(e,n)),this._setSearch(t),this.unhighlightListing(),this._handleZoom(),this._attachEvents()},e.prototype._setSearch=function(t){var e,n,i,o,r,a,s,l,u;return a=[],null!=t.numBedrooms&&""!==t.numBedrooms&&"0+"!==t.numBedrooms&&(s=this._parseNumPlus(t.numBedrooms),i=s[0],n=s[1],a.push("num_bedrooms "+i+" "+n)),null!=t.numBathrooms&&""!==t.numBathrooms&&"0+"!==t.numBathrooms&&(l=this._parseNumPlus(t.numBathrooms),i=l[0],e=l[1],a.push("num_bathrooms "+i+" "+e)),isNaN(parseInt(t.price.from))||a.push("list_price >= "+t.price.from),isNaN(parseInt(t.price.to))||a.push("list_price <= "+t.price.to),isNaN(parseInt(t.sqft.from))||a.push("total_floor_area >= "+t.sqft.from),isNaN(parseInt(t.sqft.to))||a.push("total_floor_area <= "+t.sqft.to),isNaN(parseInt(t.yearBuilt.from))||a.push("year_built >= "+t.yearBuilt.from),isNaN(parseInt(t.yearBuilt.to))||a.push("year_built <= "+t.yearBuilt.to),(null!=(u=t.keywords)?u.length:void 0)>0&&a.push("keywords CONTAINS IGNORING CASE '"+t.keywords+"'"),t.propertyTypes.length!==$(this.options.propertyTypesSelector).length&&(o=function(){var e,n,i,o;for(i=t.propertyTypes,o=[],e=0,n=i.length;n>e;e++)r=i[e],o.push("'"+r+"'");return o}(),a.push("property_type IN ("+o.join(",")+")")),t.openHouseOnly&&a.push("has_open_house = 1"),this._setListingsLayer(a.join(" AND "))},e.prototype._parseNumPlus=function(t){var e,n;return t.match(/\+$/)?(n=">=",e=t.replace("+","")):null!=t&&""!==t&&(n="=",e=t),[n,e]},e.prototype.showWaitCursor=function(){return this._setCursor("wait")},e.prototype.hideWaitCursor=function(){return this._setCursor(null)},e.prototype.showCities=function(){return this._setGeographyLayer("type = 'city'"),this.showGeographies()},e.prototype.showNeighbourhoods=function(){return this._setGeographyLayer("type = 'neighbourhood'"),this.showGeographies()},e.prototype.hideGeographies=function(){return this.geographyLayer.setMap(null)},e.prototype.showGeographies=function(){return this.geographyLayer.setMap(this.map)},e.prototype.hideListings=function(){return this._isListingsVisible()?(this.listingLayer.setMap(null),this.closeInfoWindow(),this._clearListingMarkers(),this.unhighlightListing()):void 0},e.prototype.showListings=function(){return this._isListingsVisible()?void 0:this.listingLayer.setMap(this.map)},e.prototype.closeInfoWindow=function(){return null!=this.infoWindow?this.infoWindow.close():void 0},e.prototype._initMap=function(){return this.map=this._createMap(),this._addDevelopmentMarkers(),this._addGeographyLayer(),this._addListingLayer(),this._initAutocomplete(),google.maps.event.addListener(this.map,"dragend",function(t){return function(){return clearTimeout(t.polygonTimeout),t.polygonTimeout=setTimeout(t._highlightCurrentPolygon,500)}}(this)),google.maps.event.addListener(this.map,"click",this.closeInfoWindow),this._attachEvents(),google.maps.event.addListenerOnce(this.map,"bounds_changed",function(t){return function(){return $(t).trigger("mapready")}}(this))},e.prototype._createMap=function(){var t;return t={center:new google.maps.LatLng(this.options.defaultCenter.lat,this.options.defaultCenter.lng),zoom:this.options.defaultZoom,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},minZoom:10},new google.maps.Map(this.$el.get(0),t)},e.prototype._initAutocomplete=function(){return this.autocomplete=new google.maps.places.Autocomplete($(this.options.locationSelector).get(0)),google.maps.event.addListener(this.autocomplete,"place_changed",function(t){return function(){var e;return e=t.autocomplete.getPlace(),e.geometry?(e.geometry.viewport?t.map.fitBounds(e.geometry.viewport):(t.map.panTo(e.geometry.location),t.map.setZoom(15)),null!=t.placeMarker&&t.placeMarker.setMap(null),t.placeMarker=new google.maps.Marker({map:t.map,position:e.geometry.location})):void 0}}(this))},e.prototype._handleZoom=function(){return this.zoom!==this.map.getZoom()?(this.zoom=this.map.getZoom(),this.listingsVisible=!1,this.zoom<=11?(this.showCities(),this.hideListings()):this.zoom>=14?(this.hideGeographies(),this._highlightCurrentPolygon(),this.showListings(),this.showDevelopments(),this.listingsVisible=!0):(this.hideListings(),this.hideDevelopments(),this.showNeighbourhoods()),clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(this._dispatchZoomChanged,200)):void 0},e.prototype._dispatchZoomChanged=function(){return $(this).trigger("zoom_changed",{zoom:this.map.getZoom(),listingsVisible:this.listingsVisible})},e.prototype._initListingClick=function(){return google.maps.event.addListener(this.listingLayer,"click",function(t){return function(e){var n;return n=e.row.id.value,t._showListingInfoBubble(n,e.latLng)}}(this))},e.prototype._showListingInfoBubble=function(t,e){return this.closeInfoWindow(),this.showWaitCursor(),null!=this.ajax&&this.ajax.abort(),this.infoWindow=new google.maps.InfoWindow({position:e,minWidth:250,minHeight:130}),this.ajax=$.getJSON(this.options.propertyUrl.replace(":id",t),{},function(t){return function(e){var n;return e.url+="?property_click=map",n=$(HandlebarsTemplates.listing_infobubble_compact($.extend({"class":"infobubble--listingmap"},e))),n.on("click",function(t){return t.preventDefault(),window.location=e.url}),t.infoWindow.setContent(n.get(0)),t.infoWindow.open(t.map),t.hideWaitCursor()}}(this))},e.prototype._setCursor=function(t){return this.map.setOptions({draggableCursor:t})},e.prototype._initGeographyEvents=function(){return google.maps.event.addListener(this.geographyLayer,"click",function(t){return function(e){var n,i,o,r;return o=e.row.name.value,i={name:e.row.name.value,centroid:e.row.centroid.value.split(","),type:e.row.type.value},r=new google.maps.LatLng(i.centroid[0],i.centroid[1]),t.closeInfoWindow(),null!=t.ajax&&t.ajax.abort(),t.infoWindow=new google.maps.InfoWindow,t.infoWindow.setPosition(r),n=$(HandlebarsTemplates.geography_infobubble({name:o})),n.find("button").data("geography",i).on("click",t._zoomGeography),t.infoWindow.setContent(n.get(0)),t.infoWindow.open(t.map),$(t).trigger("geography_click",i)}}(this))},e.prototype._isListingsVisible=function(){return null!=this.listingLayer&&null!=this.listingLayer.getMap()},e.prototype._isGeographiesVisible=function(){return null!=this.geographyLayer&&null!=this.geographyLayer.getMap()},e.prototype._addGeographyLayer=function(){return this.geographyLayer=new google.maps.FusionTablesLayer({query:{from:this.options.geographyTable.id,where:"type = 'city'"},map:this.map,suppressInfoWindows:!0,options:{styleId:this.options.geographyTable.style_id,templateId:this.options.geographyTable.template_id}}),this._initGeographyEvents()},e.prototype._addListingLayer=function(){return null!=this.listingLayer&&this.listingLayer.setMap(null),this.listingLayer=new google.maps.FusionTablesLayer({query:{select:"coords",from:this.options.listingTable.id},options:{styleId:this.options.listingTable.style_id,templateId:this.options.listingTable.template_id},map:this.map,suppressInfoWindows:!0}),this._setListingsLayer(""),this._initListingClick()},e.prototype._setListingsLayer=function(t){return this.listingLayer.setOptions({query:{select:"coords",from:this.options.listingTable.id,where:t}}),this.closeInfoWindow()},e.prototype._setGeographyLayer=function(t){return this.geographyLayer.setOptions({query:{select:"geometry",from:this.options.geographyTable.id,where:t}}),this.closeInfoWindow()},e.prototype._attachEvents=function(){return this.idleListener=google.maps.event.addListener(this.map,"dragend",this._dispatchChange),this.zoomListener=google.maps.event.addListener(this.map,"zoom_changed",this._handleZoom)},e.prototype._detachEvents=function(){return google.maps.event.removeListener(this.idleListener),google.maps.event.removeListener(this.zoomListener)},e.prototype._dispatchChange=function(){return $(this).trigger("changed",this.values())},e.prototype._zoomGeography=function(t){var e,n,i;return this._detachEvents(),e=$(t.target),n=e.data("geography").centroid,i="city"===e.data("geography").type?13:14,this.map.setZoom(i),this.map.setCenter(new google.maps.LatLng(n[0],n[1])),this._handleZoom(),this._attachEvents()},e.prototype._highlightCurrentPolygon=function(){var t,e,n,i,o;return this.map.getZoom()>13?(t=this.getCenter(),n=this._reducePrecision(t.lat()),i=this._reducePrecision(t.lng()),o="ST_INTERSECTS(geometry, CIRCLE(LATLNG("+n+","+i+"), 0.001)) AND type='neighbourhood'",e={sql:"SELECT name, type, centroid, geometry from "+this.options.geographyTable.id+" WHERE "+o,key:this.options.key},$.getJSON("https://www.googleapis.com/fusiontables/v1/query",e,function(t){return function(e){var n,i;return null!=e.rows?(i=e.rows[0],t.currentGeography={name:i[0],type:i[1],centroid:i[2].split(",")},n=i[3].geometry.coordinates[0],t._updatePolygon(t.currentGeography,n)):void 0}}(this))):this._clearPolygon()},e.prototype._reducePrecision=function(t,e){return null==e&&(e=100),Math.round(t*e)/e},e.prototype._updatePolygon=function(t,e){return null==this.currentPolygon||this.currentPolygon.geographyName!==t.name?(this._clearPolygon(),this.currentPolygon=this._getPolygon(e),this.currentPolygon.geographyName=t.name,this.currentPolygon.setMap(this.map),$(this).trigger("geography_changed",t)):void 0},e.prototype._clearPolygon=function(){return null!=this.currentPolygon?this.currentPolygon.setMap(null):void 0},e.prototype._getPolygon=function(t){var e,n;return n=function(){var n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(new google.maps.LatLng(e[1],e[0]));return o}(),new google.maps.Polygon({paths:n,strokeColor:"#797979",strokeOpacity:.8,strokeWeight:2,fillOpacity:0,clickable:!1})},e.prototype.highlightMarker=function(t){var e,n;return this.unhighlightListing(),n=new google.maps.LatLng(t.lat,t.lon),e={url:"http://www.google.com/mapfiles/arrow.png",anchor:new google.maps.Point(12,62)},this.currentListing=new google.maps.Marker({position:n,icon:e,map:this.map,animation:google.maps.Animation.BOUNCE})},e.prototype.unhighlightListing=function(){return null!=this.currentListing?this.currentListing.setMap(null):void 0},e.prototype._addDevelopmentMarkers=function(){var t,e,n,i;return this.developments=function(){var o,r,a,s;for(a=this.options.developments,s=[],o=0,r=a.length;r>o;o++)t=a[o],n=new google.maps.LatLng(t.lat,t.lon),e=new google.maps.Marker({position:n,icon:this._getIcon()}),e.set("development",t),i=this,google.maps.event.addListener(e,"click",function(e){var n;return t=this.get("development"),i.closeInfoWindow(),n=HandlebarsTemplates.development_infobubble(t),i.infoWindow=new InfoBubble({map:i.map,content:n,backgroundColor:"#565656",borderRadius:10,hideCloseButton:!0,position:e.latLng,padding:0,shadowStyle:0}),i.infoWindow.open(i.map)}),s.push(e);return s}.call(this)},e.prototype.showDevelopments=function(){return this._isDevelopmentsVisible()?void 0:this._setDevelopmentsMap(this.map)},e.prototype.hideDevelopments=function(){return this._setDevelopmentsMap(null)},e.prototype._setDevelopmentsMap=function(t){var e,n,i,o,r;for(o=this.developments,r=[],n=0,i=o.length;i>n;n++)e=o[n],r.push(e.setMap(t));return r},e.prototype._isDevelopmentsVisible=function(){var t;return"function"==typeof(t=this.developments)[0]?t[0](null!=getMap()):void 0},e.prototype._getIcon=function(){return null!=this.icon?this.icon:this.icon={url:this.options.developmentIcon.url,size:new google.maps.Size(this.options.developmentIcon.width,this.options.developmentIcon.height),origin:new google.maps.Point(this.options.developmentIcon.x,this.options.developmentIcon.y)}},e.prototype.redraw=function(){return google.maps.event.trigger(this.map,"resize"),this.map.setZoom(this.map.getZoom())},e.prototype.setGeographySummary=function(t){var e;if(null!=this.infoWindow)return e=$(HandlebarsTemplates.geography_summary(t)),$(this.infoWindow.getContent()).find("section").html(e),this.infoWindow.setContent(this.infoWindow.getContent())},e.prototype.getCurrentGeography=function(t){return t(this.currentGeography)},e.prototype.getCenter=function(){return this.map.getCenter()},e.prototype.setListingMarkers=function(t){var e,n,i,o,r;return this._clearListingMarkers(),e={house:"orange",apartment_condo:"blue",townhouse:"red",duplex:"lightblue",other:"green"},this.listingMarkers=function(){var a,s,l;for(l=[],a=0,s=t.length;s>a;a++)n=t[a],o=new google.maps.LatLng(n.coordinates.lat,n.coordinates.lon),i=new google.maps.Marker({position:o,map:this.map,icon:"http://maps.google.com/intl/en_us/mapfiles/ms/micons/"+e[n.property_type]+".png"}),i.listingId=n.id,r=this,google.maps.event.addListener(i,"click",function(t){return r._showListingInfoBubble(this.listingId,t.latLng)}),l.push(i);return l}.call(this)},e.prototype._clearListingMarkers=function(){var t,e,n,i,o;for(i=this.listingMarkers,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t.setMap(null));return o},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.NonLinearSlider=function(){function t(t,e){var n;this.$el=$(t),$.extend(this.options,e),this.$from=this.$el.find("[data-filterslider-from]"),this.$fromLabel=this.$el.find(".filterslider-from"),this.$to=this.$el.find("[data-filterslider-to]"),this.$toLabel=this.$el.find(".filterslider-to"),this.isCurrency=null!=this.$el.data("is-currency"),this.values=this._buildValues(),this.maxIndex=this.values.length-1,this.currentFrom=null!=this.$el.data("from")?this._valueIndex(this.$el.data("from")):0,this.currentTo=null!=this.$el.data("to")?this._valueIndex(this.$el.data("to")):this.maxIndex,n=$.extend({},this.options.sliderOptions,{range:!0,max:this.maxIndex,values:[this.currentFrom,this.currentTo],change:function(t){return function(){return $(t).trigger("change",t.value())}}(this),slide:function(t){return function(e,n){return t._isOverlapping(n.value)?!1:1===$(n.handle).index()?t._setFrom(n.value):t._setTo(n.value)}}(this)}),this.$slider=this.$slider=this.$el.find(".filterslider-slider").slider(n)}return t.prototype.options={sliderOptions:{}},t.prototype.container=function(){return this.$el},t.prototype._refresh=function(){var t,e,n;return e=this.$slider.slider("values"),t=e[0],n=e[1],this._setFrom(t),this._setTo(n)},t.prototype._buildValues=function(){var t;return t=this.$el.data("values"),0!==t[0]&&t.unshift(0),t.push(t[t.length-1]+1),t},t.prototype._setFrom=function(t){var e;return 0===t||t===this.maxIndex?(this.$fromLabel.html("Any"),this.$from.val(null)):(e=this.values[t],this.$fromLabel.html(e),this.isCurrency&&this.$fromLabel.formatCurrency({roundToDecimalPlace:0}),this.$from.val(e))},t.prototype._setTo=function(t){var e;return 0===t||t===this.maxIndex?(this.$toLabel.html("Any"),this.$to.val(null)):(e=this.values[t],this.$toLabel.html(e),this.isCurrency&&this.$toLabel.formatCurrency({roundToDecimalPlace:0}),this.$to.val(e))},t.prototype.value=function(){return[this.values[this.$slider.slider("values")[0]],this.values[this.$slider.slider("values")[1]]]},t.prototype._valueIndex=function(t){return t>this.values[this.maxIndex]?this.maxIndex:this.values.indexOf(t)},t.prototype.setValues=function(t,e){return this.$slider.slider("values",0,this._nearest(t)),this.$slider.slider("values",1,this._nearest(e)),this._refresh()},t.prototype._isOverlapping=function(t){var e;return e=this.$slider.slider("values"),e.indexOf(t)>-1},t.prototype._nearest=function(t){var e,n,i;return e=this._valueIndex(t),-1!==e?e:(n=1e3,i=Math.round(t/n)*n,this._valueIndex(i))},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.SearchFilterControls=function(){function e(e,n){this.map=e,this._loadFacets=t(this._loadFacets,this),this._handleKeywordsChange=t(this._handleKeywordsChange,this),this._handlePropertyChange=t(this._handlePropertyChange,this),this._dispatchChange=t(this._dispatchChange,this),this.setGeography=t(this.setGeography,this),$.extend(this.options,n),this.$openHousesContainer=$(this.options.openHouseSelector),this.$openHouses=$(this.options.openHouseSelector).find("input"),this.$priceFrom=$(this.options.priceFromSelector),this.$priceTo=$(this.options.priceToSelector),this.$sqftFrom=$(this.options.sqftFromSelector),this.$sqftTo=$(this.options.sqftToSelector),this.$yearBuiltFrom=$(this.options.yearBuiltFromSelector),this.$yearBuiltTo=$(this.options.yearBuiltToSelector),this.$bedroomsPicker=$(this.options.bedroomsSelector),this.$bathroomsPicker=$(this.options.bathroomsSelector),this.$propertyTypes=$(this.options.propertyTypesSelector),this.$keywords=$(this.options.keywordsSelector),this.$granularFilterContainer=$(this.options.granularFiltersSelector),this.$currentGeography=$(this.options.currentGeographySelector),this.$propertyTypes.parents(".dropdown-menu").on("click",function(t){return t.stopImmediatePropagation()}),this.$bedroomsPicker.parents(".dropdown-menu").on("click",function(t){return t.stopImmediatePropagation()}),this.$bathroomsPicker.parents(".dropdown-menu").on("click",function(t){return t.stopImmediatePropagation()}),this.$priceFrom.parents(".dropdown-menu").on("click",function(t){return t.stopImmediatePropagation()}),this.$sqftFrom.parents(".dropdown-menu").on("click",function(t){return t.stopImmediatePropagation()}),this.$yearBuiltFrom.parents(".dropdown-menu").on("click",function(t){return t.stopImmediatePropagation()}),this.$propertyTypes.parents(".dropdown").find("[data-toggle='dropdown']").on("click",this._loadFacets),this.$bedroomsPicker.parents(".dropdown").find("[data-toggle='dropdown']").on("click",this._loadFacets),this.$priceFrom.parents(".dropdown").find("[data-toggle='dropdown']").on("click",this._loadFacets),this.$granularFilterContainer.find("[data-facet]").on("click","a",function(t){return function(e){var n,i;switch(e.preventDefault(),e.stopImmediatePropagation(),n=$(e.target).data("facet-details"),i=t.values(),n.facet_type){case"property_type":i.propertyTypes=[n.property_type];break;case"num_bedrooms":i.numBedrooms=n.num_bedrooms;break;case"list_price":i.price={from:parseInt(n.from,10),to:parseInt(n.to,10)+1}}return t.setValues(i),t._dispatchChange()}}(this)),this._attachEvents()}return e.prototype.options={geographyFacetsUrl:null,granularFiltersSelector:null,bedroomsSelector:null,bathroomsSelector:null,propertyTypesSelector:null,openHouseSelector:null,priceFromSelector:null,priceToSelector:null,sqftFromSelector:null,sqftToSelector:null,yearBuiltFromSelector:null,yearBuiltToSelector:null,keywordsSelector:null,currentGeographySelector:null,labelSelectors:{propertyTypes:null,bedroms:null,price:null}},e.prototype.values=function(){var t,e,n,i,o,r,a,s,l,u;return e=this.$bedroomsPicker.val(),t=this.$bathroomsPicker.val(),r=this._selectedPropertyTypes(),i=this.$priceFrom.val(),o=this.$priceTo.val(),a=this.$sqftFrom.val(),s=this.$sqftTo.val(),l=this.$yearBuiltFrom.val(),u=this.$yearBuiltTo.val(),n=this.$keywords.val(),{numBedrooms:e,numBathrooms:t,price:{from:i,to:o},sqft:{from:a,to:s},yearBuilt:{from:l,to:u},keywords:n,propertyTypes:r,openHouseOnly:this.$openHouses.prop("checked")}},e.prototype.setValues=function(t){var e;return this._detachEvents(),e={price:{},sqft:{},yearBuilt:{},keywords:"",propertyTypes:this.allPropertyTypes(),openHouseOnly:!1},t=$.extend({},e,t),this.$priceFrom.val(this._nullIfEqual(t.price.from,0)),this.$priceTo.val(this._nullIfEqual(t.price.to,1e9)),this.$sqftFrom.val(this._nullIfEqual(t.sqft.from,0)),this.$sqftTo.val(this._nullIfEqual(t.sqft.to,1e9)),this.$yearBuiltFrom.val(this._nullIfEqual(t.yearBuilt.from,"")),this.$yearBuiltTo.val(this._nullIfEqual(t.yearBuilt.to,"")),this.$bedroomsPicker.val(""===t.numBedrooms?"0+":t.numBedrooms),this.$bathroomsPicker.val(this._nullIfEqual(t.numBathrooms,"")),this.$keywords.val(t.keywords),this._selectPropertyTypes(t.propertyTypes),this.lastPropertyType=t.propertyTypes,this.$openHouses.prop("checked",t.openHouseOnly),this._updateLabels(),this._attachEvents()},e.prototype.setVisible=function(t){var e;return e=200,t?this.$granularFilterContainer.fadeIn(e):(this.$granularFilterContainer.fadeOut(e),this.$granularFilterContainer.find("[data-toggle]"))},e.prototype.setGeography=function(t){return this.geography=t,this.currentCenter=this.map.getCenter(),this.$currentGeography.html(this.geography.name),this._updateFacets()},e.prototype._nullIfEqual=function(t,e){return t===e?null:t},e.prototype._filters=function(){return[this.$bedroomsPicker,this.$bathroomsPicker,this.$priceFrom,this.$priceTo,this.$sqftFrom,this.$sqftTo,this.$yearBuiltFrom,this.$yearBuiltTo,this.$openHouses]},e.prototype._attachEvents=function(){var t,e,n,i;for(i=this._filters(),e=0,n=i.length;n>e;e++)t=i[e],t.on("change",this._dispatchChange);return this.$propertyTypes.on("change",this._handlePropertyChange),this.$keywords.on("keyup",this._handleKeywordsChange)},e.prototype._detachEvents=function(){var t,e,n,i;for(i=this._filters(),e=0,n=i.length;n>e;e++)t=i[e],t.off("change",this._dispatchChange);return this.$propertyTypes.off("change",this._handlePropertyChange),this.$keywords.off("keyup",this._handleKeywordsChange)},e.prototype._dispatchChange=function(){return $(this).trigger("changed",this.values())},e.prototype._handlePropertyChange=function(){return this._selectedPropertyTypes().length>0||this._selectPropertyTypes(this.lastPropertyType),this.lastPropertyType=this._selectedPropertyTypes(),this._dispatchChange()},e.prototype._handleKeywordsChange=function(){return clearTimeout(this.keywordTimer),this.keywordTimer=setTimeout(function(t){return function(){return t._dispatchChange()}}(this),300)},e.prototype._selectedPropertyTypes=function(){var t;return t=[],this.$propertyTypes.filter(":checked").each(function(e,n){return t.push($(n).val())}),t},e.prototype.allPropertyTypes=function(){var t;return t=[],this.$propertyTypes.each(function(e,n){return t.push($(n).val())}),t},e.prototype._selectPropertyTypes=function(t){var e,n,i,o,r;for(this.$propertyTypes.prop("checked",!1),r=[],i=0,o=t.length;o>i;i++)n=t[i],e=-1!==this.allPropertyTypes().indexOf(n)?n:"other",r.push(this.$propertyTypes.filter("[value='"+e+"']").prop("checked",!0));return r},e.prototype._updateFacets=function(){var t,e;if(null!=this.geography)return t=this.values(),e=this.options.geographyFacetsUrl.replace(":id",encodeURIComponent(this.geography.name)),$.getJSON(e,{currentFilter:t},function(t){return function(e){var n,i;for(i in e)n=e[i],t._updateFacet(i,n);return t._setLoading(!1)}}(this))},e.prototype._updateFacet=function(t,e){var n;return n=this._prepareFacetData(t,e),this.$granularFilterContainer.find("[data-facet="+t+"]").html(HandlebarsTemplates.facet_quicklinks(n))},e.prototype._prepareFacetData=function(t,e){return{name:this.geography.name,facetType:t,facet:e}},e.prototype._updateLabels=function(){var t,e,n,i,o,r,a,s,l;for(r=this.values(),t="0+"===r.numBedrooms?"Any":r.numBedrooms,t="0"===r.numBedrooms?"Studio":t,e=""===r.price.from?"Any":"$"+r.price.from/1e3+"k",i=""===r.price.to?"Any":"$"+r.price.to/1e3+"k",n="Any"===e&&"Any"===i?"Any":""+e+" - "+i,$(this.options.labelSelectors.propertyType).find("i").hide(),l=this._selectedPropertyTypes(),a=0,s=l.length;s>a;a++)o=l[a],$(this.options.labelSelectors.propertyType).find("i[data-property-type='"+o+"']").show();return $(this.options.labelSelectors.bedrooms).html(t),$(this.options.labelSelectors.price).html(n)},e.prototype._loadFacets=function(){return this._isMapMoved()?(this.currentCenter=this.map.getCenter(),this._setLoading(!0),this.map.getCurrentGeography(this.setGeography)):void 0},e.prototype._isMapMoved=function(){return this.currentCenter!==this.map.getCenter()},e.prototype._setLoading=function(t){return this.$granularFilterContainer.toggleClass("is-loading",t)},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.MapSearchListings=function(){function e(e){this._handleListingClick=t(this._handleListingClick,this),this._handleMouseLeave=t(this._handleMouseLeave,this),this._handleMouseEnter=t(this._handleMouseEnter,this),this._handlePageClick=t(this._handlePageClick,this),this._handleSortClick=t(this._handleSortClick,this),this._renderResults=t(this._renderResults,this),this.$el=$(e),this.$prev=$(this.$el.find("[data-pagination-page]").get(0)),this.$next=$(this.$el.find("[data-pagination-page]").get(1)),this.$paginationCaption=this.$el.find("[data-pagination-caption]"),this.searchUrl=this.$el.data("search-url"),this._attachEvents(),this.currentSort="featured",this.currentDirection="desc",this.currentPage=1,this.totalPages=1,this.$el.on("mouseenter","article",this._handleMouseEnter).on("mouseleave","article",this._handleMouseLeave).on("click","article",this._handleListingClick)}return e.prototype.setValues=function(t){return this.setCurrentPage(parseInt(t.page,10)||1),this.currentSort=t.sort||"featured",this._highlightActivesort(),this.currentDirection=t.direction||"desc",null!=t.bounds?$.ajax({url:this.searchUrl,data:t,success:this._renderResults,dataType:"jsonp"}):void 0},e.prototype.values=function(){return{sort:this.currentSort,direction:this.currentDirection,page:this.currentPage}},e.prototype._renderResults=function(t){var e,n;return this._setTotalPages(t.total_pages),this.$paginationCaption.html(t.pagination_caption),e=function(){var e,i,o,r;for(o=t.listings,r=[],e=0,i=o.length;i>e;e++)n=o[e],n.url+="?property_click=map_sidebar",r.push($(HandlebarsTemplates.listing_infobubble_compact($.extend({"class":"infobubble--listingsidebar"},n))).data("listing",n));return r}(),this.$el.find("[data-listing-container]").html(e),this.setCurrentPage(t.page),$(this).trigger("listings_changed",[t.listings])},e.prototype._attachEvents=function(){return this.$el.find("[data-sort]").on("click",this._handleSortClick),this.$el.find("[data-pagination-page]").on("click",this._handlePageClick)},e.prototype._handleSortClick=function(t){var e,n;return t.preventDefault(),e=$(t.target),n=e.data("sort"),n===this.currentSort?this._toggleDirection():(this.currentSort=n,this.currentDirection="desc"),this.currentPage=1,$(this).trigger("changed")},e.prototype._handlePageClick=function(t){var e;return t.preventDefault(),e=$(t.target),e.hasClass("is-disabled")?void 0:(this.currentPage=e.data("pagination-page"),$(this).trigger("changed"))},e.prototype._toggleDirection=function(){return this.currentDirection="desc"===this.currentDirection?"asc":"desc"},e.prototype.setCurrentPage=function(t){return this.currentPage=parseInt(t,10)||1,this.$prev.data("pagination-page",this.currentPage-1).removeClass("is-disabled"),this.$next.data("pagination-page",this.currentPage+1).removeClass("is-disabled"),1===t&&this.$prev.addClass("is-disabled"),t>=this.totalPages?this.$next.addClass("is-disabled"):void 0
},e.prototype._setTotalPages=function(t){return this.totalPages=parseInt(t||1,10)},e.prototype.show=function(){return this.$el.removeClass("hide")},e.prototype.hide=function(){return this.$el.addClass("hide")},e.prototype.isVisible=function(){return this.$el.is(":visible")},e.prototype._handleMouseEnter=function(t){var e;return e=$(t.currentTarget),this._setActiveListing(e)},e.prototype._handleMouseLeave=function(t){var e;return e=$(t.currentTarget),e.removeClass("is-active")},e.prototype._handleListingClick=function(t){var e;return e=$(t.currentTarget),this._setActiveListing(e)},e.prototype._setActiveListing=function(t){var e;return t.addClass("is-active"),e=t.data("listing"),$(this).trigger("listing_activated",e)},e.prototype._highlightActivesort=function(){return this.$el.find("[data-sort]").removeClass("active"),this.$el.find("[data-sort='"+this.currentSort+"']").addClass("active")},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.QueryToHash={parse:function(t){var e,n,i,o,r,a,s;if(i={},e=t.match(/.*\?(.*)/),null==e)return{};for(s=e[1].split("&"),r=0,a=s.length;a>r;r++)n=s[r],o=n.split("="),i[o[0]]=decodeURIComponent(o[1]);return i}}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.MapSearchController=function(){function e(e,n){this._handleListingsChanged=t(this._handleListingsChanged,this),this._toggleSidebarVisibility=t(this._toggleSidebarVisibility,this),this._handleListingActivated=t(this._handleListingActivated,this),this._pushState=t(this._pushState,this),this._handleZoomChange=t(this._handleZoomChange,this),this._handleOpenHouseClick=t(this._handleOpenHouseClick,this),this._handleFacetClick=t(this._handleFacetClick,this),this._handleGeographyChanged=t(this._handleGeographyChanged,this),this._handleGeographyClick=t(this._handleGeographyClick,this),this._handleStateChanged=t(this._handleStateChanged,this),$.extend(this.options,n),this.geographyCache=new REW.Cache(10),this.$el=$(e),this.map=new REW.MapSearch(this.options.mapSelector,this.options),this.filterControls=new REW.SearchFilterControls(this.map,this.options),this.$instructions=$(this.options.instructionsSelector),this.listings=new REW.MapSearchListings(this.options.listingsSelector),this.$el.on("submit",function(){return!1}),$(window).on("statechange",this._handleStateChanged),$(this.map).on("mapready",this._handleStateChanged).on("geography_click",this._handleGeographyClick).on("zoom_changed",this._handleZoomChange).on("geography_changed",this._handleGeographyChanged),$(this.listings).on("listing_activated",this._handleListingActivated).on("listings_changed",this._handleListingsChanged),$(this.options.sidebarTabSelector).on("click",this._toggleSidebarVisibility),this._attachEvents()}return e.prototype.options={key:null,listingTable:null,geographyTable:null,propertyUrl:null,geographyUrl:null,geographyFacetsUrl:null,granularFiltersSelector:null,priceFromSelector:null,priceToSelector:null,sqftFromSelector:null,sqftToSelector:null,keywordsSelector:null,bedroomsSelector:null,bathroomsSelector:null,propertyTypesSelector:null,openHouseSelector:null,currentGeographySelector:null,labelSelectors:{propertyTypes:null,bedroms:null,price:null},instructionsSelector:null,locationSelector:null,mapSelector:null,listingsSelector:null,developments:[],developmentIcon:{url:null,x:0,y:0,width:null,height:null},sidebarTabSelector:null},e.prototype._attachEvents=function(){return $(this.map).on("changed",this._pushState),$(this.filterControls).on("changed",this._pushState),$(this.listings).on("changed",this._pushState)},e.prototype._detachEvents=function(){return $(this.filterControls).off("changed",this._pushState),$(this.map).off("changed",this._pushState),$(this.listings).off("changed",this._pushState)},e.prototype._handleStateChanged=function(){var t,e;return this._detachEvents(),t=History.getState(),e=REW.QueryToHash.parse(t.url),e=this._normalize(e),this.filterControls.setValues(e),this.map.setValues(e),this._isListingsVisibile()||parseInt(e.zoom,10)>=14&&this._isSidebarVisible()?(this.listings.setValues($.extend(e,this.map.values(),this.filterControls.values())),this._setListingVisible(!0)):this._setListingVisible(!1),this._attachEvents()},e.prototype._handleGeographyClick=function(t,e){var n;return this._handleGeographyChanged(t,e),n=$.extend({page:1},this.map.values(),this._defaultFilterData()),n.geography=e.name},e.prototype._handleGeographyChanged=function(t,e){return this._getGeographySummary(e)},e.prototype._getGeographySummary=function(t){var e;return(e=this.geographyCache.get(t.name))?this._changeGeography(e):$.getJSON(this.options.geographyUrl.replace(":id",encodeURIComponent(t.name)),{},function(e){return function(n){return e.geographyCache.put(t.name,n),e._changeGeography(n)}}(this))},e.prototype._changeGeography=function(t){return this.map.setGeographySummary(t),this.filterControls.setGeography(t)},e.prototype._handleFacetClick=function(t){var e;switch(e=this._defaultFilterData(),t.facet_type){case"property_type":e.propertyTypes=[t.property_type];break;case"list_price":e.price=t;break;case"num_bedrooms":e.numBedrooms=t.num_bedrooms}return this._updateSearch(t,e)},e.prototype._handleOpenHouseClick=function(t){var e;return e=this._defaultFilterData(),e.openHouseOnly=!0,this._updateSearch(t,e)},e.prototype._handleZoomChange=function(t,e){return this.filterControls.setVisible(e.listingsVisible),this._setListingVisible(e.listingsVisible),this._pushState()},e.prototype._pushState=function(t){return null!=t&&t.target!==this.listings&&this.listings.setCurrentPage(1),History.pushState(null,History.options.initialTitle,"?"+$.param(this._denormalize()))},e.prototype._normalize=function(t){return{zoom:parseInt(t.zoom,10),lat:t.lat,lng:t.lng,numBedrooms:t.numBedrooms,numBathrooms:t.numBathrooms,price:{from:t.priceFrom,to:t.priceTo},propertyTypes:this._normalizePropertyTypes(t.propertyTypes),sqft:{from:t.sqftFrom,to:t.sqftTo},yearBuilt:{from:t.yearBuiltFrom,to:t.yearBuiltTo},keywords:t.keywords,openHouseOnly:"true"===t.openHouseOnly,sort:t.sort,direction:t.direction,page:parseInt(t.page,10)||1}},e.prototype._normalizePropertyTypes=function(t){return null!=t?t.split(","):this._allPropertyTypes()},e.prototype._allPropertyTypes=function(){return this.filterControls.allPropertyTypes()},e.prototype._denormalize=function(){var t,e,n;return n=this.map.values(),t=this.filterControls.values(),e=this.listings.values(),$.extend(n,e,{numBedrooms:t.numBedrooms,numBathrooms:t.numBathrooms,priceFrom:t.price.from,priceTo:t.price.to,sqftFrom:t.sqft.from,sqftTo:t.sqft.to,yearBuiltFrom:t.yearBuilt.from,yearBuiltTo:t.yearBuilt.to,keywords:t.keywords,propertyTypes:t.propertyTypes.join(","),openHouseOnly:t.openHouseOnly})},e.prototype._defaultFilterData=function(){return{propertyTypes:this._allPropertyTypes(),numBedrooms:"0+",openHouseOnly:!1}},e.prototype._updateSearch=function(t,e){var n,i;return n=t.centroid,i={zoom:"city"===t.geographyType?12:14,lat:n[0],lng:n[1]},this.filterControls.setValues(e),$.extend(i,this.filterControls.values()),this.map.setValues(i),this._pushState()},e.prototype._handleListingActivated=function(t,e){return this.map.highlightMarker(e.coordinates)},e.prototype._toggleSidebarVisibility=function(){return this.$el.toggleClass("is-sidebar-collapsed",250),this._isSidebarVisible()&&this._handleStateChanged(),this.map.redraw()},e.prototype._isSidebarVisible=function(){return!this.$el.hasClass("is-sidebar-collapsed")},e.prototype._isListingsVisibile=function(){return this.listings.isVisible()},e.prototype._setListingVisible=function(t){return t?(this.listings.show(),this.$instructions.hide()):(this.listings.hide(),this.$instructions.show())},e.prototype._handleListingsChanged=function(t,e){return this.map.setListingMarkers(e)},e}()}.call(this),function(){$(function(){return $("#map_view_controls a").on("click",function(t){var e,n,i,o,r,a;switch(t.preventDefault(),$("#map_view_controls li").removeClass("active"),e=$(this),e.parent("li").addClass("active"),r=e.data("mode"),o=$("#map_view_controls").data("map"),a=o.getStreetView(),r){case"satellite":return o.setMapTypeId(google.maps.MapTypeId.SATELLITE),a.setVisible(!1);case"street":return n=parseFloat($(".mapcontrols meta[itemprop=latitude]").attr("content"),10),i=parseFloat($(".mapcontrols meta[itemprop=longitude]").attr("content"),10),a.setPosition(new google.maps.LatLng(n,i)),a.setVisible(!0);default:return o.setMapTypeId(google.maps.MapTypeId.ROADMAP),a.setVisible(!1)}})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.MaxSlider=function(){function t(t,e){this.$el=$(t),$.extend(this.options,e),this.collection=this.$el.data("collection"),this.current=this.$el.data("current"),this.$field=this.$el.find("[data-filterslider-field]"),this.$label=this.$el.find(".filterslider-value"),this.$slider=this.$el.find(".filterslider-slider").slider({range:"max",min:0,max:this.collection.length-1,value:this._indexInCollection(this.current),change:this.options.change,slide:function(t){return function(e,n){var i,o,r;return i=t.collection[n.value],o=i[0],r=i[1],t.$field.val(r),t.$label.html(o)}}(this)})}return t.prototype.options={change:function(){}},t.prototype._indexInCollection=function(t){var e;return e=0,$.each(this.collection,function(){return function(n,i){return i[1]===t?(e=n,!1):void 0}}(this)),e},t.prototype.value=function(){return this.collection[this.$slider.slider("value")][1]},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.ModalGallery=function(){function t(t,e){null==e&&(e={}),this.$el=$(t),$.extend(this.opts,e)}return t.prototype.options={id:"modalGallery"},t.prototype.show=function(){var t,e,n,i;return t=this.getModal(),e=this.$el.find(".modalgallery-thumbnail"),n=function(){var t,n,o;for(o=[],t=0,n=e.length;n>t;t++)i=e[t],o.push(HandlebarsTemplates.carousel_slide({content:new Handlebars.SafeString("<img src='"+$(i).data("lightbox")+"'>")}));return o}(),t.find(".carousel-inner").empty().append(n.join("")).find(".item:first-child").addClass("active"),t.modal("show")},t.prototype.getModal=function(){var t;return t=$("#"+this.options.id),t.length?t:(t=$(HandlebarsTemplates.modal_gallery({id:this.options.id,title:new Handlebars.SafeString(this.$el.data("modal-title")),footer:new Handlebars.SafeString(this.$el.data("modal-footer"))})),$("body").append(t),t.modal({show:!1}))},t}(),$(function(){return $("[data-modalgallery] .modalgallery-thumbnail").on("click",function(){var t;return t=$(this).parent("[data-modalgallery]"),new REW.ModalGallery(t).show()})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.ModalTabSelector=function(t,e){return $(t).modal("show"),$(e).tab("show")}}.call(this),function(){null==window.REW&&(window.REW={}),REW.MonthToggler=function(t){var e;return e=$(t),e.on("change",function(){return $(this).parent("form").submit()})},$(function(){return REW.MonthToggler("[data-monthtoggler]")})}.call(this),function(){null==window.REW&&(window.REW={}),REW.MortgageCalculator=function(){function t(t,e,n,i){this.chartEngine=n,this.$mortgageForm=t,this.chartOptions=i,this.$leadForm=e,this._setDownPayment(),this.calculate(),this.$mortgageForm.submit(function(t){return function(e){return e.preventDefault(),t.calculate()}}(this)),this.calculateButton=this.$mortgageForm.find(".calculate-mortgage"),this.calculateButton.click(function(t){return function(){return t.calculate()}}(this)),this.clearButton=this.$mortgageForm.find(".clear"),this.clearButton.click(function(t){return function(){return t.clearForm()}}(this)),this.formatCurrency(),this.$mortgageForm.delegate("input","keyup",function(t){return function(){return t.formatCurrency()}}(this))}return t.prototype._initData=function(){return this.data={listingPrice:0,downPayment:0,mortgageRate:0,amortizationPeriod:0,mortgageAmount:0,monthlyPayment:0,numberOfPayment:0,totalPayment:0,totalInterestPayment:0,totalPrincipalPayment:0,monthlySchedule:[],yearlySchedule:[]}},t.prototype.getChartData=function(){var t,e,n,i,o,r,a,s,l,u;for(t=[this.chartOptions.data_column_titles],e=l=0,u=this.data.amortizationPeriod;u>=0?u>l:l>u;e=u>=0?++l:--l)o=Math.round(this.data.yearlySchedule[e].newBalance),r=""+this.chartOptions.mortgage_balance_tooltip_text+" "+this.numberToMoney(o,0),a=Math.round(this.data.yearlySchedule[e].principalPaidTotal),s=""+this.chartOptions.principal_paid_tooltip_text+" "+this.numberToMoney(a,0),n=Math.round(this.data.yearlySchedule[e].interestPaidTotal),i=""+this.chartOptions.interest_paid_tooltip_text+" "+this.numberToMoney(n,0),t.push([e+1,this.chartOptions.year,o,r,a,s,n,i]);return t},t.prototype.calculate=function(){var t,e,n,i;for(this._initData(),this._fetchValues(),this._calculateMonthlyPayment(this.data.listingPrice-this.data.downPayment),this._populateMonthlySchedule(),this._populateYearlySchedule(),e=n=0,i=this.data.amortizationPeriod;i>=0?i>n:n>i;e=i>=0?++n:--n)this.data.totalPayment+=this.data.yearlySchedule[e].paymentTotal,this.data.totalInterestPayment+=this.data.yearlySchedule[e].interestPaidTotal,this.data.totalPrincipalPayment+=this.data.yearlySchedule[e].principalPaidTotal;return t=this.getChartData(),this.chartEngine.setChartData(t),this._showResult(),this._setLeadForm(),this.chartEngine.draw()},t.prototype.getMonthlyPayment=function(){return this.data.monthlyPayment},t.prototype._showResult=function(){return this.$mortgageForm.find(".mortgage-amount").text(Math.round(this.data.mortgageAmount)).formatCurrency({roundToDecimalPlace:0}),this.$mortgageForm.find(".monthly-payment").text(Math.round(this.data.monthlyPayment)).formatCurrency({roundToDecimalPlace:0}),this.$mortgageForm.find(".listing-price").text(Math.round(this.data.monthlyPayment)).formatCurrency({roundToDecimalPlace:0})},t.prototype._fetchValues=function(){return this.data.listingPrice=parseInt(this.$mortgageForm.find(".listing-price").val().replace(/\D/g,"")),this.data.downPayment=parseInt(this.$mortgageForm.find(".down-payment").val().replace(/\D/g,""))||0,this.data.mortgageRate=parseFloat(this.$mortgageForm.find(".mortgage-rate").val()),this.data.amortizationPeriod=parseInt(this.$mortgageForm.find(".amortization-period").val()),this.data.mortgageAmount=this.data.listingPrice-this.data.downPayment,this.data.numberOfPayment=12*this.data.amortizationPeriod},t.prototype._setLeadForm=function(){return this.$leadForm.find(".down-payment").val(this.data.downPayment),this.$leadForm.find(".mortgage-rate").val(this.data.mortgageRate),this.$leadForm.find(".amortization-period").val(this.data.amortizationPeriod),this.$leadForm.find(".monthly-payment").val(this.data.monthlyPayment),this.$leadForm.find(".mortgage-amount").val(this.data.mortgageAmount)},t.prototype._setDownPayment=function(){return this.$mortgageForm.find(".down-payment").val(.2*parseInt(this.$mortgageForm.find(".listing-price").val().replace(/\D/g,"")))},t.prototype.clearForm=function(){return this.$mortgageForm.find("input:text").val(""),this.$mortgageForm.find(".monthlyPayment").text(""),this.$mortgageForm.find(".mortgageAmount").text("")},t.prototype.formatCurrency=function(){return this.$mortgageForm.find(".down-payment").formatCurrency({roundToDecimalPlace:0}),this.$mortgageForm.find(".listing-price").formatCurrency({roundToDecimalPlace:0})},t.prototype.numberToMoney=function(t,e){var n,i,o,r,a,s;return e=isNaN(n=Math.abs(e))?2:e,i=".",s=",",a=0>t?"-":"",o=parseInt(t=Math.abs(+t||0).toFixed(e))+"",r=(r=o.length)>3?r%3:0,"$"+a+(r?o.substr(0,r)+s:"")+o.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+s)+(e?i+Math.abs(t-o).toFixed(n).slice(2):"")},t.prototype._calculateMonthlyPayment=function(t){var e,n,i;return i=t,n=this.data.numberOfPayment,e=this.data.mortgageRate/12/100,this.data.monthlyPayment=i*e*Math.pow(1+e,n)/(Math.pow(1+e,n)-1)},t.prototype._populateMonthlySchedule=function(){var t,e,n,i,o,r,a,s,l,u;for(a=this.data.numberOfPayment,this.data.mortgageAmount=this.data.listingPrice-this.data.downPayment,o=this._calculateMonthlyPayment(this.data.mortgageAmount),r=this.data.mortgageRate/12/100,u=[],e=l=0;a>=0?a>l:l>a;e=a>=0?++l:--l)t=0===e?this.data.mortgageAmount:this.data.monthlySchedule[e-1].newBalance,i={},i.payment=o,n=t*r,i.interestPaid=n,s=o-n,i.principalPaid=s,i.newBalance=t-s,u.push(this.data.monthlySchedule.push(i));return u},t.prototype._populateYearlySchedule=function(){var t,e,n,i,o,r,a,s,l,u,h,c,p,d,f;for(r=this.data.listingPrice-this.data.downPayment,f=[],n=c=0,d=this.data.amortizationPeriod;d>=0?d>c:c>d;n=d>=0?++c:--c){for(s=0,i=0,l=0,t=0===n?r:this.data.yearlySchedule[n-1].newBalance,u=12*n,e=u+12,o=p=u;e>=u?e>p:p>e;o=e>=u?++p:--p)s+=this.data.monthlySchedule[o].payment,i+=this.data.monthlySchedule[o].interestPaid,l+=this.data.monthlySchedule[o].principalPaid;h={paymentTotal:s,interestPaidTotal:i,principalPaidTotal:l},a=t-l,1>a&&(a=0),h.newBalance=a,f.push(this.data.yearlySchedule.push(h))}return f},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.MortgageChart=function(){function t(t,e,n){this.chartEngine=t,this.chartDiv=e,this.options.title=n.graph_title,this.options.vAxes[0].title=n.y_axes_left_title,this.options.vAxes[1].title=n.y_axes_right_title,this.options.vAxis[0]=n.y_axes_left_title,this.options.vAxis[1]=n.y_axes_right_title,this.options.hAxis.title=n.year}return t.prototype.dataAsArray=[],t.prototype.options={title:"",titlePosition:"out",titleTextStyle:{color:"black",fontSize:"15"},legend:{position:"top",textStyle:{fontSize:9.5}},vAxes:{0:{logScale:!1,title:""},1:{logScale:!1,title:""}},series:{0:{targetAxisIndex:0,type:"line",pointSize:5},1:{targetAxisIndex:1},2:{targetAxisIndex:1},3:{targetAxisIndex:1}},vAxis:{0:"",1:""},hAxis:{title:""},colors:["#008000","#FC8A15","#1791D8"],isStacked:!0,backgroundColor:"white","backgroundColor.stroke":"#666"},t.prototype.setChartData=function(t){return this.dataAsArray=t},t.prototype.draw=function(){var t,e;return t=google.visualization.arrayToDataTable(this.dataAsArray),t.setColumnProperty(1,"role","tooltip"),t.setColumnProperty(3,"role","tooltip"),t.setColumnProperty(5,"role","tooltip"),t.setColumnProperty(7,"role","tooltip"),e=new google.visualization.DataView(t),new this.chartEngine.visualization.ColumnChart(this.chartDiv).draw(e,this.options)},t}()}.call(this),function(){var t;t=function(){var t,e,n,i,o,r;return n=$(".mortgageform"),r=n.data("chart-options"),t=$(".mortgageform-chart").get(0),i=new REW.MortgageChart(google,t,r),e=$(".mortgageform-sender"),o=new REW.MortgageCalculator(n,e,i,r),$("#mortgage_calculator").on("shown",function(){return o.calculate(),setTimeout(function(){return function(){var t;return t=n.find(".down-payment").popover(),t.popover("show"),t.popover("disable")}}(this),500),REW.Tracking.mortgageCalculatorClick()}),$("#mortgage_calculator").on("hidden",function(){var t;return t=n.find(".down-payment").popover(),t.popover("hide")}),$(".mortgage-link").on("click",function(){}),e.each(function(t,e){var n,i;return n=$(e),i=n.parents(".modal"),new REW.AjaxFormSubmitter(n,{onBeforeSend:function(){return n.find(".help-block, .alert").remove(),n.find(".control-group").removeClass("error")},onSuccess:function(t){return new REW.Notification("success",t.message),i.modal("hide"),REW.Tracking.mortgageRateRequest()},onError:function(t,e){var i,o,r,a;a=e.errors;for(r in a)t=a[r],i=n.find('[name$="['+r+']"]'),o=i.parents(".control-group"),o.addClass("error"),i.after('<div class="help-block">'+t+"</div>");return e.errors.base?n.prepend("<div class='alert alert-error'>"+e.errors.base+"</div>"):void 0}})})},$(function(){var e;return e=$(".mortgageform"),e.length>0&&"undefined"!=typeof google&&null!==google?google.load("visualization","1",{packages:["corechart"],callback:t}):void 0})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.NeighbourhoodSelector=function(){function e(e,n){this._handleApply=t(this._handleApply,this),this._handleChange=t(this._handleChange,this),this.$container=$(e),this.$elements=this.$container.find("input[type=checkbox]"),this.options=$.extend(this.options,n),this.$elements.on("change",this._handleChange),this.$container.on("click","[data-selector-button]",this._handleApply)}return e.prototype.options={onChange:function(){},onApply:function(){}},e.prototype.setSelected=function(t,e){return null==e&&(e=!0),e&&this.$elements.prop("checked",!1),this._setProp(t,"checked",!0)},e.prototype.getSelected=function(){var t,e;return t=this.$elements.filter(":checked"),e=[],t.map(function(t,n){var i;return i=$(n),e=e.concat(i.data("children")),-1===e.indexOf(parseInt(i.val(),10))?{id:i.val(),text:i.parent().text()}:void 0})},e.prototype._handleChange=function(t){return this._toggleChildren(t.target),this.options.onChange(t)},e.prototype._handleApply=function(t){return t.preventDefault(),this.options.onApply(this.getSelected())},e.prototype._toggleChildren=function(t){var e,n;return e=$(t),n=e.data("children"),n?(this._setProp(n,"disabled",e.is(":checked")),this._setProp(n,"checked",e.is(":checked"))):void 0},e.prototype._setProp=function(t,e,n){var i,o,r,a,s;for(s=[],r=0,a=t.length;a>r;r++)o=t[r],i=this.$elements.filter("[value="+o+"]"),i.prop(e,n),s.push(this._toggleChildren(i));return s},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.NewsletterSubscriptionWidget=function(){function e(e){this._handleError=t(this._handleError,this),this._handleSuccess=t(this._handleSuccess,this),this._handleSubmit=t(this._handleSubmit,this),this.$el=$(e),this.$form=this.$el.find("form"),this.$form.on("submit",this._handleSubmit)}return e.prototype._handleSubmit=function(t){var e;return t.preventDefault(),e=$.post(this.$form.attr("action"),{email:this._getEmail()},this._handleSuccess),e.fail(this._handleError)},e.prototype._getEmail=function(){return this.$form.find("input[type='text']").val()},e.prototype._handleSuccess=function(t){return this.$el.find(".newsletterwidget-body").html(t)},e.prototype._handleError=function(t){var e,n;return n=function(){switch(t.status){case 500:return"error";case 422:return"warning"}}(),e=HandlebarsTemplates.notifications({type:n,body:t.responseText}),this.$el.find(".newsletterwidget-body p").html(e)},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.Notification=function(){function t(t,e,n){var i;$.extend(this.options,n),i=$(REW.Templates.notifications({type:t,body:e})),$(".maincontent-notifications").append(i),this.options.delay>0&&window.setTimeout(function(){return i.alert("close")},this.options.delay)}return t.prototype.options={delay:0},t}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.NotificationCloser=function(t){return null==t&&(t=15e3),window.setTimeout(function(){return $(".maincontent-notifications .alert").alert("close")},t)},$(function(){return REW.NotificationCloser()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};null==window.REW&&(window.REW={}),REW.OpenHouseMap=function(e){function i(e,n){this._hoverOut=t(this._hoverOut,this),this._hoverIn=t(this._hoverIn,this),this._closeInfoBubble=t(this._closeInfoBubble,this),n=$.extend({},this.options,n,{zoomBreakPoint:12,center:{lat:49.2419,lon:-123.0233},mapOptions:{zoom:11,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,panControl:!1},onClusterClick:function(t){return window.location=t.url},onClick:function(t){return function(e,n){return t._closeInfoBubble(),t.infoBubble=new REW.AJAXInfoBubble({url:"/properties/"+e.id+"?summary=true",template:HandlebarsTemplates.listing_infobubble,defaults:{labels:t.options.labels},map:t.getMap(),marker:n})}}(this),onResize:function(t){return function(){return $(t.options.fullScreenContainer).toggleClass("map--fullscreen-container")}}(this)}),i.__super__.constructor.call(this,e,n),google.maps.event.addListener(this.getMap(),"click",this._closeInfoBubble),$("[data-geography]").hover(this._hoverIn,this._hoverOut)}return n(i,e),i.prototype.options={clusterMarkerData:[],markerData:[],clusterIconUrl:null,clusterIconUrlHover:null,clusterIconSize:null,fullScreenContainer:null,labels:{}},i.prototype.infobubble=null,i.prototype._closeInfoBubble=function(){return this.infoBubble?this.infoBubble.close():void 0},i.prototype._hoverIn=function(t){var e;return e=$(t.currentTarget).data("geography"),e?this.setIcon(e,this.options.clusterIconUrlHover):void 0},i.prototype._hoverOut=function(t){var e;return e=$(t.currentTarget).data("geography"),e?this.setIcon(e,this.options.clusterIconUrl):void 0},i}(REW.ClusteredMap)}.call(this),function(){null==window.REW&&(window.REW={}),REW.Placeholder=function(){function t(){Modernizr.input.placeholder||($("[placeholder]").each(function(){return""===$(this).val()?($(this).val($(this).attr("placeholder")),$(this).focus(function(){return $(this).val()===$(this).attr("placeholder")?$(this).val("").removeClass("placeholder"):void 0}),$(this).blur(function(){return""===$(this).val()?$(this).val($(this).attr("placeholder")).addClass("placeholder"):void 0})):void 0}),$("form").on("submit",function(){return $(this).find("[placeholder]").each(function(){return $(this).val()===$(this).attr("placeholder")?$(this).val(""):void 0})}))}return t}(),$(function(){return new REW.Placeholder})}.call(this),function(){null==window.REW&&(window.REW={}),REW.Popover=function(){function t(t){this.selector||(this.selector=t),$(this.selector).popover({placement:"bottom",trigger:"manual",title:null,html:!0,container:"body",content:function(){var t;return t=$($(this).data("target")),t.html().trim()}}).click(function(t){return function(e){var n;return e.preventDefault(),e.stopImmediatePropagation(),n=$(e.target),n.popover("show"),n.trigger("shown"),t.popoverOpen=!0}}(this)),$(document).click(function(t){return function(){return t.popoverOpen?$(".popover").fadeOut():void 0}}(this))}return t.prototype.popoverOpen=!1,t.prototype.selector="[data-popover]",t}(),$(function(){return new REW.Popover})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};null==window.REW&&(window.REW={}),REW.PropertyMap=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.labels={beds:null,bathrooms:null,square_feet:null,link:null},n.prototype.options={minHeight:90,maxHeight:180,arrowStyle:0,arrowPosition:50,arrowSize:15},n.prototype.template=HandlebarsTemplates.listing_infobubble,n}(REW.MarkerInfobubbles)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.Pulltab=function(){function e(e){this.toggle=t(this.toggle,this);var n;this.$el=$(e),n=this.$el.find(".pulltab-handle"),n.on("click",this.toggle)}return e.prototype.toggle=function(){return this.$el.toggleClass("is-hidden")},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.RedirectTimer=function(t){return $(t).each(function(){var t,e,n;return t=$(this),e=function(n){return n>0?setTimeout(e(n-1),1e3):REW.Redirecter(t.data("target"))},n=parseInt(t.html(),10),setTimeout(e(n),2e3)})},$(function(){return REW.RedirectTimer("[data-redirect-timer]")})}.call(this),function(){null==window.REW&&(window.REW={}),REW.Redirecter=function(t){return window.location=t}}.call(this),function(){null==window.REW&&(window.REW={}),window.REW.Reveal=function(){function t(t){t=$.extend({dataProperty:"revealcontent",effect:"slideup"},t),$("[data-"+t.dataProperty+"]").on("click",function(e){var n,i;return e.preventDefault(),i=$(this).data(t.dataProperty),n=$("#"+i),$(n).toggle(t.effect)})}return t}(),$(function(){return new REW.Reveal})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.SearchResultsUpdater=function(){function e(e){this._handleResponse=t(this._handleResponse,this),this._handlePageChange=t(this._handlePageChange,this),$.extend(this.options,e),this.$promotedListing=$(this.options.promotedListing),this.$organicListings=$(this.options.organicListings),this.$paginator=$(this.options.paginator),this.$topPaginator=$(this.options.topPaginator),this.setMap(this.options.propertyMap),this._attachEvents()}return e.prototype.options={promotedListing:null,organicListings:null,paginator:null,topPaginator:null,propertyMap:null},e.prototype.setMap=function(t){this.propertyMap=t},e.prototype.goToPage=function(t){return $("body").css("cursor","wait"),$.getJSON(t,{ajax:!0},this._handleResponse.bind(this,t))},e.prototype._attachEvents=function(){return this.$paginator.on("click","a",this._handlePageChange),this.$topPaginator.on("click","a",this._handlePageChange)},e.prototype._handlePageChange=function(t){var e;return t.preventDefault(),t.stopImmediatePropagation(),e=t.currentTarget.href,$(this).trigger("pageChanged",e)},e.prototype._handleResponse=function(t,e){return $("body").scrollTop(0),this.$organicListings.html(e.listings),this.$promotedListing.html(e.promoted_listing),this.$paginator.html(e.pagination),this.$topPaginator.html(e.topPagination),$("body").css("cursor","default"),this._updateMap(e.geocodesUrl),new REW.Reveal,$("[data-modalgallery] .modalgallery-thumbnail").on("click",function(){var t;return t=$(this).parent("[data-modalgallery]"),new REW.ModalGallery(t).show()})},e.prototype._updateMap=function(t){return null!=this.propertyMap?this.propertyMap.updateMarkers(t):void 0},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.StatTracking={track:function(t){var e;return e=$(t).data("tracking-url"),$.post(e)}},$(function(){return $("[data-tracking-url]").on("click",function(){return REW.StatTracking.track(this)})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.Templates=HandlebarsTemplates}.call(this),function(){null==window.REW&&(window.REW={}),REW.TextReplace=function(t,e){var n,i;return n=$(t),i=$(e),n.on("click",function(){return n.remove(),i.each(function(t,e){var n,i;return n=$(e),i=n.data("textreplace-value"),n.html(i)})})},$(function(){return REW.TextReplace("[data-textreplace-trigger]","[data-textreplace-value]")})}.call(this),function(){null==window.REW&&(window.REW={}),REW.Tooltip=function(){function t(t,e){this.options=e,this.$el=$(t),this.$trigger=$(this.options.trigger),this.placement=this.$trigger.attr("placement"),this.initTooltip()}return t.prototype.options={trigger:null,placement:"top"},t.prototype.initTooltip=function(){return this.$trigger.tooltip({placement:this.placement}),null!=this.$trigger.attr("data-clickoff")?this.$trigger.click(function(t){return function(){return t.$trigger.tooltip("hide")}}(this)):void 0},t}()}.call(this),function(){$(function(){return $("body").on("touchstart.dropdown",".dropdown-menu",function(t){return t.stopPropagation()}).on("touchstart.dropdown",".dropdown-submenu",function(t){return t.stopPropagation()})})}.call(this),function(){$(function(){return $("[data-track-agent-phone-contact]").on("shown",function(){return REW.Tracking.agentPhoneContact(),REW.StatTracking.track(this)})})}.call(this),function(){null==window.REW&&(window.REW={}),REW.Tracking={userSignup:function(){return this._track("User Signup")},mortgageCalculatorClick:function(){return this._track("Mortgage Calculator Click")},mortgageRateRequest:function(){return this._track("Mortgage Rate Request")},newsletterSignup:function(){return this._track("Newsletter Signup")},mapEnable:function(){return this._track("Search Results Map Enabled")},mapDisable:function(){return this._track("Search Results Map Disabled")},pageView:function(){return this._track("_trackPageview")},agentPhoneContact:function(){return this._track("Agent Phone Contact")},_track:function(t){return dataLayer.push({event:t})}}}.call(this),function(){null==window.REW&&(window.REW={}),REW.VisibilityToggle=function(t){var e,n,i;return n=$(t),i=$(n.data("switchoff")),e=$(n.data("switchon")),n.on("click",function(t){return t.preventDefault(),i.hide(),e.show()})}}.call(this),function(){null==window.REW&&(window.REW={}),REW.VisibleStateToggle=function(){function t(){}return t.setState=function(t,e,n,i){var o;return o={visible:n,id:t,_method:"PUT"},$.post(e,o,i,"json")},t}(),$(function(){return $("[data-visibletoggle]").on("change",function(){var t,e,n,i;return t=$(this),e=t.data("id"),n=t.data("url"),i=t.prop("checked")?!0:!1,t.hide().siblings("img.ajaxloader").show(),REW.VisibleStateToggle.setState(e,n,i,function(){return t.show().siblings("img.ajaxloader").hide()})})})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)
}};null==window.REW&&(window.REW={}),REW.Walkscore=function(){function e(e){this.url=e,this.score=t(this.score,this)}return e.prototype.score=function(t,e,n){return $.getJSON(this.url,{latitude:t,longitude:e,address:n},function(t){return console.log(t)})},e}()}.call(this),function(){null==window.REW&&(window.REW={}),REW.Yelp=function(){function t(t){this.url=t}return t.prototype.search=function(t,e,n,i){var o;return o={term:t,latitude:e,longitude:n},$.getJSON(this.url,o,function(t){return i(t)}).error(function(){return console.log(arguments)})},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==window.REW&&(window.REW={}),REW.YouTubePlayer=function(){function e(e){this._onPlayerStateChange=t(this._onPlayerStateChange,this),this._setupPlayer=t(this._setupPlayer,this),this.$el=$(e),this.$video=this.$el.find(".youtube-video"),this.youtubeContainerId=this.$video.attr("id"),this.youtubeId=this.$video.data("youtube-id"),this.$trigger=this.$el.find(".youtube-trigger"),this.$trigger.on("click",function(t){return function(){return t.playVideo()}}(this)),this._addYouTubeScriptTag(),window.onYouTubeIframeAPIReady=this._setupPlayer}return e.prototype.player=null,e.prototype._addYouTubeScriptTag=function(){var t,e;return e=document.createElement("script"),e.src="https://www.youtube.com/iframe_api",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)},e.prototype._setupPlayer=function(){return this.player=new YT.Player(this.youtubeContainerId,{height:"289",width:"515",videoId:this.youtubeId,events:{onStateChange:this._onPlayerStateChange}})},e.prototype._onPlayerStateChange=function(t){return 0===t.data?this._hideVideo():void 0},e.prototype.playVideo=function(){return this.player.playVideo(),this._showVideo()},e.prototype.stopVideo=function(){return this._hideVideo(),this.player.stopVideo()},e.prototype._showVideo=function(){return this.$trigger.hide(),this._getVideo().show()},e.prototype._hideVideo=function(){return this.$trigger.show(),this._getVideo().hide()},e.prototype._getVideo=function(){return $("#"+this.youtubeContainerId)},e}(),$(function(){return $("[data-youtube]").each(function(){return new REW.YouTubePlayer(this)})})}.call(this),function(){$(function(){var t,e,n;return $(".banner").on("click","#loginLink",function(t){return t.preventDefault(),REW.LoginHandler.loginAndProcess(function(t){return t&&t!==window.location.href?window.location=t:void 0},"#login")}),$(".registrationform").on("click",".registrationform-toggle",function(t){var e;return t.preventDefault(),e=$($(this).data("target")),$(".registrationform-tabs, #password").hide(),e.show(),$("#loginForm header h3").html(e.data("title"))}),t=new REW.AjaxFormSubmitter("#login form",{onBeforeSend:function(){return $("#login .alert").hide()},onSuccess:function(t){var e;return e=t.redirect,window.location=e},onError:function(t){return $("#login .registrationform-errors").html(t).show()}}),e=new REW.AjaxFormSubmitter("#password form",{onBeforeSend:function(){return $("#password .alert").hide()},onSuccess:function(){var t;return t=$("#password .registrationform-success").html(),new REW.Notification("success",t),$("#loginForm").modal("hide")},onError:function(){return $("#password .registrationform-errors").show()}}),n=new REW.AjaxFormSubmitter("#sign_up form",{onBeforeSend:function(){var t;return t=$("#sign_up form"),t.find(".alert").hide(),t.find(".help-block").remove(),t.find(".error").removeClass("error")},onSuccess:function(t){return REW.logged_in=t,REW.Tracking.userSignup(),$(".banner-nav").load("/navigation/show"),$("#loginForm").modal("hide")},onError:function(t,e){var n,i,o,r,a,s,l,u,h,c;i=$("#sign_up form"),h=e.errors,c=[];for(s in h){for(a=h[s],n=i.find('[name="user['+s+']"]'),o=$('<div class="help-block"><ul class="unstyled"></ul></div>'),l=0,u=a.length;u>l;l++)r=a[l],o.find("ul").append("<li>"+r+"</li>");c.push(n.parents(".control-group").addClass("error").append(o))}return c}}),$("#loginForm").on("show",function(){return $(this).find(".alert").hide(),$("#password").hide(),$("#loginForm .registrationform-tabs").show()}),$('#loginForm .nav-tabs a[data-toggle="tab"]').on("shown",function(t){var e,n;return e=$(t.target),$("#loginForm header h3").html(e.html()),n=e.data("blurb"),$("#loginForm .registrationform-blurb").html(n)}),$("[data-modaltabselector-target]").on("click",function(t){var e;return t.preventDefault,e=$(this),REW.ModalTabSelector(e.data("modaltabselector-target"),e.data("modaltabselector-tab"))})})}.call(this),function(){}.call(this);